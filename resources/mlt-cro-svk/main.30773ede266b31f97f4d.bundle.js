webpackJsonp([1],{0:function(e,t,n){e.exports=n("cDNt")},cDNt:function(e,t,n){"use strict";function i(e){return Jt._38(0,[Jt._29(null,0)],null,null)}function o(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,1,"qrk-svg",[],null,null,null,i,Jn)),Jt._15(1,49152,null,0,Qn,[an,Jt.O,Jt.o],null,null)],null,null)}function r(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Jt._36(1,null,["",""]))],null,function(e,t){e(t,1,0,t.component.summary)})}function l(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,4,"div",[["id","fullscr"]],[[8,"title",0]],[[null,"click"]],function(e,t,n){var i=!0,o=e.component;if("click"===t){i=!1!==o.toggleFullScreen()&&i}return i},null,null)),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._17(2,0,null,null,1,"qrk-svg",[],null,null,null,i,Jn)),Jt._15(3,49152,null,0,Qn,[an,Jt.O,Jt.o],{svg:[0,"svg"]},null),(e()(),Jt._36(-1,null,["\n  "]))],function(e,t){e(t,3,0,t.component.fullScreen)},function(e,t){e(t,0,0,t.component.fullScreenTooltip)})}function s(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,2,"button",[["id","get-app"]],null,[[null,"click"]],function(e,t,n){var i=!0,o=e.component;if("click"===t){i=!1!==o.getApp()&&i}return i},null,null)),(e()(),Jt._36(1,null,["\n    ","\n  "])),Jt._31(0,ei,[Fn])],null,function(e,t){e(t,1,0,Jt._37(t,1,0,Jt._30(t,2).transform("downloadApp")))})}function a(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,2,"a",[["href","javascript:;"],["id","login-button"]],null,[[null,"click"]],function(e,t,n){var i=!0,o=e.component;if("click"===t){i=!1!==o.login(n)&&i}return i},null,null)),(e()(),Jt._36(1,null,["\n        ","\n      "])),Jt._31(0,ei,[Fn])],null,function(e,t){var n=t.component;e(t,1,0,Jt._37(t,1,0,Jt._30(t,2).transform(n.loginLabel)))})}function u(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,2,"a",[["id","subscribe-button"],["target","_blank"]],[[8,"href",4]],null,null,null,null)),(e()(),Jt._36(1,null,["\n        ","\n      "])),Jt._31(0,ei,[Fn])],null,function(e,t){var n=t.component;e(t,0,0,n.subscribeUrl),e(t,1,0,Jt._37(t,1,0,Jt._30(t,2).transform(n.subscribeLabel)))})}function c(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,7,"span",[],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n      "])),(e()(),Jt._11(16777216,null,null,1,null,a)),Jt._15(3,16384,null,0,nn.i,[Jt._0,Jt.X],{ngIf:[0,"ngIf"]},null),(e()(),Jt._36(-1,null,["\n      "])),(e()(),Jt._11(16777216,null,null,1,null,u)),Jt._15(6,16384,null,0,nn.i,[Jt._0,Jt.X],{ngIf:[0,"ngIf"]},null),(e()(),Jt._36(-1,null,["\n    "]))],function(e,t){var n=t.component;e(t,3,0,n.issueLevelAuth),e(t,6,0,""!==n.subscribeUrl&&n.issueLevelAuth)},null)}function h(e){return Jt._38(0,[(e()(),Jt._36(-1,null,["\n      "])),(e()(),Jt._17(1,0,null,null,5,"p",[],null,null,null,null,null)),(e()(),Jt._36(2,null,["\n        ","\n        "])),Jt._31(0,ei,[Fn]),(e()(),Jt._17(4,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),Jt._36(5,null,["\n          ","\n        "])),(e()(),Jt._36(-1,null,["\n      "])),(e()(),Jt._36(-1,null,["\n      "])),(e()(),Jt._17(8,0,null,null,2,"a",[["href","javascript:;"],["id","logout-button"]],null,[[null,"click"]],function(e,t,n){var i=!0,o=e.component;if("click"===t){i=!1!==o.logout(n)&&i}return i},null,null)),(e()(),Jt._36(9,null,["\n        ","\n      "])),Jt._31(0,ei,[Fn]),(e()(),Jt._36(-1,null,["\n    "]))],null,function(e,t){var n=t.component;e(t,2,0,Jt._37(t,2,0,Jt._30(t,3).transform("logged-in"))),e(t,5,0,n.username),e(t,9,0,Jt._37(t,9,0,Jt._30(t,10).transform(n.logOutLabel)))})}function p(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,7,"div",[["class","store-greeting"]],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._17(2,0,null,null,1,"h1",[["class","tight"]],null,null,null,null,null)),(e()(),Jt._36(3,null,[" ",""])),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._11(16777216,null,null,1,null,r)),Jt._15(6,16384,null,0,nn.i,[Jt._0,Jt.X],{ngIf:[0,"ngIf"]},null),(e()(),Jt._36(-1,null,["\n"])),(e()(),Jt._36(-1,null,["\n"])),(e()(),Jt._17(9,0,null,null,15,"div",[["class","store-tools"]],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._11(16777216,null,null,1,null,l)),Jt._15(12,16384,null,0,nn.i,[Jt._0,Jt.X],{ngIf:[0,"ngIf"]},null),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._11(16777216,null,null,1,null,s)),Jt._15(15,16384,null,0,nn.i,[Jt._0,Jt.X],{ngIf:[0,"ngIf"]},null),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._17(17,0,null,null,6,"div",[["class","actions"]],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._11(16777216,null,null,1,null,c)),Jt._15(20,16384,null,0,nn.i,[Jt._0,Jt.X],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._11(0,[["loggedIn",2]],null,0,null,h)),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._36(-1,null,["\n"])),(e()(),Jt._36(-1,null,["\n"]))],function(e,t){var n=t.component;e(t,6,0,n.summary),e(t,12,0,n.showFullScreenButton),e(t,15,0,n.isAppLinkAvailable),e(t,20,0,!n.username,Jt._30(t,22))},function(e,t){e(t,3,0,t.component.greeting)})}function d(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,1,"qrk-store-header",[],null,null,null,p,oi)),Jt._15(1,245760,null,0,ni,[Vn,Un,Pn,Fn,ti,hn],null,null)],function(e,t){e(t,1,0)},null)}function g(e){return Jt._38(0,[(e()(),Jt._11(0,null,null,0))],null,null)}function v(e){return Jt._38(0,[(e()(),Jt._11(0,null,null,0))],null,null)}function f(e){return Jt._38(0,[(e()(),Jt._11(0,null,null,0))],null,null)}function b(e){return Jt._38(0,[Jt._34(402653184,1,{bannerRef:0}),Jt._34(402653184,2,{promoteRef:0}),Jt._34(402653184,3,{standardIssuesListRef:0}),(e()(),Jt._17(3,0,null,null,3,"section",[["class","promotedIssue"]],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._11(16777216,[[2,3],["promote",2]],null,0,null,g)),(e()(),Jt._36(-1,null,["\n"])),(e()(),Jt._36(-1,null,["\n\n"])),(e()(),Jt._17(8,0,null,null,3,"section",[["class","externalBanner"]],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._11(16777216,[[1,3],["banner",2]],null,0,null,v)),(e()(),Jt._36(-1,null,["\n"])),(e()(),Jt._36(-1,null,["\n\n"])),(e()(),Jt._17(13,0,null,null,6,"section",[["class","standardIssue"]],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._17(15,0,null,null,3,"div",[["class","issueContainer"]],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._11(16777216,[[3,3],["standardIssuesList",2]],null,0,null,f)),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._36(-1,null,["\n"])),(e()(),Jt._36(-1,null,["\n\n"])),(e()(),Jt._17(21,0,null,null,3,"div",[["class","more store-loader"]],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._17(23,0,null,null,0,"img",[["alt","images/spinner.gif"],["src","images/spinner.gif"]],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n"])),(e()(),Jt._36(-1,null,["\n"]))],null,null)}function m(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,1,"qrk-store-grid",[],null,null,null,b,pi)),Jt._15(1,1294336,null,0,ci,[Jt.l,Gn,Un,hn,Jt.o],null,null)],function(e,t){e(t,1,0)},null)}function y(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,3,"small",[],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n  Powered by\n  "])),(e()(),Jt._17(2,0,null,null,0,"span",[["class","appstudio-logo"],["style",'background-image: url("images/loading-logo.png");']],null,null,null,null,null)),(e()(),Jt._36(3,null,["\n  Version "," "," ","\n"])),(e()(),Jt._36(-1,null,["\n"]))],null,function(e,t){var n=t.component;e(t,3,0,n.version,n.branch,n.buildNumber)})}function _(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,1,"qrk-store-footer",[],[[1,"title",0]],null,null,y,fi)),Jt._15(1,114688,null,0,gi,[],null,null)],function(e,t){e(t,1,0)},function(e,t){e(t,0,0,Jt._30(t,1).timestamp)})}function w(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,1,"qrk-store-header",[],null,null,null,p,oi)),Jt._15(1,245760,null,0,ni,[Vn,Un,Pn,Fn,ti,hn],null,null),(e()(),Jt._36(-1,null,["\n"])),(e()(),Jt._17(3,0,null,null,1,"qrk-store-grid",[],null,null,null,b,pi)),Jt._15(4,1294336,null,0,ci,[Jt.l,Gn,Un,hn,Jt.o],null,null),(e()(),Jt._36(-1,null,["\n"])),(e()(),Jt._17(6,0,null,null,1,"qrk-store-footer",[],[[1,"title",0]],null,null,y,fi)),Jt._15(7,114688,null,0,gi,[],null,null),(e()(),Jt._36(-1,null,["\n"]))],function(e,t){e(t,1,0),e(t,4,0),e(t,7,0)},function(e,t){e(t,6,0,Jt._30(t,7).timestamp)})}function S(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,1,"qrk-store",[],[[1,"id",0],[2,"landscape",null],[2,"portrait",null]],null,null,w,yi)),Jt._15(1,245760,null,0,bi,[hn,En,Un,Hn],null,null)],function(e,t){e(t,1,0)},function(e,t){e(t,0,0,Jt._30(t,1).id,Jt._30(t,1).landscape,Jt._30(t,1).portrait)})}function E(e){return Jt._38(0,[(e()(),Jt._11(0,null,null,0))],null,null)}function C(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,3,"div",[["class","right-arrow-container arrow-container"]],null,[[null,"tap"],[null,"click"]],function(e,t,n){var i=!0,o=e.component;if("tap"===t){i=!1!==o.stopPropagation(n)&&i}if("click"===t){i=!1!==o._nextPageHandler(n)&&i}return i},null,null)),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._17(2,0,null,null,0,"div",[["class","right-arrow arrow"]],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n  "]))],null,null)}function P(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,3,"div",[["class","left-arrow-container arrow-container"]],null,[[null,"tap"],[null,"click"]],function(e,t,n){var i=!0,o=e.component;if("tap"===t){i=!1!==o.stopPropagation(n)&&i}if("click"===t){i=!1!==o._previousPageHandler(n)&&i}return i},null,null)),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._17(2,0,null,null,0,"div",[["class","left-arrow arrow"]],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n  "]))],null,null)}function O(e){return Jt._38(0,[Jt._34(402653184,1,{dynamicContainer:0}),(e()(),Jt._17(1,0,null,null,12,"div",[["class","wrapper"]],null,[[null,"swipeleft"],[null,"swiperight"],[null,"tap"],[null,"click"]],function(e,t,n){var i=!0,o=e.component;if("swipeleft"===t){i=!1!==o.swipeLeft(n)&&i}if("swiperight"===t){i=!1!==o.swipeRight(n)&&i}if("tap"===t){i=!1!==o.onTap(n)&&i}if("click"===t){i=!1!==o.onClick(n)&&i}return i},null,null)),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._17(3,0,null,null,3,"div",[["id","contentWrapper"]],[[4,"margin-top",null]],null,null,null,null)),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._11(16777216,[[1,3],["dynamicContainer",2]],null,0,null,E)),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._11(16777216,null,null,1,null,C)),Jt._15(9,16384,null,0,nn.i,[Jt._0,Jt.X],{ngIf:[0,"ngIf"]},null),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._11(16777216,null,null,1,null,P)),Jt._15(12,16384,null,0,nn.i,[Jt._0,Jt.X],{ngIf:[0,"ngIf"]},null),(e()(),Jt._36(-1,null,["\n"])),(e()(),Jt._36(-1,null,["\n"]))],function(e,t){var n=t.component;e(t,9,0,n._showArrows&&!n.isLastPage()),e(t,12,0,n._showArrows&&!n.isFirstPage())},function(e,t){e(t,3,0,t.component._marginTop)})}function k(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,1,"qrk-reader-page-list",[],null,null,null,O,Di)),Jt._15(1,6012928,null,0,Li,[Rn,Vn,Pn,En,Cn,Ei,ki,hn,Pi,Un,Si,Jt.l],null,null)],function(e,t){e(t,1,0)},null)}function T(e){return Jt._38(0,[(e()(),Jt._11(0,null,null,0))],null,null)}function M(e){return Jt._38(0,[Jt._34(402653184,1,{dynamicContainer:0}),(e()(),Jt._11(16777216,[[1,3],["dynamicContainer",2]],null,0,null,T))],null,null)}function I(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,1,"qrk-toolbar",[],[[2,"toolbar",null]],null,null,M,vo)),Jt._15(1,245760,null,0,po,[hn,Jt.o,Si,ti,Ri,Un,Jt.l],null,null)],function(e,t){e(t,1,0)},function(e,t){e(t,0,0,!0)})}function x(e){return Jt._38(0,[(e()(),Jt._11(0,null,null,0))],null,null)}function A(e){return Jt._38(0,[(e()(),Jt._11(0,null,null,0))],null,null)}function L(e){return Jt._38(0,[Jt._34(402653184,1,{toc:0}),Jt._34(402653184,2,{banner:0}),(e()(),Jt._11(16777216,[[2,3],["banner",2]],null,0,null,x)),(e()(),Jt._36(-1,null,["\n"])),(e()(),Jt._11(16777216,[[1,3],["toc",2]],null,0,null,A)),(e()(),Jt._36(-1,null,["\n"]))],null,null)}function N(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,1,"qrk-toc",[],[[2,"open",null]],null,null,L,Po)),Jt._15(1,180224,null,0,Eo,[$i,Fn,Si,Jt.l,Pi,Ri,Jt.o,En,hn],null,null)],null,function(e,t){e(t,0,0,Jt._30(t,1).open)})}function D(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,10,"div",[["id","loaderScreen"]],[[24,"@loaderAnimation",0],[4,"backgroundColor",null]],null,null,null,null)),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._17(2,0,null,null,7,"div",[["id","loadingLogo"]],[[4,"display",null]],null,null,null,null)),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._17(4,0,null,null,0,"img",[["id","loadingImage"]],[[4,"opacity",null],[8,"src",4]],[[null,"load"],[null,"error"]],function(e,t,n){var i=!0,o=e.component;if("load"===t){i=!1!==o.onLoad(n)&&i}if("error"===t){i=!1!==o.onError()&&i}return i},null,null)),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._17(6,0,null,null,2,"div",[],[[4,"color",null]],null,null,null,null)),(e()(),Jt._36(7,null,["",""])),Jt._31(0,ei,[Fn]),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._36(-1,null,["\n"])),(e()(),Jt._36(-1,null,["\n"]))],null,function(e,t){var n=t.component;e(t,0,0,n.loaderAnimation,n.loadingBackgroundColor),e(t,2,0,n.loaderDisplay),e(t,4,0,n.imageOpacity,n.loaderImageSrc),e(t,6,0,n.loadingMessageColor),e(t,7,0,Jt._37(t,7,0,Jt._30(t,8).transform("loading-message-loading")))})}function F(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,1,"qrk-loader",[],null,null,null,D,Io)),Jt._15(1,245760,null,0,To,[hn,ko],null,null)],function(e,t){e(t,1,0)},null)}function R(e){return Jt._38(0,[(e()(),Jt._11(0,null,null,0))],null,null)}function H(e){return Jt._38(0,[Jt._34(402653184,1,{dynamicContainer:0}),(e()(),Jt._11(16777216,[[1,3],["dynamicContainer",2]],null,0,null,R))],null,null)}function z(e){return Jt._38(0,[(e()(),Jt._17(0,16777216,null,null,1,"qrk-modal-view",[],null,null,null,H,Ro)),Jt._15(1,245760,null,0,Do,[ki,Jt._0,Jt.l],null,null)],function(e,t){e(t,1,0)},null)}function V(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,44,null,null,null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._17(2,0,null,null,10,"div",[["class","play-button-surround"]],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._17(4,0,null,null,7,"div",[["class","play-button"]],null,[[null,"click"]],function(e,t,n){var i=!0,o=e.component;if("click"===t){i=!1!==o.clickPlay()&&i}return i},null,null)),(e()(),Jt._36(-1,null,["\n      "])),(e()(),Jt._17(6,0,null,null,4,"div",[["class","play-glyph"]],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n        "])),(e()(),Jt._17(8,0,null,null,1,"qrk-svg",[],null,null,null,i,Jn)),Jt._15(9,49152,null,0,Qn,[an,Jt.O,Jt.o],{svg:[0,"svg"]},null),(e()(),Jt._36(-1,null,["\n      "])),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._17(14,0,null,null,29,"div",[["class","controls tooltip clearfix"]],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._17(16,0,null,null,6,"div",[["class","prev move-button"]],null,[[null,"click"]],function(e,t,n){var i=!0,o=e.component;if("click"===t){i=!1!==o.clickPrev()&&i}return i},null,null)),Jt._15(17,278528,null,0,nn.h,[Jt.z,Jt.A,Jt.o,Jt.O],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Jt._32(18,{disabled:0}),(e()(),Jt._36(-1,null,["\n      "])),(e()(),Jt._17(20,0,null,null,1,"qrk-svg",[],null,null,null,i,Jn)),Jt._15(21,49152,null,0,Qn,[an,Jt.O,Jt.o],{svg:[0,"svg"]},null),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._17(24,0,null,null,6,"div",[["class","next move-button"]],null,[[null,"click"]],function(e,t,n){var i=!0,o=e.component;if("click"===t){i=!1!==o.clickNext()&&i}return i},null,null)),Jt._15(25,278528,null,0,nn.h,[Jt.z,Jt.A,Jt.o,Jt.O],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Jt._32(26,{disabled:0}),(e()(),Jt._36(-1,null,["\n      "])),(e()(),Jt._17(28,0,null,null,1,"qrk-svg",[],null,null,null,i,Jn)),Jt._15(29,49152,null,0,Qn,[an,Jt.O,Jt.o],{svg:[0,"svg"]},null),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._17(32,0,null,null,7,"div",[["class","scrubber"]],null,[[null,"click"]],function(e,t,n){var i=!0,o=e.component;if("click"===t){i=!1!==o.clickScrubber(n)&&i}return i},null,null)),(e()(),Jt._36(-1,null,["\n      "])),(e()(),Jt._17(34,0,null,null,0,"div",[["class","scrubber-ticks left "]],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n      "])),(e()(),Jt._17(36,0,null,null,0,"div",[["class","scrubber-ticks right "]],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n      "])),(e()(),Jt._17(38,0,null,null,0,"div",[["class","scrubber-handle"]],null,[[null,"mousedown"]],function(e,t,n){var i=!0,o=e.component;if("mousedown"===t){i=!1!==o.scrubberStartMove(n)&&i}return i},null,null)),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._17(41,0,null,null,1,"div",[["class","time"]],null,null,null,null,null)),(e()(),Jt._36(42,null,["\n      "," / ","\n    "])),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._36(-1,null,["\n"]))],function(e,t){var n=t.component;e(t,9,0,n.model.playing?"audio/pause.svg":"audio/play.svg");e(t,17,0,"prev move-button",e(t,18,0,0===n.model.trackNumber));e(t,21,0,"audio/skipbackward.svg");e(t,25,0,"next move-button",e(t,26,0,0===n.audioTracks.length||n.model.trackNumber===n.audioTracks.length-1));e(t,29,0,"audio/skipforward.svg")},function(e,t){var n=t.component;e(t,42,0,n.timeStringFromSeconds(n.model.currentDuration),n.timeStringFromSeconds(n.model.totalDuration))})}function q(e){return Jt._38(0,[(e()(),Jt._11(16777216,null,null,1,null,V)),Jt._15(1,16384,null,0,nn.i,[Jt._0,Jt.X],{ngIf:[0,"ngIf"]},null),(e()(),Jt._36(-1,null,["\n"])),(e()(),Jt._17(3,0,null,null,0,"audio",[["id","globalAudioPlayer"]],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n"]))],function(e,t){e(t,1,0,t.component.isNonTouchEnabledDevice)},null)}function U(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,1,"qrk-global-audio",[],[[2,"show",null]],null,null,q,Uo)),Jt._15(1,245760,null,0,Vo,[Jt.o,ki,hn,Un,Ri,Pi,so],null,null)],function(e,t){e(t,1,0)},function(e,t){e(t,0,0,Jt._30(t,1).show)})}function W(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,2,"qrk-reader-page-list",[],null,null,null,O,Di)),Jt._15(1,6012928,null,0,Li,[Rn,Vn,Pn,En,Cn,Ei,ki,hn,Pi,Un,Si,Jt.l],{pages:[0,"pages"],pageNumber:[1,"pageNumber"],mode:[2,"mode"],spreadView:[3,"spreadView"]},null),(e()(),Jt._36(-1,null,["\n"]))],function(e,t){var n=t.component;e(t,1,0,n.pages,n.pageNumber,n.mode,n.spreadView)},null)}function B(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,1,"qrk-toolbar",[],[[2,"toolbar",null]],null,null,M,vo)),Jt._15(1,245760,null,0,po,[hn,Jt.o,Si,ti,Ri,Un,Jt.l],null,null)],function(e,t){e(t,1,0)},function(e,t){e(t,0,0,!0)})}function j(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,1,"qrk-toc",[],[[2,"open",null]],null,null,L,Po)),Jt._15(1,180224,null,0,Eo,[$i,Fn,Si,Jt.l,Pi,Ri,Jt.o,En,hn],null,null)],null,function(e,t){e(t,0,0,Jt._30(t,1).open)})}function G(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,1,"qrk-loader",[],null,null,null,D,Io)),Jt._15(1,245760,null,0,To,[hn,ko],null,null),(e()(),Jt._36(-1,null,["\n"])),(e()(),Jt._11(16777216,null,null,1,null,W)),Jt._15(4,16384,null,0,nn.i,[Jt._0,Jt.X],{ngIf:[0,"ngIf"]},null),(e()(),Jt._36(-1,null,["\n"])),(e()(),Jt._11(16777216,null,null,1,null,B)),Jt._15(7,16384,null,0,nn.i,[Jt._0,Jt.X],{ngIf:[0,"ngIf"]},null),(e()(),Jt._36(-1,null,["\n"])),(e()(),Jt._11(16777216,null,null,1,null,j)),Jt._15(10,16384,null,0,nn.i,[Jt._0,Jt.X],{ngIf:[0,"ngIf"]},null),(e()(),Jt._36(-1,null,["\n"])),(e()(),Jt._17(12,16777216,null,null,1,"qrk-modal-view",[],null,null,null,H,Ro)),Jt._15(13,245760,null,0,Do,[ki,Jt._0,Jt.l],null,null),(e()(),Jt._36(-1,null,["\n"])),(e()(),Jt._17(15,0,null,null,1,"qrk-global-audio",[],[[2,"show",null]],null,null,q,Uo)),Jt._15(16,245760,null,0,Vo,[Jt.o,ki,hn,Un,Ri,Pi,so],null,null),(e()(),Jt._36(-1,null,["\n"]))],function(e,t){var n=t.component;e(t,1,0),e(t,4,0,n.pages&&n.pageNumber),e(t,7,0,n.toolbarEnabled),e(t,10,0,n.toolbarEnabled&&n.tocEnabled),e(t,13,0),e(t,16,0)},function(e,t){e(t,15,0,Jt._30(t,16).show)})}function X(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,1,"qrk-webreader",[],null,null,null,G,jo)),Jt._15(1,245760,null,0,Wo,[Sn.a,Rn,En,Cn,Pi,hn,Wi,Hn,Gn,jn,ko],null,null)],function(e,t){e(t,1,0)},null)}function Y(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function Z(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,4,"div",[],[[24,"@none",0]],[[null,"@none.done"]],function(e,t,n){var i=!0,o=e.component;if("@none.done"===t){i=!1!==o.animationDone(n)&&i}return i},null,null)),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._11(16777216,null,null,1,null,Y)),Jt._15(3,540672,null,0,nn.m,[Jt._0],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(e()(),Jt._36(-1,null,["\n"]))],function(e,t){e(t,3,0,Jt._30(t.parent,9))},function(e,t){e(t,0,0,t.component.state)})}function K(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function Q(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,4,"div",[],[[24,"@fade",0]],[[null,"@fade.done"]],function(e,t,n){var i=!0,o=e.component;if("@fade.done"===t){i=!1!==o.animationDone(n)&&i}return i},null,null)),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._11(16777216,null,null,1,null,K)),Jt._15(3,540672,null,0,nn.m,[Jt._0],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(e()(),Jt._36(-1,null,["\n"]))],function(e,t){e(t,3,0,Jt._30(t.parent,9))},function(e,t){e(t,0,0,t.component.state)})}function J(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function ee(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,4,"div",[],[[24,"@slide",0]],[[null,"@slide.done"]],function(e,t,n){var i=!0,o=e.component;if("@slide.done"===t){i=!1!==o.animationDone(n)&&i}return i},null,null)),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._11(16777216,null,null,1,null,J)),Jt._15(3,540672,null,0,nn.m,[Jt._0],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(e()(),Jt._36(-1,null,["\n"]))],function(e,t){e(t,3,0,Jt._30(t.parent,9))},function(e,t){e(t,0,0,t.component.state)})}function te(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,1,"iframe",[["allowfullscreen","allowfullscreen"],["data-autoplay","false"],["data-webapp","true"],["frameborder","0"],["scrolling","no"]],[[8,"title",0],[8,"src",5],[8,"width",0],[8,"height",0],[4,"transform",null]],[[null,"load"]],function(e,t,n){var i=!0,o=e.component;if("load"===t){i=!1!==o.iframeLoaded(n)&&i}return i},null,null)),(e()(),Jt._36(-1,null,["\n        "]))],null,function(e,t){var n=t.component;e(t,0,0,n._title,n._pageUrl,n._pageWidth,n._pageHeight,n._wrapperTransform)})}function ne(e){return Jt._38(0,[(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._17(2,0,null,null,4,"div",[["class","iframeWrapper"]],[[4,"width",null],[4,"height",null]],[[null,"tap"]],function(e,t,n){var i=!0,o=e.component;if("tap"===t){i=!1!==o.tap(n)&&i}return i},null,null)),(e()(),Jt._36(-1,null,["\n        "])),(e()(),Jt._11(16777216,null,null,1,null,te)),Jt._15(5,16384,null,0,nn.i,[Jt._0,Jt.X],{ngIf:[0,"ngIf"]},null),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._36(-1,null,["\n"]))],function(e,t){e(t,5,0,t.component._pageUrl)},function(e,t){var n=t.component;e(t,2,0,n._frameWidth,n._frameHeight)})}function ie(e){return Jt._38(0,[(e()(),Jt._11(16777216,null,null,1,null,Z)),Jt._15(1,16384,null,0,nn.i,[Jt._0,Jt.X],{ngIf:[0,"ngIf"]},null),(e()(),Jt._36(-1,null,["\n"])),(e()(),Jt._11(16777216,null,null,1,null,Q)),Jt._15(4,16384,null,0,nn.i,[Jt._0,Jt.X],{ngIf:[0,"ngIf"]},null),(e()(),Jt._36(-1,null,["\n"])),(e()(),Jt._11(16777216,null,null,1,null,ee)),Jt._15(7,16384,null,0,nn.i,[Jt._0,Jt.X],{ngIf:[0,"ngIf"]},null),(e()(),Jt._36(-1,null,["\n      \n"])),(e()(),Jt._11(0,[["page",2]],null,0,null,ne))],function(e,t){var n=t.component;e(t,1,0,"none"===n._transition),e(t,4,0,"fade"===n._transition),e(t,7,0,"slide"===n._transition)},null)}function oe(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,1,"qrk-reader-page",[],[[2,"current",null],[4,"overflow",null],[4,"opacity",null]],null,null,ie,Zo)),Jt._15(1,245760,null,0,Ii,[tn.c,Cn,Hn,hn,ki,Rn,Un,Ti,Jt.o],null,null)],function(e,t){e(t,1,0)},function(e,t){e(t,0,0,Jt._30(t,1).stateClass,Jt._30(t,1).overflow,Jt._30(t,1).opacity)})}function re(e){return Jt._38(0,[(e()(),Jt._11(0,null,null,0))],null,null)}function le(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,4,"button",[],[[8,"className",0],[8,"title",0]],[[null,"click"]],function(e,t,n){var i=!0,o=e.component;if("click"===t){i=!1!==o.onClick(n)&&i}return i},null,null)),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._17(2,0,null,null,1,"qrk-svg",[],null,null,null,i,Jn)),Jt._15(3,49152,null,0,Qn,[an,Jt.O,Jt.o],{svg:[0,"svg"]},null),(e()(),Jt._36(-1,null,["\n"])),(e()(),Jt._36(-1,null,["\n"])),(e()(),Jt._11(0,[["dynamicContainer",2]],null,0,null,re))],function(e,t){e(t,3,0,t.component.svgName)},function(e,t){var n=t.component;e(t,0,0,n.className,n.tooltip)})}function se(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,1,"qrk-full-screen",[],[[2,"fullScreen",null]],null,null,le,$o)),Jt._15(1,245760,null,0,Vi,[hn,Jt.o,ti,Un,Fn],null,null)],function(e,t){e(t,1,0)},function(e,t){e(t,0,0,!0)})}function ae(e){return Jt._38(0,[(e()(),Jt._11(0,null,null,0))],null,null)}function ue(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,4,"button",[],[[8,"className",0],[8,"title",0]],[[null,"click"]],function(e,t,n){var i=!0,o=e.component;if("click"===t){i=!1!==o.onClick(n)&&i}return i},null,null)),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._17(2,0,null,null,1,"qrk-svg",[],null,null,null,i,Jn)),Jt._15(3,49152,null,0,Qn,[an,Jt.O,Jt.o],{svg:[0,"svg"]},null),(e()(),Jt._36(-1,null,["\n"])),(e()(),Jt._36(-1,null,["\n"])),(e()(),Jt._11(0,[["dynamicContainer",2]],null,0,null,ae))],function(e,t){e(t,3,0,t.component.svgName)},function(e,t){var n=t.component;e(t,0,0,n.className,n.tooltip)})}function ce(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,1,"qrk-page-fit",[],[[2,"page-fit",null]],null,null,ue,tr)),Jt._15(1,245760,null,0,ji,[hn,Jt.o,Rn,Ei,Ri,Un,Pi,Wi,Fn],null,null)],function(e,t){e(t,1,0)},function(e,t){e(t,0,0,!0)})}function he(e){return Jt._38(0,[(e()(),Jt._11(0,null,null,0))],null,null)}function pe(e){return Jt._38(0,[(e()(),Jt._11(0,null,null,0))],null,null)}function de(e){return Jt._38(0,[Jt._34(402653184,1,{dynamicContainerTick:0}),Jt._34(402653184,2,{dynamicContainerTimeLine:0}),(e()(),Jt._17(2,0,null,null,22,"div",[["class","scrubber-wrapper"]],null,[[null,"mouseleave"]],function(e,t,n){var i=!0,o=e.component;if("mouseleave"===t){i=!1!==o.onMouseLeave(n)&&i}return i},null,null)),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._17(4,0,null,null,4,"button",[["class","home-button"],["tabindex","-1"]],null,[[null,"click"]],function(e,t,n){var i=!0,o=e.component;if("click"===t){i=!1!==o.onHomeButtonClick()&&i}return i},null,null)),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._17(6,0,null,null,1,"qrk-svg",[],null,null,null,i,Jn)),Jt._15(7,49152,null,0,Qn,[an,Jt.O,Jt.o],{svg:[0,"svg"]},null),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._17(10,0,null,null,8,"div",[["class","scrubber-bar"]],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._17(12,0,null,null,3,"div",[["class","ticks"]],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n      "])),(e()(),Jt._11(16777216,[[1,3],["tick",2]],null,0,null,he)),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._17(17,0,null,null,0,"div",[["class","scrubber-thumb"]],null,[[null,"mousedown"],[null,"touchstart"]],function(e,t,n){var i=!0,o=e.component;if("mousedown"===t){i=!1!==o.onMouseDown(n)&&i}if("touchstart"===t){i=!1!==o.onTouchStart(n)&&i}return i},null,null)),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._17(20,0,null,null,1,"div",[["class","page-numbers"]],null,null,null,null,null)),(e()(),Jt._36(21,null,[""," / ","\n  "])),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._11(16777216,[[2,3],["timeline",2]],null,0,null,pe)),(e()(),Jt._36(-1,null,["\n"])),(e()(),Jt._36(-1,null,["\n"]))],function(e,t){e(t,7,0,t.component.svgName)},function(e,t){var n=t.component;e(t,21,0,n.currentPageIndex,n.totalPages)})}function ge(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,1,"qrk-scrubber",[],[[2,"scrubber",null]],null,null,de,rr)),Jt._15(1,245760,null,0,Qi,[Jt.o,Gi,Jt.l,En,Pi,Un,Rn,hn,Si,Fn],null,null)],function(e,t){e(t,1,0)},function(e,t){e(t,0,0,!0)})}function ve(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,0,"div",[["class","tick"]],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n"]))],null,null)}function fe(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,1,"qrk-tick",[],[[1,"title",0]],[[null,"click"],[null,"mouseover"],[null,"mouseleave"]],function(e,t,n){var i=!0;if("click"===t){i=!1!==Jt._30(e,1).onClick()&&i}if("mouseover"===t){i=!1!==Jt._30(e,1).onMouseOver()&&i}if("mouseleave"===t){i=!1!==Jt._30(e,1).onMouseLeave()&&i}return i},ve,ur)),Jt._15(1,49152,null,0,Ki,[Jt.o,Gi,Un,hn,En],null,null)],null,function(e,t){e(t,0,0,Jt._30(t,1).function)})}function be(e){return Jt._38(0,[(e()(),Jt._11(0,null,null,0))],null,null)}function me(e){return Jt._38(0,[Jt._34(402653184,1,{thumbnailGroup:0}),(e()(),Jt._17(1,0,null,null,3,"div",[["class","scrubber-timeline-list"]],null,[[null,"mousemove"]],function(e,t,n){var i=!0,o=e.component;if("mousemove"===t){i=!1!==o.onMouseMove(n)&&i}return i},null,null)),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._11(16777216,[[1,3],["dynamicContainer",2]],null,0,null,be)),(e()(),Jt._36(-1,null,["\n"])),(e()(),Jt._36(-1,null,["\n"]))],null,null)}function ye(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,1,"qrk-timeline",[],[[2,"show",null],[2,"touch",null],[2,"timeline",null]],null,null,me,dr)),Jt._15(1,180224,null,0,Zi,[Jt.l,Gi,Un,Ri,En,hn,Pi,Si,Jt.o],null,null)],null,function(e,t){e(t,0,0,Jt._30(t,1).show,Jt._30(t,1).touchEnabled,!0)})}function _e(e){return Jt._38(0,[(e()(),Jt._11(0,null,null,0))],null,null)}function we(e){return Jt._38(0,[Jt._34(402653184,1,{thumbnail:0}),(e()(),Jt._17(1,0,null,null,4,"div",[["class","thumbnail-group-title"]],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._17(3,0,null,null,1,"span",[["class","title"]],null,null,null,null,null)),(e()(),Jt._36(4,null,["\n    ","\n  "])),(e()(),Jt._36(-1,null,["\n"])),(e()(),Jt._36(-1,null,["\n"])),(e()(),Jt._17(7,0,null,null,5,"div",[["class","thumbnail-list"]],null,null,null,null,null)),Jt._15(8,278528,null,0,nn.l,[Jt.A,Jt.o,Jt.O],{ngStyle:[0,"ngStyle"]},null),Jt._32(9,{"border-top-color":0}),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._11(16777216,[[1,3],["dynamicContainer",2]],null,0,null,_e)),(e()(),Jt._36(-1,null,["\n"])),(e()(),Jt._36(-1,null,["\n"]))],function(e,t){e(t,8,0,e(t,9,0,t.component.borderColour))},function(e,t){e(t,4,0,t.component.name)})}function Se(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,1,"qrk-timeline-thumbnail-group",[],[[2,"thumbnail-group",null]],null,null,we,br)),Jt._15(1,49152,null,0,Yi,[Jt.l,Cn],null,null)],null,function(e,t){e(t,0,0,!0)})}function Ee(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,0,"img",[],[[8,"src",4],[8,"alt",0]],[[null,"load"],[null,"error"],[null,"click"],[null,"tap"]],function(e,t,n){var i=!0,o=e.component;if("load"===t){i=!1!==o.setFrame(n)&&i}if("error"===t){i=!1!==o.onError(n)&&i}if("click"===t){i=!1!==o.onClick()&&i}if("tap"===t){i=!1!==o.onTap()&&i}return i},null,null)),(e()(),Jt._36(-1,null,["\n"])),(e()(),Jt._17(2,0,null,null,1,"span",[["class","page-title"]],null,null,null,null,null)),(e()(),Jt._36(3,null,["",""])),(e()(),Jt._36(-1,null,["\n"])),(e()(),Jt._17(5,0,null,null,1,"span",[["class","page-index"]],null,null,null,null,null)),(e()(),Jt._36(6,null,["",""])),(e()(),Jt._36(-1,null,["\n"]))],null,function(e,t){var n=t.component;e(t,0,0,n.thumbnailSrc,n.thumbnailSrc),e(t,3,0,n.title),e(t,6,0,n.index)})}function Ce(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,1,"qrk-timeline-thumbnail",[],[[2,"hover",null],[2,"current",null],[1,"index",0]],null,null,Ee,wr)),Jt._15(1,180224,null,0,Xi,[Jt.o,Rn,Pi,hn,En,Gi,Un],null,null)],null,function(e,t){e(t,0,0,Jt._30(t,1).hover,Jt._30(t,1).current,Jt._30(t,1).function)})}function Pe(e){return Jt._38(0,[(e()(),Jt._11(0,null,null,0))],null,null)}function Oe(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,4,"button",[],[[8,"className",0],[8,"title",0]],[[null,"click"]],function(e,t,n){var i=!0,o=e.component;if("click"===t){i=!1!==o.onClick(n)&&i}return i},null,null)),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._17(2,0,null,null,1,"qrk-svg",[],null,null,null,i,Jn)),Jt._15(3,49152,null,0,Qn,[an,Jt.O,Jt.o],{svg:[0,"svg"]},null),(e()(),Jt._36(-1,null,["\n"])),(e()(),Jt._36(-1,null,["\n"])),(e()(),Jt._11(0,[["dynamicContainer",2]],null,0,null,Pe))],function(e,t){e(t,3,0,t.component.svgName)},function(e,t){var n=t.component;e(t,0,0,n.className,n.tooltip)})}function ke(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,1,"qrk-toc-button",[],null,null,null,Oe,Cr)),Jt._15(1,245760,null,0,eo,[hn,$i,Jt.o,Fn],null,null)],function(e,t){e(t,1,0)},null)}function Te(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,4,"div",[],null,[[null,"tap"]],function(e,t,n){var i=!0,o=e.component;if("tap"===t){i=!1!==o.tap(n)&&i}return i},null,null)),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._17(2,0,null,null,1,"iframe",[["data-autoplay","false"],["data-webapp","true"],["frameborder","0"],["scrolling","no"]],[[8,"title",0],[8,"src",5],[8,"width",0],[8,"height",0]],[[null,"load"]],function(e,t,n){var i=!0,o=e.component;if("load"===t){i=!1!==o.iframeLoaded(n)&&i}return i},null,null)),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._36(-1,null,["\n"]))],null,function(e,t){var n=t.component;e(t,2,0,n._title,n._pageUrl,n._pageWidth,n._pageHeight)})}function Me(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,1,"qrk-toc-html",[],[[2,"current",null],[4,"overflow",null],[4,"opacity",null]],null,null,Te,Tr)),Jt._15(1,245760,null,0,wo,[Jt.o,tn.c,Cn,Hn,Rn,ki,Un,hn,Ti,$i],null,null)],function(e,t){e(t,1,0)},function(e,t){e(t,0,0,Jt._30(t,1).stateClass,Jt._30(t,1).overflow,Jt._30(t,1).opacity)})}function Ie(e){return Jt._38(0,[(e()(),Jt._11(0,null,null,0))],null,null)}function xe(e){return Jt._38(0,[Jt._34(402653184,1,{section:0}),(e()(),Jt._11(16777216,[[1,3],["section",2]],null,0,null,Ie))],null,null)}function Ae(e){return Jt._38(0,[(e()(),Jt._17(0,16777216,null,null,1,"qrk-toc-non-html",[],null,null,null,xe,Ar)),Jt._15(1,245760,null,0,yo,[Jt._0,Jt.l,Cn,Hn,$i,Jt.o],null,null)],function(e,t){e(t,1,0)},null)}function Le(e){return Jt._38(0,[(e()(),Jt._11(0,null,null,0))],null,null)}function Ne(e){return Jt._38(0,[Jt._34(402653184,1,{article:0}),(e()(),Jt._17(1,0,null,null,6,"div",[["class","sectionItems"]],[[4,"border-color",null]],null,null,null,null)),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._17(3,0,null,null,1,"button",[["class","sectionHeader"],["translate",""]],null,null,null,null,null)),(e()(),Jt._36(4,null,["",""])),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._11(16777216,[[1,3],["article",2]],null,0,null,Le)),(e()(),Jt._36(-1,null,["\n"])),(e()(),Jt._36(-1,null,["\n"]))],null,function(e,t){var n=t.component;e(t,1,0,n.section.colour),e(t,4,0,n.section.name)})}function De(e){return Jt._38(0,[(e()(),Jt._17(0,16777216,null,null,1,"qrk-toc-section",[],null,null,null,Ne,Fr)),Jt._15(1,114688,null,0,mo,[Jt._0,Jt.l],null,null)],function(e,t){e(t,1,0)},null)}function Fe(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null))],null,function(e,t){e(t,0,0,t.component.image)})}function Re(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,8,"button",[["class","goToArticle"]],[[1,"data-target",0]],[[null,"click"]],function(e,t,n){var i=!0,o=e.component;if("click"===t){i=!1!==o.goToArticle()&&i}return i},null,null)),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._11(16777216,null,null,1,null,Fe)),Jt._15(3,16384,null,0,nn.i,[Jt._0,Jt.X],{ngIf:[0,"ngIf"]},null),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._17(5,0,null,null,0,"span",[["class","articleTitle"]],[[8,"innerHTML",1]],null,null,null,null)),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._17(7,0,null,null,0,"span",[["class","articleDescription"]],[[8,"innerHTML",1]],null,null,null,null)),(e()(),Jt._36(-1,null,["\n"])),(e()(),Jt._36(-1,null,["\n"]))],function(e,t){e(t,3,0,t.component.showImage)},function(e,t){var n=t.component;e(t,0,0,n.index),e(t,5,0,n.title),e(t,7,0,n.description)})}function He(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,1,"qrk-toc-article",[],null,null,null,Re,Vr)),Jt._15(1,8437760,null,0,bo,[hn,Pi,En,Rn,Jt.o],null,null)],null,null)}function ze(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,4,"button",[["tabindex","-1"]],null,[[null,"click"]],function(e,t,n){var i=!0,o=e.component;if("click"===t){i=!1!==o.hideToc()&&i}return i},null,null)),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._17(2,0,null,null,1,"qrk-svg",[["svg","down-arrow.svg"]],null,null,null,i,Jn)),Jt._15(3,49152,null,0,Qn,[an,Jt.O,Jt.o],{svg:[0,"svg"]},null),(e()(),Jt._36(-1,null,["\n"])),(e()(),Jt._36(-1,null,["\n"])),(e()(),Jt._17(6,0,null,null,1,"span",[["id","bannerTitle"]],null,null,null,null,null)),(e()(),Jt._36(7,null,["",""])),(e()(),Jt._36(-1,null,["\n"]))],function(e,t){e(t,3,0,"down-arrow.svg")},function(e,t){e(t,7,0,t.component.title)})}function Ve(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,1,"qrk-toc-banner",[],[[2,"toc-banner",null]],null,null,ze,Br)),Jt._15(1,114688,null,0,So,[Jt.o,$i,Fn],null,null)],function(e,t){e(t,1,0)},function(e,t){e(t,0,0,!0)})}function qe(e){return Jt._38(0,[(e()(),Jt._11(0,null,null,0))],null,null)}function Ue(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,4,"button",[],[[8,"className",0],[8,"title",0]],[[null,"click"]],function(e,t,n){var i=!0,o=e.component;if("click"===t){i=!1!==o.onClick(n)&&i}return i},null,null)),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._17(2,0,null,null,1,"qrk-svg",[],null,null,null,i,Jn)),Jt._15(3,49152,null,0,Qn,[an,Jt.O,Jt.o],{svg:[0,"svg"]},null),(e()(),Jt._36(-1,null,["\n"])),(e()(),Jt._36(-1,null,["\n"])),(e()(),Jt._11(0,[["dynamicContainer",2]],null,0,null,qe))],function(e,t){e(t,3,0,t.component.svgName)},function(e,t){var n=t.component;e(t,0,0,n.className,n.tooltip)})}function We(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,1,"qrk-spread",[],null,null,null,Ue,Xr)),Jt._15(1,245760,null,0,Ui,[hn,Jt.o,Un,Ri,Ei,Rn,Fn],null,null)],function(e,t){e(t,1,0)},null)}function Be(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,22,"div",[["class","modalView"]],[[4,"display",null]],null,null,null,null)),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._17(2,0,null,null,0,"div",[["class","modalBackground"]],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._17(4,0,null,null,17,"div",[["class","dummyContainer"]],null,[[null,"click"],[null,"touchstart"]],function(e,t,n){var i=!0,o=e.component;if("click"===t){i=!1!==o.onClick(n)&&i}if("touchstart"===t){i=!1!==o.onTouch(n)&&i}return i},null,null)),(e()(),Jt._36(-1,null,["\n\t\t"])),(e()(),Jt._17(6,0,null,null,4,"div",[["class","mv-closeButtonHolder"]],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n            "])),(e()(),Jt._17(8,0,null,null,1,"qrk-svg",[["class","mv-close"],["svg","close.svg"]],null,[[null,"click"]],function(e,t,n){var i=!0,o=e.component;if("click"===t){i=!1!==o.removeView()&&i}return i},i,Jn)),Jt._15(9,49152,null,0,Qn,[an,Jt.O,Jt.o],{svg:[0,"svg"]},null),(e()(),Jt._36(-1,null,["\n\t\t"])),(e()(),Jt._36(-1,null,["\n        "])),(e()(),Jt._17(12,0,null,null,8,"div",[["class","popupHolder zoom-widget"]],[[4,"margin",null]],null,null,null,null)),(e()(),Jt._36(-1,null,["\n            "])),(e()(),Jt._17(14,0,null,null,0,"img",[],null,[[null,"load"]],function(e,t,n){var i=!0,o=e.component;if("load"===t){i=!1!==o.onLoad(n)&&i}return i},null,null)),(e()(),Jt._36(-1,null,["\n            "])),(e()(),Jt._17(16,0,null,null,3,"div",[["class","loadingWrapper"]],[[4,"display",null]],null,null,null,null)),(e()(),Jt._36(-1,null,["\n                "])),(e()(),Jt._17(18,0,null,null,0,"div",[["class","loader"]],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n            "])),(e()(),Jt._36(-1,null,["\n        "])),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._36(-1,null,["\n"]))],function(e,t){e(t,9,0,"close.svg")},function(e,t){var n=t.component;e(t,0,0,n.modalViewDisplay),e(t,12,0,n.popupHolderMargin),e(t,16,0,n.loaderDisplay)})}function je(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,1,"qrk-zoomable-image",[],null,null,null,Be,Qr)),Jt._15(1,180224,null,0,Ao,[Jt.o,Un],null,null)],null,null)}function Ge(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,22,"div",[["class","modalView"]],[[4,"display",null]],null,null,null,null)),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._17(2,0,null,null,0,"div",[["class","modalBackground"]],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._17(4,0,null,null,17,"div",[["class","dummyContainer"]],null,[[null,"click"],[null,"touchstart"]],function(e,t,n){var i=!0,o=e.component;if("click"===t){i=!1!==o.onClick(n)&&i}if("touchstart"===t){i=!1!==o.onTouch(n)&&i}return i},null,null)),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._17(6,0,null,null,4,"div",[["class","mv-closeButtonHolder"]],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n        "])),(e()(),Jt._17(8,0,null,null,1,"qrk-svg",[["class","mv-close"],["svg","close.svg"]],null,[[null,"click"]],function(e,t,n){var i=!0,o=e.component;if("click"===t){i=!1!==o.removeView()&&i}return i},i,Jn)),Jt._15(9,49152,null,0,Qn,[an,Jt.O,Jt.o],{svg:[0,"svg"]},null),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._17(12,0,null,null,8,"div",[["class","popupHolder"]],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n      "])),(e()(),Jt._17(14,0,null,null,0,"video",[["controls","true"],["id","modelvideo"]],[[4,"display",null]],null,null,null,null)),(e()(),Jt._36(-1,null,["\n      "])),(e()(),Jt._17(16,0,null,null,3,"div",[["class","loadingWrapper"]],[[4,"display",null]],null,null,null,null)),(e()(),Jt._36(-1,null,["\n        "])),(e()(),Jt._17(18,0,null,null,0,"div",[["class","loader"]],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._36(-1,null,["\n"])),(e()(),Jt._36(-1,null,["\n"]))],function(e,t){e(t,9,0,"close.svg")},function(e,t){var n=t.component;e(t,0,0,n.modalViewDisplay),e(t,14,0,n.videoViewDisplay),e(t,16,0,n.loaderDisplay)})}function Xe(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,1,"qrk-popup-video",[],null,null,null,Ge,tl)),Jt._15(1,180224,null,0,Lo,[Jt.o,Pi,Rn,Ci,Un],null,null)],null,null)}function Ye(e){return Jt._38(0,[(e()(),Jt._11(0,null,null,0))],null,null)}function Ze(e){return Jt._38(0,[Jt._34(402653184,1,{dynamicContainer:0}),(e()(),Jt._17(1,0,null,null,4,"button",[],[[8,"className",0],[8,"title",0]],[[null,"click"]],function(e,t,n){var i=!0,o=e.component;if("click"===t){i=!1!==o.onClick(n)&&i}return i},null,null)),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._17(3,0,null,null,1,"qrk-svg",[],null,null,null,i,Jn)),Jt._15(4,49152,null,0,Qn,[an,Jt.O,Jt.o],{svg:[0,"svg"]},null),(e()(),Jt._36(-1,null,["\n"])),(e()(),Jt._36(-1,null,["\n"])),(e()(),Jt._11(16777216,[[1,3],["dynamicContainer",2]],null,0,null,Ye))],function(e,t){e(t,4,0,t.component.svgName)},function(e,t){var n=t.component;e(t,1,0,n.className,n.tooltip)})}function Ke(e){return Jt._38(0,[(e()(),Jt._17(0,16777216,null,null,1,"qrk-sharing",[],[[2,"active",null]],null,null,Ze,ol)),Jt._15(1,245760,null,0,lo,[Jt.o,hn,Ri,Un,to,Fn,Jt._0,Jt.l],null,null)],function(e,t){e(t,1,0)},function(e,t){e(t,0,0,Jt._30(t,1).open)})}function Qe(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,0,"div",[["class","icon email"],["style","background-image:url(images/sharing/icon_sharing_email.png);"]],null,[[null,"click"]],function(e,t,n){var i=!0,o=e.component;if("click"===t){i=!1!==o.emailShare(o.event)&&i}return i},null,null))],null,null)}function $e(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,0,"div",[["class","icon linkedin"],["style","background-image:url(images/sharing/icon_sharing_linkedin.png);"]],null,[[null,"click"]],function(e,t,n){var i=!0,o=e.component;if("click"===t){i=!1!==o.linkedinShare(o.event)&&i}return i},null,null))],null,null)}function Je(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,0,"div",[["class","icon twitter"],["style","background-image:url(images/sharing/icon_sharing_twitter.png);"]],null,[[null,"click"]],function(e,t,n){var i=!0,o=e.component;if("click"===t){i=!1!==o.twitterShare(o.event)&&i}return i},null,null))],null,null)}function et(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,0,"div",[["class","icon facebook"],["style","background-image:url(images/sharing/icon_sharing_facebook.png);"]],null,[[null,"click"]],function(e,t,n){var i=!0,o=e.component;if("click"===t){i=!1!==o.facebookShare(o.event)&&i}return i},null,null))],null,null)}function tt(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,16,"div",[["style","position:absolute;z-index:1000;"]],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._17(2,0,null,null,13,"div",[["class","sharing_icons"]],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._11(16777216,null,null,1,null,Qe)),Jt._15(5,16384,null,0,nn.i,[Jt._0,Jt.X],{ngIf:[0,"ngIf"]},null),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._11(16777216,null,null,1,null,$e)),Jt._15(8,16384,null,0,nn.i,[Jt._0,Jt.X],{ngIf:[0,"ngIf"]},null),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._11(16777216,null,null,1,null,Je)),Jt._15(11,16384,null,0,nn.i,[Jt._0,Jt.X],{ngIf:[0,"ngIf"]},null),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._11(16777216,null,null,1,null,et)),Jt._15(14,16384,null,0,nn.i,[Jt._0,Jt.X],{ngIf:[0,"ngIf"]},null),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._36(-1,null,["\n"])),(e()(),Jt._36(-1,null,["\n"]))],function(e,t){var n=t.component;e(t,5,0,n.emailShareEnabled),e(t,8,0,n.linkedinShareEnabled),e(t,11,0,n.twitterShareEnabled),e(t,14,0,n.fbShareEnabled)},null)}function nt(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,1,"qrk-sharing-menu",[],null,null,null,tt,al)),Jt._15(1,114688,null,0,oo,[hn,Rn,to,Ri,io,Fn,Hn,Jt.o],null,null)],function(e,t){e(t,1,0)},null)}function it(e){return Jt._38(0,[Jt._34(402653184,1,{agmMap:0}),(e()(),Jt._17(1,0,null,null,32,"div",[["class","modalView"]],[[4,"display",null]],null,null,null,null)),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._17(3,0,null,null,0,"div",[["class","modalBackground"]],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._17(5,0,null,null,27,"div",[["class","dummyContainer"]],null,[[null,"click"],[null,"touchstart"]],function(e,t,n){var i=!0,o=e.component;if("click"===t){i=!1!==o.onClick(n)&&i}if("touchstart"===t){i=!1!==o.onTouch(n)&&i}return i},null,null)),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._17(7,0,null,null,4,"div",[["class","mv-closeButtonHolder"]],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n      "])),(e()(),Jt._17(9,0,null,null,1,"qrk-svg",[["class","mv-close"],["svg","close.svg"]],null,[[null,"click"]],function(e,t,n){var i=!0,o=e.component;if("click"===t){i=!1!==o.removeView()&&i}return i},i,Jn)),Jt._15(10,49152,null,0,Qn,[an,Jt.O,Jt.o],{svg:[0,"svg"]},null),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._17(13,0,null,null,18,"div",[["class","popupHolder"]],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n      "])),(e()(),Jt._17(15,0,null,null,15,"agm-map",[["fullscreenControl","true"],["mapTypeControl","true"]],[[2,"sebm-google-map-container",null]],null,null,hl.b,hl.a)),Jt._33(4608,null,pl.a,pl.a,[dl.a,Jt.H,gl.a]),Jt._33(4608,null,vl.a,vl.a,[dl.a,Jt.H]),Jt._33(4608,null,fl.a,fl.a,[dl.a,Jt.H]),Jt._33(4608,null,bl.a,bl.a,[dl.a,Jt.H]),Jt._33(4608,null,ml.a,ml.a,[dl.a,Jt.H]),Jt._33(4608,null,yl.a,yl.a,[dl.a,Jt.H]),Jt._33(512,null,dl.a,dl.a,[_l.a,Jt.H]),Jt._15(23,770048,[[1,4]],0,wl.a,[Jt.o,dl.a],{longitude:[0,"longitude"],latitude:[1,"latitude"],mapTypeControl:[2,"mapTypeControl"],fullscreenControl:[3,"fullscreenControl"]},null),Jt._33(512,null,gl.a,gl.a,[dl.a,Jt.H]),(e()(),Jt._36(-1,0,["\n        "])),(e()(),Jt._17(26,0,null,0,3,"agm-marker",[],null,null,null,null,null)),Jt._15(27,1720320,null,1,Sl.a,[gl.a],{latitude:[0,"latitude"],longitude:[1,"longitude"]},null),Jt._34(603979776,2,{infoWindow:1}),(e()(),Jt._36(-1,null,["\n        "])),(e()(),Jt._36(-1,0,["\n      "])),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._36(-1,null,["\n"])),(e()(),Jt._36(-1,null,["\n"]))],function(e,t){var n=t.component;e(t,10,0,"close.svg");e(t,23,0,n.lng,n.lat,"true","true"),e(t,27,0,n.lat,n.lng)},function(e,t){e(t,1,0,t.component.modalViewDisplay);e(t,15,0,!0)})}function ot(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,1,"qrk-geolocation",[],null,null,null,it,Cl)),Jt._15(1,180224,null,0,No,[Jt.o,Un],null,null)],null,null)}function rt(e){return Jt._38(0,[(e()(),Jt._11(0,null,null,0))],null,null)}function lt(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,4,"button",[],[[8,"className",0],[8,"title",0]],[[null,"click"]],function(e,t,n){var i=!0,o=e.component;if("click"===t){i=!1!==o.onClick(n)&&i}return i},null,null)),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._17(2,0,null,null,1,"qrk-svg",[],null,null,null,i,Jn)),Jt._15(3,49152,null,0,Qn,[an,Jt.O,Jt.o],{svg:[0,"svg"]},null),(e()(),Jt._36(-1,null,["\n"])),(e()(),Jt._36(-1,null,["\n"])),(e()(),Jt._11(0,[["dynamicContainer",2]],null,0,null,rt))],function(e,t){e(t,3,0,t.component.svgName)},function(e,t){var n=t.component;e(t,0,0,n.className,n.tooltip)})}function st(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,1,"qrk-global-audio-button",[],[[2,"active",null]],null,null,lt,kl)),Jt._15(1,245760,null,0,uo,[Jt.o,hn,Fn,so],null,null)],function(e,t){e(t,1,0)},function(e,t){e(t,0,0,Jt._30(t,1).open)})}function at(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function ut(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,4,"div",[],[[24,"@none",0]],[[null,"@none.done"]],function(e,t,n){var i=!0,o=e.component;if("@none.done"===t){i=!1!==o.animationDone(n)&&i}return i},null,null)),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._11(16777216,null,null,1,null,at)),Jt._15(3,540672,null,0,nn.m,[Jt._0],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(e()(),Jt._36(-1,null,["\n"]))],function(e,t){e(t,3,0,Jt._30(t.parent,9))},function(e,t){e(t,0,0,t.component.state)})}function ct(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function ht(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,4,"div",[],[[24,"@fade",0]],[[null,"@fade.done"]],function(e,t,n){var i=!0,o=e.component;if("@fade.done"===t){i=!1!==o.animationDone(n)&&i}return i},null,null)),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._11(16777216,null,null,1,null,ct)),Jt._15(3,540672,null,0,nn.m,[Jt._0],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(e()(),Jt._36(-1,null,["\n"]))],function(e,t){e(t,3,0,Jt._30(t.parent,9))},function(e,t){e(t,0,0,t.component.state)})}function pt(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function dt(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,4,"div",[],[[24,"@slide",0]],[[null,"@slide.done"]],function(e,t,n){var i=!0,o=e.component;if("@slide.done"===t){i=!1!==o.animationDone(n)&&i}return i},null,null)),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._11(16777216,null,null,1,null,pt)),Jt._15(3,540672,null,0,nn.m,[Jt._0],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(e()(),Jt._36(-1,null,["\n"]))],function(e,t){e(t,3,0,Jt._30(t.parent,9))},function(e,t){e(t,0,0,t.component.state)})}function gt(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,3,"iframe",[["allowfullscreen","allowfullscreen"],["data-autoplay","false"],["data-webapp","true"],["frameborder","0"],["scrolling","no"]],[[8,"title",0],[8,"src",5],[8,"width",0],[8,"height",0],[4,"transform",null]],[[null,"load"]],function(e,t,n){var i=!0,o=e.component;if("load"===t){i=!1!==o.iframeLoaded(n)&&i}return i},null,null)),Jt._15(1,278528,null,0,nn.h,[Jt.z,Jt.A,Jt.o,Jt.O],{ngClass:[0,"ngClass"]},null),Jt._32(2,{rightOfSpine:0}),(e()(),Jt._36(-1,null,["\n        "]))],function(e,t){e(t,1,0,e(t,2,0,t.component.rightOfSpineClass))},function(e,t){var n=t.component;e(t,0,0,n._title,n._pageUrl,n._pageWidth,n._pageHeight,n._wrapperTransform)})}function vt(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,3,"iframe",[["allowfullscreen","allowfullscreen"],["data-autoplay","false"],["data-webapp","true"],["frameborder","0"],["scrolling","no"]],[[8,"title",0],[8,"src",5],[8,"width",0],[8,"height",0],[4,"transform",null]],[[null,"load"]],function(e,t,n){var i=!0,o=e.component;if("load"===t){i=!1!==o.facingIframeLoaded(n)&&i}return i},null,null)),Jt._15(1,278528,null,0,nn.h,[Jt.z,Jt.A,Jt.o,Jt.O],{ngClass:[0,"ngClass"]},null),Jt._32(2,{rightOfSpine:0}),(e()(),Jt._36(-1,null,["\n        "]))],function(e,t){e(t,1,0,e(t,2,0,!t.component.rightOfSpineClass))},function(e,t){var n=t.component;e(t,0,0,n._facingTitle,n.pageUrlFacing,n._pageWidth,n._pageHeight,n._wrapperTransform)})}function ft(e){return Jt._38(0,[(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._17(2,0,null,null,7,"div",[["class","iframeWrapper"]],[[4,"width",null],[4,"height",null]],[[null,"swipeleft"],[null,"swiperight"],[null,"tap"]],function(e,t,n){var i=!0,o=e.component;if("swipeleft"===t){i=!1!==o.swipe(n)&&i}if("swiperight"===t){i=!1!==o.swipe(n)&&i}if("tap"===t){i=!1!==o.tap(n)&&i}return i},null,null)),(e()(),Jt._36(-1,null,["\n        "])),(e()(),Jt._11(16777216,null,null,1,null,gt)),Jt._15(5,16384,null,0,nn.i,[Jt._0,Jt.X],{ngIf:[0,"ngIf"]},null),(e()(),Jt._36(-1,null,["\n        "])),(e()(),Jt._11(16777216,null,null,1,null,vt)),Jt._15(8,16384,null,0,nn.i,[Jt._0,Jt.X],{ngIf:[0,"ngIf"]},null),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._36(-1,null,["\n"]))],function(e,t){var n=t.component;e(t,5,0,n._pageUrl),e(t,8,0,n.pageUrlFacing)},function(e,t){var n=t.component;e(t,2,0,n._frameWidth,n._frameHeight)})}function bt(e){return Jt._38(0,[(e()(),Jt._11(16777216,null,null,1,null,ut)),Jt._15(1,16384,null,0,nn.i,[Jt._0,Jt.X],{ngIf:[0,"ngIf"]},null),(e()(),Jt._36(-1,null,["\n"])),(e()(),Jt._11(16777216,null,null,1,null,ht)),Jt._15(4,16384,null,0,nn.i,[Jt._0,Jt.X],{ngIf:[0,"ngIf"]},null),(e()(),Jt._36(-1,null,["\n"])),(e()(),Jt._11(16777216,null,null,1,null,dt)),Jt._15(7,16384,null,0,nn.i,[Jt._0,Jt.X],{ngIf:[0,"ngIf"]},null),(e()(),Jt._36(-1,null,["\n      \n"])),(e()(),Jt._11(0,[["page",2]],null,0,null,ft))],function(e,t){var n=t.component;e(t,1,0,"none"===n._transition),e(t,4,0,"fade"===n._transition),e(t,7,0,"slide"===n._transition)},null)}function mt(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,1,"qrk-reader-facing-page",[],[[2,"current",null],[4,"overflow",null],[4,"opacity",null]],null,null,bt,xl)),Jt._15(1,245760,null,0,Ai,[Jt.o,tn.c,Cn,Hn,Rn,ki,Un,hn,Ti],null,null)],function(e,t){e(t,1,0)},function(e,t){e(t,0,0,Jt._30(t,1).stateClass,Jt._30(t,1).overflow,Jt._30(t,1).opacity)})}function yt(e){return Jt._38(0,[(e()(),Jt._11(0,null,null,0))],null,null)}function _t(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,4,"button",[],[[8,"className",0],[8,"title",0]],[[null,"click"]],function(e,t,n){var i=!0,o=e.component;if("click"===t){i=!1!==o.onClick(n)&&i}return i},null,null)),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._17(2,0,null,null,1,"qrk-svg",[],null,null,null,i,Jn)),Jt._15(3,49152,null,0,Qn,[an,Jt.O,Jt.o],{svg:[0,"svg"]},null),(e()(),Jt._36(-1,null,["\n"])),(e()(),Jt._36(-1,null,["\n"])),(e()(),Jt._11(0,[["dynamicContainer",2]],null,0,null,yt))],function(e,t){e(t,3,0,t.component.svgName)},function(e,t){var n=t.component;e(t,0,0,n.className,n.tooltip)})}function wt(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,1,"qrk-store-button",[],null,null,null,_t,Nl)),Jt._15(1,114688,null,0,ho,[hn,Jt.o,En,Fn],null,null)],function(e,t){e(t,1,0)},null)}function St(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,3,"div",[["id","banner"]],[[4,"height",null]],null,null,null,null)),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._17(2,0,null,null,0,"iframe",[],[[4,"height",null],[8,"src",5]],null,null,null,null)),(e()(),Jt._36(-1,null,["\n"])),(e()(),Jt._36(-1,null,["\n"]))],null,function(e,t){var n=t.component;e(t,0,0,n.bannerHeight),e(t,2,0,n.bannerHeight,n.safeResourceURL)})}function Et(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,1,"qrk-store-banner",[],null,null,null,St,Hl)),Jt._15(1,49152,null,0,si,[tn.c],null,null)],null,null)}function Ct(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,3,"a",[["class","store-link"]],[[8,"rel",0],[1,"target",0],[8,"href",4]],[[null,"click"]],function(e,t,n){var i=!0;if("click"===t){i=!1!==Jt._30(e,1).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i}return i},null,null)),Jt._15(1,671744,null,0,Sn.l,[Sn.k,Sn.a,nn.g],{routerLink:[0,"routerLink"]},null),(e()(),Jt._36(2,null,["\n      ","\n    "])),Jt._31(0,ei,[Fn])],function(e,t){e(t,1,0,t.component.link)},function(e,t){e(t,0,0,t.component.link,Jt._30(t,1).target,Jt._30(t,1).href),e(t,2,0,Jt._37(t,2,0,Jt._30(t,3).transform("view")))})}function Pt(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,2,"a",[["class","store-link"],["target","_blank"]],[[8,"href",4]],null,null,null,null)),(e()(),Jt._36(1,null,["\n      ","\n    "])),Jt._31(0,ei,[Fn])],null,function(e,t){e(t,0,0,t.component.subscribeUrl),e(t,1,0,Jt._37(t,1,0,Jt._30(t,2).transform("subscribe")))})}function Ot(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,7,"div",[["class","thumbnail"]],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._17(2,0,null,null,4,"a",[["class","image-loader"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(e,t,n){var i=!0;if("click"===t){i=!1!==Jt._30(e,3).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i}return i},null,null)),Jt._15(3,671744,null,0,Sn.l,[Sn.k,Sn.a,nn.g],{routerLink:[0,"routerLink"]},null),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._17(5,0,null,null,0,"img",[],[[8,"alt",0]],null,null,null,null)),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._36(-1,null,["\n"])),(e()(),Jt._36(-1,null,["\n"])),(e()(),Jt._17(9,0,null,null,14,"div",[["class","info"]],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._17(11,0,null,null,2,"a",[["class","h2"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(e,t,n){var i=!0;if("click"===t){i=!1!==Jt._30(e,12).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i}return i},null,null)),Jt._15(12,671744,null,0,Sn.l,[Sn.k,Sn.a,nn.g],{routerLink:[0,"routerLink"]},null),(e()(),Jt._36(13,null,["\n    ","\n  "])),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._17(15,0,null,null,7,"div",[["class","ctrl"]],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._11(16777216,null,null,1,null,Ct)),Jt._15(18,16384,null,0,nn.i,[Jt._0,Jt.X],{ngIf:[0,"ngIf"]},null),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._11(16777216,null,null,1,null,Pt)),Jt._15(21,16384,null,0,nn.i,[Jt._0,Jt.X],{ngIf:[0,"ngIf"]},null),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._36(-1,null,["\n"])),(e()(),Jt._36(-1,null,["\n"]))],function(e,t){var n=t.component;e(t,3,0,n.link),e(t,12,0,n.link),e(t,18,0,n.viewable),e(t,21,0,!n.viewable)},function(e,t){var n=t.component;e(t,2,0,Jt._30(t,3).target,Jt._30(t,3).href),e(t,5,0,n.getImage().src),e(t,11,0,Jt._30(t,12).target,Jt._30(t,12).href),e(t,13,0,n.model.title)})}function kt(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,1,"qrk-store-issue",[],[[2,"issue",null]],null,null,Ot,Ul)),Jt._15(1,180224,null,0,li,[Jt.o,hn,Un,Bn],null,null)],null,function(e,t){e(t,0,0,!0)})}function Tt(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,3,"a",[["class","store-link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(e,t,n){var i=!0;if("click"===t){i=!1!==Jt._30(e,1).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i}return i},null,null)),Jt._15(1,671744,null,0,Sn.l,[Sn.k,Sn.a,nn.g],{routerLink:[0,"routerLink"]},null),(e()(),Jt._36(2,null,["\n        ","\n      "])),Jt._31(0,ei,[Fn])],function(e,t){e(t,1,0,t.component.link)},function(e,t){e(t,0,0,Jt._30(t,1).target,Jt._30(t,1).href),e(t,2,0,Jt._37(t,2,0,Jt._30(t,3).transform("view")))})}function Mt(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,2,"a",[["class","store-link"],["target","_blank"]],[[8,"href",4]],null,null,null,null)),(e()(),Jt._36(1,null,["\n        ","\n      "])),Jt._31(0,ei,[Fn])],null,function(e,t){var n=t.component;e(t,0,0,Jt._20(1,"",n.subscribeUrl,"")),e(t,1,0,Jt._37(t,1,0,Jt._30(t,2).transform("subscribe")))})}function It(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,34,"div",[["class","jumbotron"]],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._17(2,0,null,null,0,"div",[["class","background-container"]],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._17(4,0,null,null,29,"div",[["class","content-container"]],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._17(6,0,null,null,7,"div",[["class","thumbnail"]],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n      "])),(e()(),Jt._17(8,0,null,null,4,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(e,t,n){var i=!0;if("click"===t){i=!1!==Jt._30(e,9).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i}return i},null,null)),Jt._15(9,671744,null,0,Sn.l,[Sn.k,Sn.a,nn.g],{routerLink:[0,"routerLink"]},null),(e()(),Jt._36(-1,null,["\n        "])),(e()(),Jt._17(11,0,null,null,0,"img",[],[[8,"alt",0]],null,null,null,null)),(e()(),Jt._36(-1,null,["\n      "])),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._17(15,0,null,null,17,"div",[["class","info"]],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n      "])),(e()(),Jt._17(17,0,null,null,5,"h2",[],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n        "])),(e()(),Jt._17(19,0,null,null,2,"a",[],[[8,"title",0],[1,"target",0],[8,"href",4]],[[null,"click"]],function(e,t,n){var i=!0;if("click"===t){i=!1!==Jt._30(e,20).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i}return i},null,null)),Jt._15(20,671744,null,0,Sn.l,[Sn.k,Sn.a,nn.g],{routerLink:[0,"routerLink"]},null),(e()(),Jt._36(21,null,["\n          ","\n        "])),(e()(),Jt._36(-1,null,["\n      "])),(e()(),Jt._36(-1,null,["\n      "])),(e()(),Jt._17(24,0,null,null,1,"p",[],[[8,"title",0]],null,null,null,null)),(e()(),Jt._36(25,null,["\n        ","\n      "])),(e()(),Jt._36(-1,null,["\n      "])),(e()(),Jt._11(16777216,null,null,1,null,Tt)),Jt._15(28,16384,null,0,nn.i,[Jt._0,Jt.X],{ngIf:[0,"ngIf"]},null),(e()(),Jt._36(-1,null,["\n      "])),(e()(),Jt._11(16777216,null,null,1,null,Mt)),Jt._15(31,16384,null,0,nn.i,[Jt._0,Jt.X],{ngIf:[0,"ngIf"]},null),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._36(-1,null,["\n"])),(e()(),Jt._36(-1,null,["\n"]))],function(e,t){var n=t.component;e(t,9,0,n.link),e(t,20,0,n.link),e(t,28,0,n.viewable),e(t,31,0,!n.viewable)},function(e,t){var n=t.component;e(t,8,0,Jt._30(t,9).target,Jt._30(t,9).href),e(t,11,0,n.getImage().src),e(t,19,0,Jt._20(1,"",n.model.title,""),Jt._30(t,20).target,Jt._30(t,20).href),e(t,21,0,n.model.title),e(t,24,0,Jt._20(1,"",n.model.description,"")),e(t,25,0,n.model.description)})}function xt(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,1,"qrk-store-promotion",[],[[2,"issue",null]],null,null,It,Gl)),Jt._15(1,180224,null,0,ui,[Jt.o,hn,Un,Bn],null,null)],null,function(e,t){e(t,0,0,!0)})}function At(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,21,"div",[["class","container"],["id","needwebserver"]],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._17(2,0,null,null,18,"div",[["class","info"]],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n        "])),(e()(),Jt._17(4,0,null,null,2,"h1",[],null,null,null,null,null)),(e()(),Jt._36(5,null,["",""])),Jt._31(0,ei,[Fn]),(e()(),Jt._36(-1,null,["\n        "])),(e()(),Jt._17(8,0,null,null,2,"p",[],null,null,null,null,null)),(e()(),Jt._36(9,null,["",""])),Jt._31(0,ei,[Fn]),(e()(),Jt._36(-1,null,["\n        "])),(e()(),Jt._17(12,0,null,null,2,"p",[],null,null,null,null,null)),(e()(),Jt._36(13,null,["",""])),Jt._31(0,ei,[Fn]),(e()(),Jt._36(-1,null,["\n        "])),(e()(),Jt._17(16,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n        "])),(e()(),Jt._17(18,0,null,null,1,"p",[],[[8,"innerHTML",1]],null,null,null,null)),Jt._31(0,ei,[Fn]),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._36(-1,null,["\n"]))],null,function(e,t){var n=t.component;e(t,5,0,Jt._37(t,5,0,Jt._30(t,6).transform("non-supported-browser-title"))),e(t,9,0,Jt._37(t,9,0,Jt._30(t,10).transform("webserver-loading"))),e(t,13,0,Jt._37(t,13,0,Jt._30(t,14).transform("webserver-hosting"))),e(t,18,0,Jt._37(t,18,0,Jt._30(t,19).transform(n.webserverGuide)))})}function Lt(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,1,"qrk-webserver",[],null,null,null,At,Ql)),Jt._15(1,49152,null,0,Zl,[],null,null)],null,null)}function Nt(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,69,"div",[["class","container"],["id","unsupported"]],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n\n  "])),(e()(),Jt._17(2,0,null,null,13,"div",[["class","info"]],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._17(4,0,null,null,2,"h1",[],null,null,null,null,null)),(e()(),Jt._36(5,null,["",""])),Jt._31(0,ei,[Fn]),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._17(8,0,null,null,2,"p",[],null,null,null,null,null)),(e()(),Jt._36(9,null,["",""])),Jt._31(0,ei,[Fn]),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._17(12,0,null,null,2,"p",[],null,null,null,null,null)),(e()(),Jt._36(13,null,["",""])),Jt._31(0,ei,[Fn]),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._36(-1,null,["\n\n  "])),(e()(),Jt._17(17,0,null,null,41,"div",[],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._17(19,0,null,null,6,"a",[["class","browser"],["href","http://www.google.com/chrome"]],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n      "])),(e()(),Jt._17(21,0,null,null,0,"img",[["alt","Chrome"],["src","images/browsers/64-chrome.png"]],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n      "])),(e()(),Jt._17(23,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Jt._36(-1,null,["Chrome"])),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._17(27,0,null,null,6,"a",[["class","browser"],["href","http://www.apple.com/uk/safari/"]],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n      "])),(e()(),Jt._17(29,0,null,null,0,"img",[["alt","Safari"],["src","images/browsers/64-safari.png"]],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n      "])),(e()(),Jt._17(31,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Jt._36(-1,null,["Safari"])),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._17(35,0,null,null,6,"a",[["class","browser"],["href","https://www.microsoft.com/en-in/windows/microsoft-edge"]],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n      "])),(e()(),Jt._17(37,0,null,null,0,"img",[["alt","Edge"],["src","images/browsers/64-edge.png"]],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n      "])),(e()(),Jt._17(39,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Jt._36(-1,null,["Edge"])),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._17(43,0,null,null,6,"a",[["class","browser"],["href","http://getfirefox.com"]],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n      "])),(e()(),Jt._17(45,0,null,null,0,"img",[["alt","Firefox"],["src","images/browsers/64-firefox.png"]],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n      "])),(e()(),Jt._17(47,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Jt._36(-1,null,["Firefox 25+"])),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._17(51,0,null,null,6,"a",[["class","browser"],["href","https://www.opera.com/download"]],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n      "])),(e()(),Jt._17(53,0,null,null,0,"img",[["alt","Opera"],["src","images/browsers/64-opera.png"]],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n      "])),(e()(),Jt._17(55,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Jt._36(-1,null,["Opera"])),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._17(60,0,null,null,8,"div",[["class","load"]],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._17(62,0,null,null,5,"a",[],null,[[null,"click"]],function(e,t,n){var i=!0,o=e.component;if("click"===t){i=!1!==o.loadApp()&&i}return i},null,null)),(e()(),Jt._36(-1,null,["\n      "])),(e()(),Jt._17(64,0,null,null,2,"p",[],null,null,null,null,null)),(e()(),Jt._36(65,null,["",""])),Jt._31(0,ei,[Fn]),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._36(-1,null,["\n"])),(e()(),Jt._36(-1,null,["\n"]))],null,function(e,t){e(t,5,0,Jt._37(t,5,0,Jt._30(t,6).transform("non-supported-browser-title"))),e(t,9,0,Jt._37(t,9,0,Jt._30(t,10).transform("non-supported-browser-info"))),e(t,13,0,Jt._37(t,13,0,Jt._30(t,14).transform("browser-recommendation"))),e(t,65,0,Jt._37(t,65,0,Jt._30(t,66).transform("continue")))})}function Dt(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,1,"qrk-browser-support",[],null,null,null,Nt,ts)),Jt._15(1,49152,null,0,Jl,[Xn],null,null)],null,null)}function Ft(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,1,"button",[["class","cookieConsentButton"]],null,[[null,"click"]],function(e,t,n){var i=!0,o=e.component;if("click"===t){i=!1!==o.openLink()&&i}return i},null,null)),(e()(),Jt._36(1,null,["\n  ","\n"]))],null,function(e,t){e(t,1,0,t.component.consentLinkText)})}function Rt(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,0,"div",[["class","cookieConsentMessage"]],[[8,"innerHTML",1]],null,null,null,null)),(e()(),Jt._36(-1,null,["\n"])),(e()(),Jt._11(16777216,null,null,1,null,Ft)),Jt._15(3,16384,null,0,nn.i,[Jt._0,Jt.X],{ngIf:[0,"ngIf"]},null),(e()(),Jt._36(-1,null,["\n"])),(e()(),Jt._17(5,0,null,null,1,"button",[["class","cookieConsentButton"]],null,[[null,"click"]],function(e,t,n){var i=!0,o=e.component;if("click"===t){i=!1!==o.onAccept()&&i}return i},null,null)),(e()(),Jt._36(6,null,["\n  ","\n"])),(e()(),Jt._36(-1,null,["\n"]))],function(e,t){e(t,3,0,t.component.consentLinkText)},function(e,t){var n=t.component;e(t,0,0,n.consentMessage),e(t,6,0,n.consentButtonText)})}function Ht(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,1,"qrk-consent",[],[[2,"visible",null]],null,null,Rt,rs)),Jt._15(1,4308992,null,0,is,[hn,Jt.o,bn,qn],null,null)],function(e,t){e(t,1,0)},function(e,t){e(t,0,0,Jt._30(t,1).visible)})}function zt(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,10,"div",[["id","notifications"]],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._17(2,0,null,null,7,"div",[["id","messageBar"]],[[4,"display",null]],null,null,null,null)),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._17(4,0,null,null,1,"span",[["class","inner-message"]],[[8,"innerHTML",1]],null,null,null,null)),Jt._31(0,ei,[Fn]),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._17(7,0,null,null,1,"span",[["class","close"]],[[4,"display",null]],[[null,"click"]],function(e,t,n){var i=!0,o=e.component;if("click"===t){i=!1!==o.hideNotification()&&i}return i},null,null)),(e()(),Jt._36(-1,null,["\xd7"])),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._36(-1,null,["\n"])),(e()(),Jt._36(-1,null,["\n"]))],null,function(e,t){var n=t.component;e(t,2,0,n.displayMessage),e(t,4,0,Jt._37(t,4,0,Jt._30(t,5).transform(n.message))),e(t,7,0,n.closeButtonDisplay)})}function Vt(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,1,"qrk-notify",[],null,null,null,zt,us)),Jt._15(1,245760,null,0,ss,[jn],null,null)],function(e,t){e(t,1,0)},null)}function qt(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,2,"a",[["class","btn btn-gray pull-right"],["href","javascript:;"],["id","cancel"]],null,[[null,"click"]],function(e,t,n){var i=!0,o=e.component;if("click"===t){i=!1!==o.cancel(n)&&i}return i},null,null)),(e()(),Jt._36(1,null,["\n              ","\n            "])),Jt._31(0,ei,[Fn])],null,function(e,t){e(t,1,0,Jt._37(t,1,0,Jt._30(t,2).transform("cancel")))})}function Ut(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,2,"a",[["class","password-request"],["target","_blank"]],[[8,"href",4]],null,null,null,null)),(e()(),Jt._36(1,null,["\n            ","\n          "])),Jt._31(0,ei,[Fn])],null,function(e,t){e(t,0,0,t.component.config.passwordRequestUrl),e(t,1,0,Jt._37(t,1,0,Jt._30(t,2).transform("password-request")))})}function Wt(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,9,"footer",[["class","surround"]],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n      "])),(e()(),Jt._17(2,0,null,null,2,"h3",[],null,null,null,null,null)),(e()(),Jt._36(3,null,["\n        ","\n      "])),Jt._31(0,ei,[Fn]),(e()(),Jt._36(-1,null,["\n      "])),(e()(),Jt._17(6,0,null,null,2,"a",[["class","btn btn-gray pull-right"],["id","subcribe"],["target","_blank"]],[[8,"href",4]],null,null,null,null)),(e()(),Jt._36(7,null,["\n        ","\n      "])),Jt._31(0,ei,[Fn]),(e()(),Jt._36(-1,null,["\n    "]))],null,function(e,t){var n=t.component;e(t,3,0,Jt._37(t,3,0,Jt._30(t,4).transform(n.issueSubscribeLabel))),e(t,6,0,n.config.subscribeUrl),e(t,7,0,Jt._37(t,7,0,Jt._30(t,8).transform(n.subscribeLabel)))})}function Bt(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,54,"div",[["class","login popup"]],null,null,null,null,null)),Jt._15(1,278528,null,0,nn.h,[Jt.z,Jt.A,Jt.o,Jt.O],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Jt._32(2,{"popup-open":0,waiting:1}),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._17(4,0,null,null,2,"div",[["class","popup-back"]],null,null,null,null,null)),Jt._15(5,278528,null,0,nn.h,[Jt.z,Jt.A,Jt.o,Jt.O],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Jt._32(6,{issue:0}),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._17(8,0,null,null,45,"div",[["class","popup-content"]],null,null,null,null,null)),Jt._15(9,278528,null,0,nn.h,[Jt.z,Jt.A,Jt.o,Jt.O],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Jt._32(10,{show:0}),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._17(12,0,null,null,5,"header",[],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n      "])),(e()(),Jt._17(14,0,null,null,2,"h3",[],null,null,null,null,null)),(e()(),Jt._36(15,null,["",""])),Jt._31(0,ei,[Fn]),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._17(19,0,null,null,30,"section",[["class","main"]],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n      "])),(e()(),Jt._17(21,0,null,null,27,"form",[["id","login-form"]],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n        "])),(e()(),Jt._17(23,0,null,null,3,"p",[["class","error-message"]],null,null,null,null,null)),Jt._15(24,278528,null,0,nn.h,[Jt.z,Jt.A,Jt.o,Jt.O],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Jt._32(25,{show:0}),(e()(),Jt._36(26,null,["",""])),(e()(),Jt._36(-1,null,["\n        "])),(e()(),Jt._17(28,0,null,null,5,"div",[["class","form-container"]],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n          "])),(e()(),Jt._17(30,0,null,null,0,"input",[["autocapitalize","off"],["class","usernamefield"],["name","username"],["type","text"]],[[8,"placeholder",0]],null,null,null,null)),(e()(),Jt._36(-1,null,["\n          "])),(e()(),Jt._17(32,0,null,null,0,"input",[["class","passwordfield"],["name","password"],["type","password"]],[[8,"placeholder",0]],null,null,null,null)),(e()(),Jt._36(-1,null,["\n        "])),(e()(),Jt._36(-1,null,["\n        "])),(e()(),Jt._17(35,0,null,null,12,"footer",[["class","surround"]],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n          "])),(e()(),Jt._17(37,0,null,null,6,"span",[["class"," button-container pull-right"]],null,null,null,null,null)),(e()(),Jt._36(-1,null,["\n            "])),(e()(),Jt._17(39,0,null,null,0,"input",[["class","btn btn-submit pull-right"],["type","submit"]],[[8,"value",0]],[[null,"click"]],function(e,t,n){var i=!0,o=e.component;if("click"===t){i=!1!==o.submit(n)&&i}return i},null,null)),(e()(),Jt._36(-1,null,["\n            "])),(e()(),Jt._11(16777216,null,null,1,null,qt)),Jt._15(42,16384,null,0,nn.i,[Jt._0,Jt.X],{ngIf:[0,"ngIf"]},null),(e()(),Jt._36(-1,null,["\n          "])),(e()(),Jt._36(-1,null,["\n          "])),(e()(),Jt._11(16777216,null,null,1,null,Ut)),Jt._15(46,16384,null,0,nn.i,[Jt._0,Jt.X],{ngIf:[0,"ngIf"]},null),(e()(),Jt._36(-1,null,["\n        "])),(e()(),Jt._36(-1,null,["\n      "])),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._11(16777216,null,null,1,null,Wt)),Jt._15(52,16384,null,0,nn.i,[Jt._0,Jt.X],{ngIf:[0,"ngIf"]},null),(e()(),Jt._36(-1,null,["\n  "])),(e()(),Jt._36(-1,null,["\n"]))],function(e,t){var n=t.component;e(t,1,0,"login popup",e(t,2,0,n.display,n.waiting));e(t,5,0,"popup-back",e(t,6,0,n.issueLogin));e(t,9,0,"popup-content",e(t,10,0,n.show));e(t,24,0,"error-message",e(t,25,0,n.showError)),e(t,42,0,n.issueLevelAuth),e(t,46,0,n.config.passwordRequestUrl),e(t,52,0,n.issueLogin&&n.config.subscribeUrl)},function(e,t){var n=t.component;e(t,15,0,Jt._37(t,15,0,Jt._30(t,16).transform(n.title))),e(t,26,0,n.errorString),e(t,30,0,n.usernameplaceholder),e(t,32,0,n.passwordPlaceholder),e(t,39,0,n.loginLabel)})}function jt(e){return Jt._38(0,[(e()(),Jt._11(16777216,null,null,1,null,Bt)),Jt._15(1,16384,null,0,nn.i,[Jt._0,Jt.X],{ngIf:[0,"ngIf"]},null),(e()(),Jt._36(-1,null,["\n"]))],function(e,t){e(t,1,0,t.component.display)},null)}function Gt(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,1,"qrk-login",[],null,null,null,jt,ds)),Jt._15(1,245760,null,0,hs,[Jt.o,Vn,Pn,En,ko,Un,Fn,hn],null,null)],function(e,t){e(t,1,0)},null)}function Xt(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,1,"qrk-webserver",[],null,null,null,At,Ql)),Jt._15(1,49152,null,0,Zl,[],null,null)],null,null)}function Yt(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,1,"qrk-browser-support",[],null,null,null,Nt,ts)),Jt._15(1,49152,null,0,Jl,[Xn],null,null)],null,null)}function Zt(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,1,"qrk-consent",[],[[2,"visible",null]],null,null,Rt,rs)),Jt._15(1,4308992,null,0,is,[hn,Jt.o,bn,qn],null,null)],function(e,t){e(t,1,0)},function(e,t){e(t,0,0,Jt._30(t,1).visible)})}function Kt(e){return Jt._38(0,[(e()(),Jt._17(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),Jt._15(1,212992,null,0,Sn.n,[Sn.b,Jt._0,Jt.l,[8,null],Jt.i],null,null),(e()(),Jt._11(0,null,null,0))],function(e,t){e(t,1,0)},null)}function Qt(e){return Jt._38(0,[(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._17(1,0,null,null,19,"div",[["class","app"]],null,[[null,"touchmove"]],function(e,t,n){var i=!0,o=e.component;if("touchmove"===t){i=!1!==o.touchmove(n)&&i}return i},null,null)),(e()(),Jt._36(-1,null,["\n      "])),(e()(),Jt._17(3,0,null,null,1,"qrk-notify",[],null,null,null,zt,us)),Jt._15(4,245760,null,0,ss,[jn],null,null),(e()(),Jt._36(-1,null,["\n      "])),(e()(),Jt._17(6,0,null,null,1,"qrk-login",[],null,null,null,jt,ds)),Jt._15(7,245760,null,0,hs,[Jt.o,Vn,Pn,En,ko,Un,Fn,hn],null,null),(e()(),Jt._36(-1,null,["\n      "])),(e()(),Jt._11(16777216,null,null,1,null,Xt)),Jt._15(10,16384,null,0,nn.i,[Jt._0,Jt.X],{ngIf:[0,"ngIf"]},null),(e()(),Jt._36(-1,null,["\n      "])),(e()(),Jt._11(16777216,null,null,1,null,Yt)),Jt._15(13,16384,null,0,nn.i,[Jt._0,Jt.X],{ngIf:[0,"ngIf"]},null),(e()(),Jt._36(-1,null,["\n      "])),(e()(),Jt._11(16777216,null,null,1,null,Zt)),Jt._15(16,16384,null,0,nn.i,[Jt._0,Jt.X],{ngIf:[0,"ngIf"]},null),(e()(),Jt._36(-1,null,["\n      "])),(e()(),Jt._11(16777216,null,null,1,null,Kt)),Jt._15(19,16384,null,0,nn.i,[Jt._0,Jt.X],{ngIf:[0,"ngIf"]},null),(e()(),Jt._36(-1,null,["\n    "])),(e()(),Jt._36(-1,null,["\n  "]))],function(e,t){var n=t.component;e(t,4,0),e(t,7,0),e(t,10,0,n.configError),e(t,13,0,n.browserUnsupported),e(t,16,0,n.showConsentView),e(t,19,0,n.configLoaded&&n.publicationLoaded&&n.authorized)},null)}function $t(e){return Jt._38(0,[(e()(),Jt._17(0,0,null,null,1,"qrk-root",[],null,null,null,Qt,vs)),Jt._15(1,245760,null,0,Yn,[Vn,bn,hn,qn,Un,Hn,Fn,Gn,jn,Xn],null,null)],function(e,t){e(t,1,0)},null)}Object.defineProperty(t,"__esModule",{value:!0});var Jt=n("/oeL"),en={production:!0},tn=n("fc+i"),nn=n("qbdv"),on=(n("rgUS"),{app:{title:"Quark App Studio Web App",summary:"Pub description/summary goes here",urlRoot:"./",configFilename:"application-config.webreader.json",orientation:{mobile:"both",desktop:"both"},privacy:{enableCookieBanner:!1,cookieBannerMessage:"",cookieAcceptButtonText:"",cookieSource:"",cookieUrlButtonText:""},loading:{image:"images/loading-logo.png",backgroundColor:"#fff",color:"#333333"}},store:{enablePromoted:!0},banner:{source:"user-content/banner.zip",height:250},auth:{authToken:"ASauth",authRoot:"",level:"none",subscribeUrl:"",passwordRequestUrl:"",launchLogin:!1,publicationCode:"",loginLabel:"signin",subscribeLabel:"subscribe"},analytics:{GoogleAnalytics:{trackingId:"",internalTrackingId:"UA-15261962-27",enhancedLinkAttribution:!1,anonymizeIp:!0}},smartBanner:{android:{enabled:!0,id:"com.quark.appstudio"},ios:{enabled:!0,id:"com.quark.appstudioissuepreviewer"}},widgets:{video:{mediaElementPluginPath:"video-player/",mediaElementJSFile:"video-player/mediaelement-and-player.js",mediaElementCSSFile:"video-player/mediaelementplayer.css",mediaElementControls:["playpause","progress","tracks","volume"],mediaElementControlsAlwaysShow:!1}},features:{toc:!0,banner:!0,toolbar:!0,pageFit:!0,sharing:!0,scrubber:!0,analytics:!0,spreadView:!0,fullScreen:!0,userConsent:!1,smartBanner:!0,authorization:!0,pageNavigation:!0,variantSwitching:!0,globalAudioPlayer:!0,storeAccessibility:!0},pageNavigation:{transition:"fade",showArrowsForMobile:!1,showArrowsForDesktop:!0},toolbar:{position:"bottom",visibility:"auto",height:"50px",items:["storeButton","tocButton","scrubberBar","pageFitButton","spreadViewButton","sharingButton","globalAudioButton","fullScreenButton"]},googlemaps:{key:""},toc:{svg:"toc.svg",tooltip:"table-of-contents",banner:!1,bannerHeight:"50px",showInitially:!1,tocNonHtml:{titleLines:4,showImage:!1,showHTMLTitle:!1,showDescription:!0,descriptionLines:2}},spreadView:{singlePageMode:{svg:"single-view.svg",tooltip:"single-view"},spreadPageMode:{svg:"spread-view.svg",tooltip:"spread-view"},showLandscapeFacing:{mobile:!1,desktop:!0}},scrubber:{homeIcon:"home.svg",filmStrip:!0},filmStrip:{showInitially:!1,mouseHoverNavigation:!1},sharing:{svg:"share.svg",tooltip:"social-sharing",facebook:{AppID:""},options:{facebookShare:!0,twitterShare:!0,emailShare:!0,linkedinShare:!0}},fullScreen:{fullScreenEnter:{svg:"enterfullscreen.svg",tooltip:"fullscreen-enter"},fullScreenExit:{svg:"exitfullscreen.svg",tooltip:"fullscreen-exit"}},globalAudioButton:{svg:"audio.svg",tooltip:"global-audio-player"},storeButton:{svg:"store.svg",tooltip:"store"},pageFit:{defaultMode:"autoFit",maxScaleForAutoFit:4,autoFit:{svg:"autofit.svg",tooltip:"fit-page-to-window"},widthFit:{svg:"widthfit.svg",tooltip:"fit-page-to-width"}},dimensions:{portrait:{thumbnail:{width:125,height:163}},landscape:{thumbnail:{width:164,height:120}}}}),rn=n("u9ab"),ln=n("Dqrr"),sn=n("XKz0"),an=(n("5v8a"),function(){function e(e){this.http=e}return e.prototype.get=function(e,t){return void 0===t&&(t="json"),this.http.get(e,{responseType:t})},e.prototype.getNoCache=function(e){var t=new sn.g({"Cache-control":"no-cache",Pragma:"no-cache"});return this.http.get(e,{headers:t})},e.ctorParameters=function(){return[{type:sn.c}]},e}()),un=function(){function e(){}return e}();un.PAGE={DEFAULT_PORTRAIT_HEIGHT:1024,DEFAULT_PORTRAIT_WIDTH:768,DEFAULT_LANDSCAPE_HEIGHT:768,DEFAULT_LANDSCAPE_WIDTH:1024,NEXT:"next",PREVIOUS:"previous",LEFT_OF_SPINE:"leftofspine",RIGHT_OF_SPINE:"rightofspine"},un.PAGE_FIT_MODES={WIDTH_FIT:"widthfit",AUTO_FIT:"autofit"},un.MULTI_VARIANT_WIDTH_TOLERANCE=1.3,un.CONSENT_COOKIE="ASconsent",un.ORIENTATION={LANDSCAPE:"landscape",PORTRAIT:"portrait"},un.SECTION={DEFAULT_NAME:"contents"},un.ROUTES={ISSUE:"issue",STORE:"store"},un.APP={FALLBACK_LANGUAGE:"en"},un.LOGIN_TYPES={ISSUE:"issue",PUBLICATION:"publication"},un.AUTH_LEVEL={PUBLICATION:"publication",ISSUE:"issue"},un.ANALYTICS_CATEGORY={APPLICATION:"Application",ISSUE:"Issue",EXTERNAL_LINK:"ExternalLink",SHARE:"Share",VIDEO:"PlayVideo",AUDIO:"PlayAudio",EMAIL_LINK:"EmailLink",ZOOMABLE_IMAGE:"ZoomableImage",GEOLOCATION:"Geolocation",POPUP:"Popup",LOCAL_LINK:"LocalLink",STORE:"Store",THIRD_PARTY_SUBSCRIPTION:"ThirdPartySubscription"},un.ANALYTICS_ACTIONS={VIEW:"View",FULLSCREEN:"Fullscreen",EMAIL:"Email",TWITTER:"Twitter",FACEBOOK:"Facebook",LINKEDIN:"LinkedIn",LOGIN:"Login"};var cn,hn=function(){function e(e){this.http=e,this.config=on}return e.prototype.getAppTitle=function(){return this.config.app.title},e.prototype.getPublicationUrl=function(){return this.config.app.urlRoot+this.config.app.configFilename},e.prototype.getPublicationSummary=function(){return this.config.app.summary},e.prototype.isPromotedIssueEnabled=function(){return this.config.store.enablePromoted},e.prototype.isStoreBannerEnabled=function(){return this.config.features.banner},e.prototype.getStoreBannerConfig=function(){return this.config.banner},e.prototype.isSmartBannerEnabled=function(){return this.config.features.smartBanner},e.prototype.getSmartBannerConfig=function(){return this.config.smartBanner},e.prototype.getSubscribeUrl=function(){return this.config.auth.subscribeUrl},e.prototype.getAppRoot=function(){return this.config.app.urlRoot},e.prototype.getGoogleMapsApiKey=function(){return this.config.googlemaps.key},e.prototype.isAnalyticsEnabled=function(){return this.config.features.analytics},e.prototype.getAnalyticsConfig=function(){return this.config.analytics.GoogleAnalytics},e.prototype.getSharingConfig=function(){return this.config.sharing},e.prototype.getGlobalAudioButtonConfig=function(){return this.config.globalAudioButton},e.prototype.isStoreEnabled=function(){return this.config.features.storeAccessibility},e.prototype.isAuthorizationEnabled=function(){return this.config.features.authorization},e.prototype.getAuthConfig=function(){return this.config.auth},e.prototype.getStoreButtonConfig=function(){return this.config.storeButton},e.prototype.isUserConsentEnabled=function(){return this.config.app.privacy.enableCookieBanner},e.prototype.getPrivacyPolicyConfig=function(){return this.config.app.privacy},e.prototype.isSharingEnabled=function(){var e=this.getSharingConfig().options;return this.config.features.sharing&&-1!==this.config.toolbar.items.indexOf("sharingButton")&&(e.emailShare||e.facebookShare||e.linkedinShare||e.twitterShare)},e.prototype.getToolbarItems=function(){return this.config.toolbar.items},e.prototype.getWidgetConfig=function(){return this.config.widgets},e.prototype.getPublicationOrientation=function(e){var t=[un.ORIENTATION.LANDSCAPE,un.ORIENTATION.PORTRAIT],n=e?this.config.app.orientation.mobile:this.config.app.orientation.desktop;return t.indexOf(n.toLowerCase())>-1?n:void 0},e.prototype.getFitModeConfig=function(){return this.config.pageFit},e.prototype.getDefaultFitMode=function(){return this.config.pageFit.defaultMode.toLowerCase()},e.prototype.getMaxScaleForAutoFit=function(){return this.config.pageFit.maxScaleForAutoFit},e.prototype.getLoadingConfig=function(){return this.config.app.loading},e.prototype.isTocEnabled=function(){return this.config.features.toc&&-1!==this.config.toolbar.items.indexOf("tocButton")},e.prototype.getSpreadConfig=function(){return this.config.spreadView},e.prototype.isSpreadViewEnabled=function(){return this.config.features.spreadView},e.prototype.getTocConfig=function(){return this.config.toc},e.prototype.isVariantSwitchingEnabled=function(){return this.config.features.variantSwitching},e.prototype.isToolbarEnabled=function(){return this.config.features.toolbar},e.prototype.isTimelineEnabled=function(){return this.config.scrubber.filmStrip},e.prototype.isScrubberEnabled=function(){return this.config.features.scrubber},e.prototype.isFullScreenEnabled=function(){return this.config.features.fullScreen},e.prototype.isPageFitEnabled=function(){return this.config.features.pageFit},e.prototype.isGlobalAudioEnabled=function(){return this.config.features.globalAudioPlayer},e.prototype.getHomeIcon=function(){return this.config.scrubber.homeIcon},e.prototype.getToolbarConfig=function(){return this.config.toolbar},e.prototype.isLandscapeFacingEnabledForMobile=function(){return this.config.spreadView.showLandscapeFacing.mobile},e.prototype.isLandscapeFacingEnabledForDesktop=function(){return this.config.spreadView.showLandscapeFacing.desktop},e.prototype.getToolbarPosition=function(){return this.config.toolbar.position},e.prototype.isMouseHoverNavigationEnabled=function(){return this.config.filmStrip.mouseHoverNavigation},e.prototype.isTocVisibleInitially=function(){return(this.isToolbarVisibleInitially()||this.isToolbarAlwaysVisible())&&this.config.toc.showInitially},e.prototype.isTimelineVisibleInitially=function(){return(this.isToolbarVisibleInitially()||this.isToolbarAlwaysVisible())&&this.config.filmStrip.showInitially},e.prototype.isToolbarVisibleInitially=function(){return"initially"===this.config.toolbar.visibility.toLowerCase()},e.prototype.isToolbarAlwaysVisible=function(){return"always"===this.config.toolbar.visibility.toLowerCase()},e.prototype.getPageTransition=function(){return this.config.pageNavigation.transition.toLowerCase()},e.prototype.getFullScreenConfig=function(){return this.config.fullScreen},e.prototype.getThumbnailDimensionsForOrientation=function(e){return this.config.dimensions[e.toLocaleLowerCase()].thumbnail},e.prototype.isPageNavigationEnabled=function(){return this.config.features.pageNavigation},e.prototype.canShowArrowsOnMobile=function(){return this.config.pageNavigation.showArrowsForMobile},e.prototype.canShowArrowsOnDesktop=function(){return this.config.pageNavigation.showArrowsForDesktop},e.prototype.handleError=function(e){return ln.Observable.of("error")},e.prototype.fetchConfig=function(){var e=this;return this.configLoaded?ln.Observable.of(this.config):this.observable?this.observable:(this.observable=this.http.getNoCache("reader-config.json").map(function(t){return e.observable=null,e.config=rn(e.config,t),e.configLoaded=!0,e.config}).catch(this.observable=this.handleError.bind(this)).share(),this.observable)},e.ctorParameters=function(){return[{type:an}]},e}(),pn=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),dn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return pn(t,e),t.prototype.prepareExternalUrl=function(e){var t=e;return t.length>0&&t.startsWith("/")&&(t=t.substr(1)),t.length>0?this.getBaseHref()+"#"+t:this.getBaseHref()},t.prototype.getBaseHref=function(){var e="index.html",t=window.location.pathname;return-1!==t.indexOf(".htm")&&(e=t.substr(t.lastIndexOf("/")+1)),e},t}(nn.d),gn=function(){function e(e){this.configService=e,this.configService.fetchConfig().subscribe(this.fetchConfig.bind(this))}return e.prototype.fetchConfig=function(e){this.apiKey=this.configService.getGoogleMapsApiKey()},e.ctorParameters=function(){return[{type:hn}]},e}(),vn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.overrides={swipe:{velocity:.4,threshold:20}},t}return pn(t,e),t.prototype.buildHammer=function(e){return new Hammer(e,{touchAction:"auto",inputClass:Hammer.TouchInput})},t}(tn.g),fn=function(){function e(){}return e}(),bn=function(){function e(){}return e.prototype.set=function(e,t,n){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3);var o="expires="+i.toUTCString();document.cookie=e+"="+t+";"+o+";path=/"},e.prototype.get=function(e){var t=document.cookie.split(";");e+="=";for(var n=0;n<t.length;n++){for(var i=t[n];" "===i.charAt(0);)i=i.substring(1);if(0===i.indexOf(e))return i.substring(e.length,i.length)}return""},e.prototype.remove=function(e){document.cookie=e+"=;"+-1+";path=/"},e.prototype.detect=function(){document.cookie="cookie=1";var e=-1!==document.cookie.indexOf("cookie");return this.remove("cookie"),e},e.ctorParameters=function(){return[]},e}(),mn=function(){function e(){this.orientation="",this.article={},this.section={},this.index=void 0,this.facingIndex=void 0,this.responsive=!1,this.url=void 0,this.facingUrl=void 0,this.height=void 0,this.width=void 0,this.pagePosition="",this.facingPagePosition="",this.spreadId="",this.thumbnail="",this.state="",this.anchorPoint=void 0,this.properties=void 0}return e.prototype.isTocPage=function(){return this.article&&this.article.type&&"toc"===this.article.type.toLowerCase()},e.prototype.setProperties=function(e){this.properties=e,this.setHeight(),this.setWidth(),this.setResponsive()},e.prototype.setResponsive=function(){this.properties&&this.properties.responsive&&("true"===this.properties.responsive||!0===this.properties.responsive)?this.responsive=!0:this.responsive=!1},e.prototype.setHeight=function(){if(this.properties&&this.properties.height)this.height=parseInt(this.properties.height,10);else{var e=this.orientation===un.ORIENTATION.LANDSCAPE;this.height=e?un.PAGE.DEFAULT_LANDSCAPE_HEIGHT:un.PAGE.DEFAULT_PORTRAIT_HEIGHT}},e.prototype.setWidth=function(){if(this.properties&&this.properties.width)this.width=parseInt(this.properties.width,10);else{var e=this.orientation===un.ORIENTATION.LANDSCAPE;this.width=e?un.PAGE.DEFAULT_LANDSCAPE_WIDTH:un.PAGE.DEFAULT_PORTRAIT_WIDTH}},e}(),yn=function(){function e(){this.articles={},this.sections=[],this.singleSections={},this.pages=[],this.tocPages=[],this.facing=!1,this.orientation="",this.height=void 0,this.width=void 0}return e}(),_n=function(){function e(e,t,n){void 0===e&&(e=un.SECTION.DEFAULT_NAME),void 0===t&&(t="333"),void 0===n&&(n=[]),this.name=e,this.colour=t,this.pages=n}return e}(),wn=function(){function e(e,t){this.variantModels=Array();var n=this;n.issueMetadataModel=e,t=JSON.parse(decodeURIComponent(JSON.stringify(t))),t.variants.forEach(function(e){var i=new yn,o=[],r={},l=0,s=0;i.orientation=e.orientation,i.height=e.height||n.getDefaultHeightForPage(i.orientation),i.width=e.width||n.getDefaultWidthForPage(i.orientation),e.pages.forEach(function(e){var a=new mn,u=e.contents[0].href,c=u.substr(1),h=e.section?new _n(e.section.name,e.section.colour):new _n,p=o[o.length-1];try{t.contents.every(function(e){return e.id!==c||(a.article=e,!1)}),a.isTocPage()?a.index=++s:(a&&a.article&&void 0===i.articles[a.article.id]&&(i.articles[a.article.id]=l),a.index=++l)}catch(e){throw new Error("Unmapped page in contents array: "+u)}a.spreadId=e.spreadId,a.pagePosition=e.pagePosition,a.orientation=i.orientation,a.url=n.issueMetadataModel.getBundlePath()+"/"+e.url,a.thumbnail=n.issueMetadataModel.getBundlePath()+"/"+e.thumbnail,a.setProperties(e.properties),p&&p.name===h.name||(o.push(h),p=h),p.pages.push(a),a.section=p,r[h.name]||(r[h.name]=new _n(h.name,h.colour)),r[h.name].pages.push(a),a.isTocPage()?i.tocPages.push(a):i.pages.push(a)}),i.singleSections=r,i.sections=o,n.variantModels.push(i)}),(n.variantModels.length>2||2===n.variantModels.length&&(n.variantModels[0].height!==n.variantModels[1].width||n.variantModels[1].height!==n.variantModels[0].width))&&n.issueMetadataModel.setMultiVariant(!0)}return e.prototype.getDefaultWidthForPage=function(e){return e===un.ORIENTATION.PORTRAIT?un.PAGE.DEFAULT_PORTRAIT_WIDTH:un.PAGE.DEFAULT_LANDSCAPE_WIDTH},e.prototype.getDefaultHeightForPage=function(e){return e===un.ORIENTATION.PORTRAIT?un.PAGE.DEFAULT_PORTRAIT_HEIGHT:un.PAGE.DEFAULT_LANDSCAPE_HEIGHT},e}(),Sn=n("BkNc"),En=function(){function e(e,t){this.router=e,this.configService=t,this.gotoStoreEvent=new Jt.q,this.pageNavigateEvent=new Jt.q}return e.prototype.navigateToPage=function(e){if(this.pageNavigateEvent.emit(),this.configService.isStoreEnabled()){var t=decodeURI(window.location.hash.split("/")[1]);this.router.navigate(["/"+un.ROUTES.ISSUE+"/",t,e])}else this.router.navigate(["/"+un.ROUTES.ISSUE+"/",e])},e.prototype.navigateToStore=function(){this.gotoStoreEvent.emit(),this.router.navigate([un.ROUTES.STORE])},e.prototype.getReaderURL=function(){var e,t=window.location.pathname;return-1!==t.indexOf(".html")&&(e=t.split("/"),e=e.slice(0,e.length-1),t=e.join("/")),"/"!==t[t.length-1]&&(t+="/"),t},e.ctorParameters=function(){return[{type:Sn.k},{type:hn}]},e}(),Cn=function(){function e(e,t){this.http=e,this.routeService=t,this.routeService.gotoStoreEvent.subscribe(this.resetCurrentIssueModel.bind(this))}return e.prototype.fetchIssue=function(e){return this.currentIssueMetadataModel=e,this.http.getNoCache(e.getBundlePath()+"/issue.json").map(function(t){return new wn(e,t)})},e.prototype.getCurrentIssueMetadataModel=function(){return this.currentIssueMetadataModel},e.prototype.resetCurrentIssueModel=function(){this.currentIssueMetadataModel=void 0},e.ctorParameters=function(){return[{type:an},{type:En}]},e}(),Pn=function(){function e(){this.loginOpenDialogEvent=new Jt.q,this.closeLoginDialogEvent=new Jt.q}return e.prototype.openLoginDialog=function(e){this.loginOpenDialogEvent.emit(e)},e.prototype.closeLoginDialog=function(e){this.closeLoginDialogEvent.emit(e)},e}(),On={greeting:"Welcome to ^1",store:"Store",view:"View","store-promo":"Get the latest ^1 issue",downloadApp:"Download the App",subscribe:"Subscribe",username:"Email address",password:"Password",cancel:"Cancel",login:"Log in",signin:"Sign in",logout:"Log out",signout:"Sign out","login-waiting":"Logging in...","signin-waiting":"Signing in...","login-timeout":"The authentication service could not be reached","issue-login-title":"You need to be logged in to view this issue","issue-signin-title":"You need to be signed in to view this issue","invalid-username":"Please enter your email address","invalid-password":"Please enter your password","password-request":"Forgotten your password?","logged-in":"Logged in as",register:"Register","issue-login-subscribe":"Subscribe to view this issue","issue-login-register":"Register to view this issue","table-of-contents":"Table Of Contents","single-view":"Switch to Single Page view","spread-view":"Switch to Spread view","social-sharing":"Social Sharing","fullscreen-enter":"Full Screen","fullscreen-exit":"Exit Full Screen","global-audio-player":"Global Audio Player","fit-page-to-window":"Fit Page to Window","fit-page-to-width":"Fit Page to Window width and enable scrolling","sharing-string":"I read this article in the ^1 app and thought you\u2019d find it interesting.","loading-message-loading":"Loading...","geolocation-unavailable":"Geolocation currently unavailable","screenshot-unavilable":"Unfortunately, this is not supported on the Web App.","notification-load-config-fail":"Invalid configuration - Aborting boot","non-supported-browser-title":"Oh Dear","webserver-loading":"You seem to be loading the HTML5 Publication from your local drive.","webserver-hosting":"To view your HTML5 publication, host the exported HTML5 Publication on a web server, exactly like you would host any website.","webserver-guide":"Please refer to <a class='anchor-styles' href='http://www.quark.com/Support/Documentation/QuarkXPress/' target='_blank'>\u201cDigital Publishing with QuarkXPress\u201d</a> guide for more details.","video-missing":"One or more videos on this page are unavailable.","video-not-compatible":"A video of this page is not natively supported within this browser. You will not be able to see this video.","non-supported-browser-info":"You seem to be using an older browser which is not supported by our full digital experience.","browser-recommendation":"We recommend you use any of the following browsers.","audio-not-compatible":"Your browser does not natively support the audio track that is trying to play.","notification-offline":"No Internet Connection",continue:"Do you want to continue?","issue-no-content":"No content available",home:"Home",hide:"Hide"},kn={greeting:"Willkommen bei ^1",store:"Store",view:"Ansicht","store-promo":"Holen Sie sich die neueste Ausgabe von  ^1",downloadApp:"App herunterladen",subscribe:"abonnieren",username:"Email-Adresse",password:"Passwort",cancel:"Abbrechen",login:"Anmeldung",signin:"Anmelden",logout:"Abmelden",signout:"Abmelden","login-waiting":"Anmelden...","signin-waiting":"Anmelden...","login-timeout":"Auf den Authentifizierungsdienst konnte nicht zugegriffen werden","issue-login-title":"Sie m\xfcssen angemeldet sein, um diese Ausgabe anzusehen","issue-signin-title":"Sie m\xfcssen angemeldet sein, um diese Ausgabe anzusehen","invalid-username":"Bitte geben Sie Ihre Email-Adresse ein","invalid-password":"Bitte geben Sie Ihr Passwort ein","password-request":"Passwort vergessen?","logged-in":"Angemeldet als",register:"Registrieren","issue-login-subscribe":"Melden Sie sich an, um diese Ausgabe anzusehen","issue-login-register":"Registrieren Sie sich, um diese Ausgabe anzusehen","table-of-contents":"Inhaltsverzeichnis","single-view":"Zur Einzelseitenansicht wechseln","spread-view":"Zur Doppelseitenansicht wechseln","social-sharing":"Teilen in sozialen Netzwerken","fullscreen-enter":"Vollbild","fullscreen-exit":"Vollbild verlassen","global-audio-player":"Globaler Audio Player","fit-page-to-window":"Seite an Fenster anpassen","fit-page-to-width":"Seite an Fensterbreite anpassen und Bildlauf aktivieren","sharing-string":"Ich habe diesen Artikel in ^1 gelesen und glaube, dass er f\xfcr Sie interessant w\xe4re.","loading-message-loading":"Laden...","geolocation-unavailable":"Geolocation ist zurzeit nicht verf\xfcgbar","screenshot-unavilable":"Bedauerlicherweise wird das in der Web App nicht unterst\xfctzt.","notification-load-config-fail":"Ung\xfcltige Konfiguration - Abbruch des Starts","non-supported-browser-title":"Oh je!","webserver-loading":"Sie laden die HTML5-Publikation anscheinend von Ihrem lokalen Laufwerk.","webserver-hosting":"Zum Betrachten Ihrer HTML5-Publikation laden Sie die exportierte HTML5-Publikation auf einen Webserver, so wie Sie jede andere Website bereitstellen w\xfcrden.","webserver-guide":"Bitte lesen Sie weitere Details im Handbuch <a class='anchor-styles' href='http://www.quark.com/Support/Documentation/QuarkXPress/' target='_blank'>\u201eDigital Publishing mit QuarkXPress\u201c</a>.","video-missing":"Ein oder mehrere Videos auf dieser Seite sind nicht vorhanden.","video-not-compatible":"Ein Video dieser Seite wird von diesem Browser an sich nicht unterst\xfctzt. Sie werden dieses Video nicht sehen k\xf6nnen.","non-supported-browser-info":"Sie benutzen anscheinend einen \xe4lteren Browser, der unsere Funktionen nicht optimal unterst\xfctzt.","browser-recommendation":"Wir empfehlen, einen der folgenden Browser zu nutzen.","audio-not-compatible":"Die Audiospur, die Sie versuchen, abzuspielen, wird von Ihrem Browser an sich nicht unterst\xfctzt.","notification-offline":"Keine Internetverbindung",continue:"M\xf6chten Sie fortfahren?","issue-no-content":"Keine Inhalte vorhanden",home:"Home",hide:"Verbergen"},Tn={greeting:"Bienvenido a ^1",store:"Tienda",view:"Visualizar","store-promo":"Obtener la edici\xf3n m\xe1s reciente de ^1",downloadApp:"Descargar la aplicaci\xf3n",subscribe:"Suscribirse",username:"Correo electr\xf3nico",password:"Contrase\xf1a",cancel:"Cancelar",login:"Iniciar sesi\xf3n",signin:"Iniciar sesi\xf3n",logout:"Cerrar sesi\xf3n",signout:"Cerrar sesi\xf3n","login-waiting":"Iniciando sesi\xf3n...","signin-waiting":"Iniciando sesi\xf3n...","login-timeout":"No se puede establecer conexi\xf3n con el servicio de autenticaci\xf3n.","issue-login-title":"Necesita iniciar sesi\xf3n para ver esta edici\xf3n","issue-signin-title":"Necesita iniciar sesi\xf3n para ver esta edici\xf3n","invalid-username":"Escriba su direcci\xf3n de correo electr\xf3nico","invalid-password":"Escriba su contrase\xf1a","password-request":"\xbfOlvid\xf3 su contrase\xf1a?","logged-in":"Inici\xf3 sesi\xf3n como",register:"Registrarse","issue-login-subscribe":"Suscribirse para ver esta edici\xf3n","issue-login-register":"Registrarse para ver esta edici\xf3n","table-of-contents":"Tabla de contenido","single-view":"Cambiar a vista de p\xe1gina individual","spread-view":"Cambiar a vista de plancha extendida","social-sharing":"Compartir con redes sociales","fullscreen-enter":"A plena pantalla","fullscreen-exit":"Salir de pantalla completa","global-audio-player":"Reproductor de audio global","fit-page-to-window":"Ajustar p\xe1gina a la ventana","fit-page-to-width":"Ajustar p\xe1gina al ancho de la ventana y habilitar desplazamiento","sharing-string":"Le\xed este art\xedculo en la aplicaci\xf3n de ^1 y pens\xe9 que podr\xeda parecerle interesante.","loading-message-loading":"Cargando...","geolocation-unavailable":"La geolocalizaci\xf3n no est\xe1 disponible actualmente.","screenshot-unavilable":"Desafortunadamente, esto no es compatible con la aplicaci\xf3n web.","notification-load-config-fail":"Configuraci\xf3n no v\xe1lida. Cancelando el arranque","non-supported-browser-title":"\xa1Vaya!","webserver-loading":"Al parecer, est\xe1 cargando la publicaci\xf3n HTML5 desde su unidad de disco local.","webserver-hosting":"Para ver su publicaci\xf3n HTML5, aloje la publicaci\xf3n HTML5 exportada en un servidor web, exactamente como lo har\xeda con cualquier sitio web.","webserver-guide":"Consulte la gu\xeda <a class='anchor-styles' href='http://www.quark.com/Support/Documentation/QuarkXPress/' target='_blank'>\u201cPublicaciones digitales con QuarkXPress\u201d</a> para obtener m\xe1s detalles.","video-missing":"Uno o m\xe1s v\xeddeos de esta p\xe1gina no est\xe1n disponibles.","video-not-compatible":"Un v\xeddeo de esta p\xe1gina no es compatible con el formato nativo de este examinador. No podr\xe1 ver este v\xeddeo.","non-supported-browser-info":"Parece que est\xe1 usando un examinador anterior que no es compatible con nuestra experiencia digital total.","browser-recommendation":"Recomendamos que use alguno de los siguientes examinadores","audio-not-compatible":"Su examinador no es compatible nativamente con la pista de sonido que est\xe1 tratando de reproducir.","notification-offline":"No hay conexi\xf3n a internet",continue:"\xbfDesea continuar?","issue-no-content":"No hay contenido disponible",home:"Inicio",hide:"Ocultar"},Mn={greeting:"Bienvenue \xe0 ^1",store:"Magasin",view:"Affichage","store-promo":"Obtenir la derni\xe8re parution de ^1",downloadApp:"T\xe9l\xe9charger l'appli",subscribe:"Abonnement",username:"Adresse \xe9lectronique",password:"Mot de passe",cancel:"Annuler",login:"Se connecter",signin:"Ouvrir une session",logout:"Se d\xe9connecter",signout:"Se d\xe9connecter","login-waiting":"Connexion...","signin-waiting":"Ouverture de session...","login-timeout":"Le service d'authentification n'a pas pu \xeatre joint.","issue-login-title":"Vous devez \xeatre connect\xe9 pour voir cette parution.","issue-signin-title":"Vous devez \xeatre connect\xe9 pour voir cette parution.","invalid-username":"Veuillez entrer votre adresse \xe9lectronique.","invalid-password":"Entrez votre mot de passe.","password-request":"Mot de passe oubli\xe9?","logged-in":"Connect\xe9 sous",register:"Enregistrer","issue-login-subscribe":"Inscrivez-vous pour voir cette parution.","issue-login-register":"Inscrivez-vous pour voir cette parution.","table-of-contents":"Table des mati\xe8res","single-view":"Passer au mode d'affichage Une page","spread-view":"Passer au mode d'affichage Planche","social-sharing":"Partage social","fullscreen-enter":"Plein \xe9cran","fullscreen-exit":"Quitter Plein \xe9cran","global-audio-player":"Lecteur audio g\xe9n\xe9ral","fit-page-to-window":"Ajuster la page \xe0 l'\xe9cran","fit-page-to-width":"Ajuster la page \xe0 la largeur de l'\xe9cran et activer le d\xe9filement","sharing-string":"J'ai lu cet article dans l'appli ^1 et j'ai pens\xe9 qu'il pourrait vous int\xe9resser.","loading-message-loading":"Chargement...","geolocation-unavailable":"G\xe9olocalisation non disponible actuellement","screenshot-unavilable":"Ceci n'est malheureusement pas pris en charge sur Web App.","notification-load-config-fail":"Configuration non valide - Abandon du d\xe9marrage","non-supported-browser-title":"Oh !","webserver-loading":"Il semble que vous soyez en train de charger la Publication HTML5 depuis votre disque local.","webserver-hosting":"Pour visualiser votre publication HTML5, h\xe9bergez la Publication HTML5 export\xe9e sur un serveur web, exactement comme vous y h\xe9bergeriez un site web.","webserver-guide":"Veuillez vous reporter au guide <a class='anchor-styles' href='http://www.quark.com/Support/Documentation/QuarkXPress/' target='_blank'>\xab Digital Publishing with QuarkXPress \xbb (La publication num\xe9rique avec QuarkXPress)</a> pour de plus amples d\xe9tails.","video-missing":"Une vid\xe9o au moins de cette page n'est pas disponible.","video-not-compatible":"Une vid\xe9o de cette page n'est pas nativement prise en charge dans ce navigateur. Vous ne pourrez pas la visionner.","non-supported-browser-info":"Vous utilisez un ancien navigateur qui n'est pas pris en charge par notre exp\xe9rience num\xe9rique compl\xe8te.","browser-recommendation":"Nous vous recommandons d'utiliser un des navigateurs suivants.","audio-not-compatible":"Votre navigateur ne prend pas nativement en charge la piste audio qui tente de se lancer.","notification-offline":"Aucune connexion Internet",continue:"Souhaitez-vous poursuivre?","issue-no-content":"Aucun contenu disponible",home:"Accueil",hide:"Masquer"},In={greeting:"Benvenuto in ^1",store:"Negozio",view:"Visualizza","store-promo":"Ricevi l\u2019ultimo numero di ^1",downloadApp:"Scarica l\u2019applicazione",subscribe:"Iscriviti",username:"Indirizzo e-mail",password:"Password",cancel:"Annulla",login:"Accedi",signin:"Accedi",logout:"Logout",signout:"Esci","login-waiting":"Accesso...","signin-waiting":"Registrazione...","login-timeout":"Il servizio di autenticazione non \xe8 raggiungibile.","issue-login-title":"Per vedere questo numero della rivista \xe8 necessario eseguire l\u2019accesso","issue-signin-title":"Per vedere questo numero della rivista \xe8 necessario registrarsi","invalid-username":"Immettere il proprio indirizzo e-mail","invalid-password":"Immettere la password","password-request":"Hai dimenticato la password?","logged-in":"Accesso eseguito come",register:"Registrati","issue-login-subscribe":"Abbonati per visualizzare questo numero della rivista","issue-login-register":"Registrati per visualizzare questo numero della rivista","table-of-contents":"Sommario","single-view":"Passa alla visualizzazione pagina singola","spread-view":"Passa alla visualizzazione distesa","social-sharing":"Condivisione social","fullscreen-enter":"A tutto schermo","fullscreen-exit":"Chiudi a tutto schermo","global-audio-player":"Lettore audio universale","fit-page-to-window":"Adatta pagina alla finestra","fit-page-to-width":"Adatta pagina alla larghezza finestra e abilita lo scorrimento","sharing-string":"Ho letto questo articolo nell\u2019app the ^1 e ho pensato che potrebbe interessarti","loading-message-loading":"Caricamento...","geolocation-unavailable":"La geolocalizzazione non \xe8 attualmente disponibile","screenshot-unavilable":"Sfortunatamente, ci\xf2 non \xe8 supportato nell\u2019applicazione Web.","notification-load-config-fail":"Configurazione non valida \u2013 Annullamento avvio","non-supported-browser-title":"Gentile","webserver-loading":"Il caricamento della pubblicazione HTML5 avviene dall'unit\xe0 locale.","webserver-hosting":"Per visualizzare la pubblicazione HTML5, eseguire l'hosting della pubblicazione HTML5 esportata su un server Web, esattamente come si farebbe per qualunque sito Web.","webserver-guide":"Per ulteriori dettagli, consultare la guida <a class='anchor-styles' href='http://www.quark.com/Support/Documentation/QuarkXPress/' target='_blank'>\"Editoria digitale con QuarkXPress\"</a>.","video-missing":"Uno o pi\xf9 video nella pagina non sono disponibili.","video-not-compatible":"Un video di questa pagina non \xe8 supportato in modo nativo da questo browser. Il video non potr\xe0 essere visualizzato.","non-supported-browser-info":"Sembra che tu stia usando un browser obsoleto che non \xe8 supportato dalla nostra esperienza completamente digitale.","browser-recommendation":"Suggeriamo di utilizzare uno dei seguenti browser","audio-not-compatible":"Il browser non offre il supporto nativo della traccia audio che si sta tentando di riprodurre.","notification-offline":"Nessuna connessione Internet",continue:"Volete continuare?","issue-no-content":"Nessun contenuto disponibile",home:"Origine",hide:"Nascondi"},xn={greeting:"^1 \u3078\u3088\u3046\u3053\u305d",store:"\u30b9\u30c8\u30a2",view:"\u8868\u793a","store-promo":"^1\u306e\u6700\u65b0\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u5165\u624b",downloadApp:"\u30a2\u30d7\u30ea\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9",subscribe:"\u8cfc\u8aad",username:"\u96fb\u5b50\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9",password:"\u30d1\u30b9\u30ef\u30fc\u30c9",cancel:"\u30ad\u30e3\u30f3\u30bb\u30eb",login:"\u30ed\u30b0\u30a4\u30f3",signin:"\u30b5\u30a4\u30f3\u30a4\u30f3",logout:"\u30ed\u30b0\u30a2\u30a6\u30c8",signout:"\u30b5\u30a4\u30f3\u30a2\u30a6\u30c8","login-waiting":"\t\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u3044\u307e\u3059...","signin-waiting":"\u30b5\u30a4\u30f3\u30a4\u30f3\u4e2d...","login-timeout":"\u8a8d\u8a3c\u30b5\u30fc\u30d3\u30b9\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u307e\u305b\u3093d","issue-login-title":"\u3053\u306e\u7248\u3092\u8868\u793a\u3059\u308b\u306b\u306f\u30ed\u30b0\u30a4\u30f3\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059","issue-signin-title":"\u3053\u306e\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u8868\u793a\u3059\u308b\u306b\u306f\u30b5\u30a4\u30f3\u30a4\u30f3\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059","invalid-username":"\u96fb\u5b50\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044","invalid-password":"\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044","password-request":"\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u304a\u5fd8\u308c\u306e\u5834\u5408","logged-in":"%@\u3068\u3057\u3066\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u3044\u307e\u3059\u3002",register:"\u767b\u9332","issue-login-subscribe":"\u8cfc\u8aad\u3057\u3066\u3053\u306e\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u8868\u793a","issue-login-register":"\u767b\u9332\u3057\u3066\u3053\u306e\u7248\u3092\u8868\u793a\u3059\u308b","table-of-contents":"\u76ee\u6b21","single-view":"\u5358\u4e00\u30da\u30fc\u30b8\u8868\u793a\u306b\u5207\u308a\u66ff\u3048\u308b","spread-view":"\u30b9\u30d7\u30ec\u30c3\u30c9\u8868\u793a\u306b\u5207\u308a\u66ff\u3048\u308b","social-sharing":"\u30bd\u30fc\u30b7\u30e3\u30eb\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u5171\u6709","fullscreen-enter":"\u5168\u753b\u9762","fullscreen-exit":"\u5168\u753b\u9762\u8868\u793a\u3092\u7d42\u4e86","global-audio-player":"\u30b0\u30ed\u30fc\u30d0\u30eb\u30aa\u30fc\u30c7\u30a3\u30aa\u30d7\u30ec\u30a4\u30e4\u30fc","fit-page-to-window":"\u30da\u30fc\u30b8\u3092\u30a6\u30a3\u30f3\u30c9\u30a6\u306b\u5408\u308f\u305b\u308b","fit-page-to-width":"\u30da\u30fc\u30b8\u3092\u30a6\u30a3\u30f3\u30c9\u30a6\u5e45\u306b\u5408\u308f\u305b\u3066\u30b9\u30af\u30ed\u30fc\u30eb\u3092\u6709\u52b9\u306b\u3059\u308b","sharing-string":"^1\u30a2\u30d7\u30ea\u3067\u79c1\u304c\u8aad\u3093\u3060\u3053\u306e\u8a18\u4e8b\u306b\u8208\u5473\u304c\u304a\u3042\u308a\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002","loading-message-loading":"\u8aad\u307f\u8fbc\u307f\u4e2d","geolocation-unavailable":"\u4f4d\u7f6e\u60c5\u5831\u306f\u73fe\u5728\u5229\u7528\u3067\u304d\u307e\u305b\u3093","screenshot-unavilable":"\u6050\u308c\u5165\u308a\u307e\u3059\u304c\u3001\u3053\u308c\u306fWeb\u30a2\u30d7\u30ea\u3067\u306f\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002","notification-load-config-fail":"\u7121\u52b9\u306a\u8a2d\u5b9a\u3067\u3059\u2015\u8d77\u52d5\u3092\u4e2d\u6b62\u3057\u3066\u3044\u307e\u3059","non-supported-browser-title":"\u3054\u6ce8\u610f\u304f\u3060\u3055\u3044\u3002","webserver-loading":"\u30ed\u30fc\u30ab\u30eb\u30c9\u30e9\u30a4\u30d6\u304b\u3089HTML5\u51fa\u7248\u7269\u3092\u8aad\u307f\u8fbc\u307f\u4e2d\u306e\u3088\u3046\u3067\u3059\u3002","webserver-hosting":"HTML5\u51fa\u7248\u7269\u3092\u8868\u793a\u3059\u308b\u306b\u306f\u3001\u66f8\u304d\u51fa\u3055\u308c\u305fHTML5\u51fa\u7248\u7269\u3092\u3001\u4ed6\u306e\u30a6\u30a7\u30d6\u30b5\u30a4\u30c8\u306b\u30db\u30b9\u30c8\u3059\u308b\u306e\u3068\u540c\u69d8\u306b\u30a6\u30a7\u30d6\u30b5\u30fc\u30d0\u30fc\u306b\u30db\u30b9\u30c8\u3057\u3066\u304f\u3060\u3055\u3044\u3002","webserver-guide":"\u8a73\u7d30\u306f<a class='anchor-styles' href='http://www.quark.com/Support/Documentation/QuarkXPress/' target='_blank'>\u300eDigital Publishing with QuarkXPress\u300f</a>\u30ac\u30a4\u30c9\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002","video-missing":"\u3053\u306e\u30da\u30fc\u30b8\u306e1\u3064\u4ee5\u4e0a\u306e\u30d3\u30c7\u30aa\u304c\u5229\u7528\u3067\u304d\u307e\u305b\u3093\u3002","video-not-compatible":"\u3053\u306e\u30da\u30fc\u30b8\u306e\u30d3\u30c7\u30aa\u306f\u3053\u306e\u30d6\u30e9\u30a6\u30b6\u3067\u30cd\u30a4\u30c6\u30a3\u30d6\u306b\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002\u3053\u306e\u30d3\u30c7\u30aa\u306f\u8868\u793a\u3067\u304d\u307e\u305b\u3093\u3002","non-supported-browser-info":"\u672c\u88fd\u54c1\u306e\u30c7\u30b8\u30bf\u30eb\u4f53\u9a13\u304c\u5b8c\u5168\u306b\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u306a\u3044\u53e4\u3044\u30d6\u30e9\u30a6\u30b6\u3092\u304a\u4f7f\u3044\u306e\u3088\u3046\u3067\u3059\u3002","browser-recommendation":"\u6b21\u306e\u3044\u305a\u308c\u304b\u306e\u30d6\u30e9\u30a6\u30b6\u3092\u63a8\u5968\u3057\u307e\u3059\u3002","audio-not-compatible":"\u304a\u4f7f\u3044\u306e\u30d6\u30e9\u30a6\u30b6\u306f\u3001\u518d\u751f\u3057\u3088\u3046\u3068\u3057\u3066\u3044\u308b\u30aa\u30fc\u30c7\u30a3\u30aa\u30c8\u30e9\u30c3\u30af\u3092\u30cd\u30a4\u30c6\u30a3\u30d6\u3067\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u305b\u3093\u3002","notification-offline":"\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u306b\u63a5\u7d9a\u3055\u308c\u3066\u3044\u307e\u305b\u3093",continue:"\u64cd\u4f5c\u3092\u7d9a\u3051\u307e\u3059\u304b\uff1f","issue-no-content":"\u5229\u7528\u53ef\u80fd\u306a\u30b3\u30f3\u30c6\u30f3\u30c4\u304c\u5b58\u5728\u3057\u307e\u305b\u3093",home:"\u30db\u30fc\u30e0",hide:"\u96a0\u3059"},An={greeting:"Welkom in ^1",store:"Opslaan",view:"Beeld","store-promo":"Haal de nieuwste uitgave op: ^1",downloadApp:"Laden Sie die App",subscribe:"Abonneren",username:"E-mailadres",password:"Wachtwoord",cancel:"Annuleer",login:"Aanmelden",signin:"Aanmelden",logout:"Afmelden",signout:"Afmelden","login-waiting":"Bezig met aanmelden...","signin-waiting":"Bezig met aanmelden...","login-timeout":"De verificatieservice kon niet worden bereikt","issue-login-title":"U moet inloggen om deze uitgave te bekijken","issue-signin-title":"YU moet inloggen om deze uitgave te bekijken","invalid-username":"Voer uw e-mailadres in","invalid-password":"Please enter your password","password-request":"Voer uw wachtwoord in","logged-in":"Ingelogd als",register:"Registreren","issue-login-subscribe":"Abonneer om deze uitgave te bekijken","issue-login-register":"Registreer om deze uitgave te bekijken","table-of-contents":"Inhoudsopgave","single-view":"Overschakelen naar weergave van \xe9\xe9n pagina","spread-view":"Overschakelen naar uitgevouwen weergave","social-sharing":"Delen via sociale netwerken","fullscreen-enter":"Tekstweergave","fullscreen-exit":"Volledig scherm afsluiten","global-audio-player":"Global Audio Player","fit-page-to-window":"Pagina aanpassen aan venster","fit-page-to-width":"Pagina aanpassen aan vensterbreedte en scrollen activeren","sharing-string":"Ik heb dit artikel in de app ^1 gelezen en denk dat u het ook een interessant artikel zult vinden.","loading-message-loading":"Wordt geladen...","geolocation-unavailable":"Geolocatie is op dit moment niet beschikbaar","screenshot-unavilable":"Dit wordt niet in de webapp ondersteund.","notification-load-config-fail":"Ongeldige configuratie - opstarten afbreken","non-supported-browser-title":"Oeps.","webserver-loading":"You seem to be loading the HTML5 Publication from your local drive.","webserver-hosting":"To view your HTML5 publication, host the exported HTML5 Publication on a web server, exactly like you would host any website.","webserver-guide":"Please refer to <a class='anchor-styles' href='http://www.quark.com/Support/Documentation/QuarkXPress/' target='_blank'>\u201cDigital Publishing with QuarkXPress\u201d</a> guide for more details.","video-missing":"Een of meer video's op deze pagina zijn niet beschikbaar.","video-not-compatible":"Deze browser biedt geen native ondersteuning voor een video op deze pagina. U kunt deze video niet bekijken.","non-supported-browser-info":"Het lijkt erop dat u een oudere browser gebruikt die geen ondersteuning biedt voor onze volledige digitale ervaring.","browser-recommendation":"We adviseren om een van de volgende browsers te gebruiken.","audio-not-compatible":"Uw browser beschikt niet over native ondersteuning voor de audiotrack die u probeert af te spelen.","notification-offline":"Geen internetverbinding",continue:"Wilt u doorgaan?","issue-no-content":"Geen inhoud beschikbaar",home:"Home",hide:"Verberg"},Ln={greeting:"Bem-vindo a(o) ^1",store:"Loja",view:"Visualizar","store-promo":"Confira a edi\xe7\xe3o mais recente do  ^1",downloadApp:"Baixar o aplicativo",subscribe:"Inscrever-se",username:"Endere\xe7o de email",password:"Senha",cancel:"Cancelar",login:"Entrar",signin:"Entrar",logout:"Sair",signout:"Sair","login-waiting":"Entrando...","signin-waiting":"\tEntrando...","login-timeout":"N\xe3o foi poss\xedvel acessar o servi\xe7o de autentica\xe7\xe3o","issue-login-title":"\xc9 necess\xe1rio estar conectado para exibir este problema","issue-signin-title":"\xc9 necess\xe1rio estar conectado para exibir este problema","invalid-username":"Insira o endere\xe7o de email","invalid-password":"Insira a senha","password-request":"Esqueceu sua senha?","logged-in":"Entrou como",register:"Registrar","issue-login-subscribe":"Assine para exibir este problema","issue-login-register":"Cadastre-se para exibir este problema","table-of-contents":"\xcdndice","single-view":"Mudar para a visualiza\xe7\xe3o de P\xe1gina \xdanica","spread-view":"Mudar para a visualiza\xe7\xe3o Ampliada","social-sharing":"Compartilhamento Social","fullscreen-enter":"Tela cheia","fullscreen-exit":"Sair da tela cheia","global-audio-player":"Player de \xe1udio global","fit-page-to-window":"Ajustar p\xe1gina \xe0 janela","fit-page-to-width":"Ajustar p\xe1gina \xe0 largura da janela e Ativar rolagem","sharing-string":"Eu li este artigo no aplicativo do ^1 e achei que voc\xea poderia gostar","loading-message-loading":"Carregando...","geolocation-unavailable":"No momento, a localiza\xe7\xe3o geogr\xe1fica est\xe1 indispon\xedvel.","screenshot-unavilable":"N\xe3o h\xe1 suporte para isso no aplicativo Web.","notification-load-config-fail":"Configura\xe7\xe3o inv\xe1lida - Anular inicializa\xe7\xe3o","non-supported-browser-title":"Ah, n\xe3o!","webserver-loading":"Parece que voc\xea est\xe1 carregando a publica\xe7\xe3o HTML5 da sua unidade local.","webserver-hosting":"Para visualizar sua publica\xe7\xe3o HTML5, hospede a Publica\xe7\xe3o HTML5 exportada no servidor da Web exatamente como hospedaria qualquer site.","webserver-guide":"Consulte o guia <a class='anchor-styles' href='http://www.quark.com/Support/Documentation/QuarkXPress/' target='_blank'>\u201cPublica\xe7\xe3o Digital com o QuarkXPress\u201d</a> para acessar mais detalhes.","video-missing":"Um ou mais clipes de v\xeddeo nesta p\xe1gina est\xe3o indispon\xedveis.","video-not-compatible":"Um v\xeddeo desta p\xe1gina n\xe3o \xe9 suportado neste navegador. N\xe3o ser\xe1 poss\xedvel assistir a este v\xeddeo.","non-supported-browser-info":"Parece que voc\xea est\xe1 usando uma vers\xe3o antiga do navegador que n\xe3o \xe9 suportada pela nossa experi\xeancia digital completa.","browser-recommendation":"Recomendamos que voc\xea use um dos seguintes navegadores.","audio-not-compatible":"Seu navegador n\xe3o oferece suporte para a faixa de \xe1udio que voc\xea est\xe1 tentando reproduzir. ","notification-offline":"Sem conex\xe3o \xe0 Internet",continue:"Deseja continuar?",home:"In\xedcio",hide:"Ocultar"},Nn=new Jt.w("translations"),Dn=(cn={},cn.en=On,cn.de=kn,cn.es=Tn,cn.fr=Mn,cn.it=In,cn.ja=xn,cn.nl=An,cn.pt=Ln,cn),Fn=function(){function e(e){this.translations=e}return e.prototype.use=function(e){var t=e.indexOf("-");-1!==t&&(e=e.substring(0,t)),this.currentLanguage=e},e.prototype.translate=function(e){var t=e;if(this.translations[this.currentLanguage]&&this.translations[this.currentLanguage][e])return this.translations[this.currentLanguage][e];var n=un.APP.FALLBACK_LANGUAGE;return this.translations[n][e]?this.translations[n][e]:t},e.prototype.localize=function(e){return this.translate(e)},e.ctorParameters=function(){return[{type:void 0,decorators:[{type:Jt.u,args:[Nn]}]}]},e}(),Rn=function(){function e(e){this.issueService=e,this.currentPageChangedEvent=new Jt.q,this.frameLoadedEvent=new Jt.q,this.onScreenEvent=new Jt.q}return e.prototype.currentPageChanged=function(e){this.currentPageModel=e,this.currentPageChangedEvent.emit(e)},e.prototype.setZoomState=function(e){this.zoom=e},e.prototype.getZoomState=function(){return this.zoom},e.prototype.getCurrentPageModel=function(){return this.currentPageModel},e.prototype.getEventLabel=function(){return this.issueService.getCurrentIssueMetadataModel().getIssueUrnID()+"/"+this.currentPageModel.article.id+"/"},e.prototype.frameLoaded=function(){this.frameLoadedEvent.emit()},e.prototype.onScreen=function(){this.onScreenEvent.emit()},e.ctorParameters=function(){return[{type:Cn}]},e}(),Hn=function(){function e(e,t){this.pageService=e,this.configService=t,this.pendingEventsList=[],this.pendingPageViewsList=[]}return e.prototype.initialize=function(){this.initializeGA()},e.prototype.initializeGA=function(){var e=[],t=this.configService.getAnalyticsConfig(),n=t.internalTrackingId,i=t.trackingId;"string"==typeof n&&n.length&&e.push(n),"string"==typeof i&&i.length&&e.push(i),t.trackingId=e,this.setupGA(t)},e.prototype.toAlphaNumericString=function(e){for(;e!==e.replace(/[^a-zA-Z0-9_.]+/,"");)e=e.replace(/[^a-zA-Z0-9_.]+/,"");return e},e.prototype.setupGA=function(e){var t=this;this.trackerNames=[],function(e,t,n,i,o,r,l){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*(new Date).getTime(),r=t.createElement(n),l=t.getElementsByTagName(n)[0],r.async=1,r.src="//www.google-analytics.com/analytics.js",l.parentNode.insertBefore(r,l)}(window,document,"script",0,"ga"),(new Fingerprint2).get(function(n){for(e.trackingId.forEach(function(i){var o=t.toAlphaNumericString(i);ga("create",i,{name:o,clientId:n,storage:"none",storeGac:!1}),!0===e.enhancedLinkAttribution&&ga(o+".require","linkid","linkid.js"),!0===e.anonymizeIp&&ga(o+".set","anonymizeIp",!0),t.trackerNames.push(o)}),t.initialized=!0;t.pendingEventsList.length;)t.sendEvent(t.pendingEventsList.pop());for(;t.pendingPageViewsList.length;)t.trackPageView(t.pendingPageViewsList.pop())})},e.prototype.extendTrackingData=function(e){var t=this.pageService.getCurrentPageModel();t&&Object.assign(e,{dimension2:t.article.type,dimension3:t.section.name,dimension4:(t.index-1).toString()}),this.loggedinUserId&&Object.assign(e,{dimension5:this.loggedinUserId})},e.prototype.trackIssueViewEvent=function(e){var t={eventCategory:un.ANALYTICS_CATEGORY.ISSUE,eventAction:un.ANALYTICS_ACTIONS.VIEW,eventLabel:e.urnID,dimension2:e.multiVariant?"Multivariant":"Singlevariant",dimension3:"",dimension4:""};this.sendEvent(t)},e.prototype.sendEvent=function(e){this.initialized?this.trackerNames.forEach(function(t){ga(t+".send","event",e)}):this.pendingEventsList.push(e)},e.prototype.trackEvent=function(e){this.extendTrackingData(e),this.sendEvent(e)},e.prototype.trackPageView=function(e){this.initialized?this.trackerNames.forEach(function(t){ga(t+".send","pageview",e)}):this.pendingPageViewsList.push(e)},e.prototype.trackAction=function(e,t,n){this.trackEvent({eventCategory:e,eventAction:t,eventLabel:n})},e.prototype.trackThirdPartySubscriptionEvent=function(e){this.loggedinUserId=e,this.loggedinUserId&&this.sendEvent({eventCategory:un.ANALYTICS_CATEGORY.THIRD_PARTY_SUBSCRIPTION,eventAction:un.ANALYTICS_ACTIONS.LOGIN,eventLabel:"",dimension5:this.loggedinUserId})},e.ctorParameters=function(){return[{type:Rn},{type:hn}]},e}(),zn=function(){function e(){this.userId="",this.username="",this.password=""}return e}(),Vn=function(){function e(e,t,n,i,o,r,l){this.router=e,this.translateService=t,this.loginService=n,this.configService=i,this.cookieService=o,this.issueService=r,this.analyticsService=l,this.enabledLevels={publication:!0,issue:!0,none:!1,"":!1},this.level=un.AUTH_LEVEL.PUBLICATION,this.preAuthenticatedEvent=new Jt.q,this.authenticatingEvent=new Jt.q,this.authenticateEvent=new Jt.q,this.authenticatedEvent=new Jt.q,this.unauthenticatedEvent=new Jt.q,this.authenticationErrorEvent=new Jt.q,this.issuesAuthorisationChangeEvent=new Jt.q}return e.prototype.setAuthenticating=function(e){this.postAuthenticatingEvent(e)},e.prototype.setAuthenticationError=function(e){console.log(e),this.authenticationErrorEvent.emit(e)},e.prototype.beginAuthentication=function(){this.setAuthenticationError(void 0),this.setAuthenticating(!0)},e.prototype.endAuthentication=function(e,t){var n=!!e;this.setAuthenticationError(e),this.setAuthenticating(!1),n||(this.postAuthenticatedEvent({issueIds:t,username:this.token.username,password:this.token.password}),this.analyticsService.trackThirdPartySubscriptionEvent(this.token.userId))},e.prototype.basicAuth=function(e,t){return btoa([e,t].join(":"))},e.prototype.unravelBasicAuth=function(e){var t=atob(e).split(":");return{username:t[0],password:t[1]}},e.prototype.setLaunchCookie=function(){this.config.launchLogin&&this.cookieService.set("ASlaunch",!0,30)},e.prototype.extractDataFromPub=function(e){return e.map(function(e){return{issueId:e.id,publishedDate:e.publishedDate}})},e.prototype.request=function(e,t,n){var i=this.config.publicationCode,o=[this.config.authRoot,i,e].join("/"),r=this.basicAuth(this.token.username,this.token.password),l={issues:this.extractDataFromPub(this.issues),version:2},s=this;$.ajax({type:"POST",async:!0,crossDomain:!0,url:o,dataType:"json",data:JSON.stringify(l),contentType:"application/json",headers:{Authorization:"Basic "+r},success:function(e,t){if(e.status>=401){var i=e.messageHTML||e.message;return void n(i||s.translateService.localize("login-auth-fail"))}e.user&&(s.token.userId=e.user),e.issues||(e={issues:e}),s.cookieService.set(s.config.authToken,r,30),n(null,e)},error:function(e,t){var i;try{i=e.responseText?JSON.parse(e.responseText):void 0}catch(e){i={message:e}}(0===e.status||e.status>=404)&&(t=s.translateService.localize("login-timeout")),n(i&&i.message?i.message:t)}})},e.prototype.preAuthenticate=function(){if(this.storedCredentials=this.cookieService.get(this.config.authToken),this.storedCredentials)this.storedCredentials=this.unravelBasicAuth(this.storedCredentials);else if(this.level===un.AUTH_LEVEL.PUBLICATION)this.loginService.openLoginDialog(un.LOGIN_TYPES.PUBLICATION),this.setLaunchCookie();else if(this.level===un.AUTH_LEVEL.ISSUE&&!this.cookieService.get("ASlaunch")&&this.config.launchLogin){var e=this.router.url.split("/")[1];!this.configService.isStoreEnabled()||""!==e&&e!==un.ROUTES.STORE||this.loginService.openLoginDialog(un.LOGIN_TYPES.PUBLICATION),this.setLaunchCookie()}},e.prototype.postAuthenticateEvent=function(){this.authenticateEvent.emit()},e.prototype.postAuthenticatedEvent=function(e){this.authenticatedEvent.emit(e)},e.prototype.postAuthenticatingEvent=function(e){this.authenticatingEvent.emit(e)},e.prototype.postUnauthenticatedEvent=function(){this.unauthenticatedEvent.emit()},e.prototype.postPreAuthenticatedEvent=function(){this.preAuthenticatedEvent.emit(!0)},e.prototype.getLoggedInUserName=function(){return this.token&&this.token.username},e.prototype.isAuthenticationEnabled=function(){return this.enabled},e.prototype.authenticate=function(e){function t(e,t){if(e)return n.resetToken(),n.endAuthentication(e);var i=!1,o=null,r=[],l=n.issueService.getCurrentIssueMetadataModel()?n.issueService.getCurrentIssueMetadataModel().id:void 0,s=t.issues?t.issues:t;r=s.filter(function(e){return 200===e.status});var a=[];if(r.forEach(function(e){a.push(e.issue)}),r=a,i=r.indexOf(l)>=0,l&&!i){var u={messageHTML:"",message:""};s.forEach(function(e){if(e.issue===l)return u.messageHTML=e.messageHTML,void(u.message=e.message)});var c=u.messageHTML||u.message;o=u?c:"The issue is not available with the credentials provided"}n.issuesAuthorisationChangeEvent.emit({issueIds:r}),n.endAuthentication(o,r)}var n=this;this.token.username=e.username,this.token.password=e.password,this.beginAuthentication(),this.request("authorise",this.token,t)},e.prototype.initialize=function(){this.config=this.configService.getAuthConfig(),this.token=new zn,this.level=this.config.level,this.enabledLevels[this.level]&&this.config.authRoot&&(this.enabled=!0,this.preAuthenticate(),this.authenticateEvent.subscribe(this.authenticate.bind(this)))},e.prototype.unauthenticate=function(){this.resetToken(),this.cookieService.remove(this.config.authToken),this.analyticsService.trackThirdPartySubscriptionEvent(),this.postUnauthenticatedEvent()},e.prototype.authoriseIssues=function(e){this.issues=e,this.storedCredentials&&navigator.onLine?this.authenticate(this.storedCredentials):this.postPreAuthenticatedEvent()},e.prototype.resetToken=function(){this.token.userId="",this.token.username="",this.token.password=""},e.ctorParameters=function(){return[{type:Sn.k},{type:Fn},{type:Pn},{type:hn},{type:bn},{type:Cn},{type:Hn}]},e}(),qn=function(){function e(){this.showConsentViewEvent=new Jt.q,this.hideConsentViewEvent=new Jt.q}return e.prototype.show=function(){this.showConsentViewEvent.emit()},e.prototype.hide=function(){this.hideConsentViewEvent.emit()},e.ctorParameters=function(){return[]},e}(),Un=function(){function e(){this.userAgent=navigator.userAgent,this.orientationChangeEvent=new Jt.q,this.resizeEvent=new Jt.q,this.keyupEvent=new Jt.q,this.fullScreenChangeEvent=new Jt.q,this.type={mac:/Macintosh/.test(this.userAgent),win:/Windows/.test(this.userAgent),desktop:/Windows/.test(this.userAgent)||/Macintosh/.test(this.userAgent),iphone:/iPhone/.test(this.userAgent),ipad:/iPad/.test(this.userAgent),ios:/iPad|iPhone|iPod/.test(this.userAgent),android:/Android/.test(this.userAgent),androidbuiltin:/Android/.test(this.userAgent)&&/Mozilla/.test(this.userAgent)&&/Safari/.test(this.userAgent)&&!/Chrome/.test(this.userAgent),firefox:/Firefox/.test(this.userAgent),webkit:/WebKit/.test(this.userAgent),opera:/Opera/.test(this.userAgent),operamini:/OPR/.test(this.userAgent)||/Mozilla/.test(this.userAgent),ie:/MSIE/.test(this.userAgent)||/Trident/.test(this.userAgent),silk:/Silk/.test(this.userAgent)||/Trident/.test(this.userAgent),safari:/Safari/.test(this.userAgent)&&!/Chrome/.test(this.userAgent)&&!navigator.userAgent.match("CriOS")&&!/FxiOS/.test(this.userAgent),chrome:/Chrome/.test(this.userAgent),uc:/UBrowser/.test(this.userAgent),edge:/Edge/.test(this.userAgent)},this.vendorPrefix=this.prefix().lowercase}return e.prototype.prefix=function(){var e=window.getComputedStyle(document.documentElement,""),t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1];return{dom:"WebKit|Moz|MS|O".match(new RegExp("("+t+")","i"))[1],lowercase:t,css:"-"+t+"-",js:t[0].toUpperCase()+t.substr(1)}},e.prototype.getVendorSpecificName=function(e){return this.vendorPrefix.concat(e)},e.prototype.getWindowOrientation=function(e){var t=window.innerHeight>window.innerWidth?un.ORIENTATION.PORTRAIT:un.ORIENTATION.LANDSCAPE;return this.type.android||this.type.androidbuiltin?t=void 0!==e&&"orientationchange"===e.type&&void 0!==e.target.orientation?0===e.target.orientation||180===e.target.orientation?un.ORIENTATION.PORTRAIT:un.ORIENTATION.LANDSCAPE:window.matchMedia("(orientation: portrait)").matches?un.ORIENTATION.PORTRAIT:un.ORIENTATION.LANDSCAPE:void 0!==window.onorientationchange&&(t=0===window.orientation||180===window.orientation?un.ORIENTATION.PORTRAIT:un.ORIENTATION.LANDSCAPE),t},e.prototype.registerOrientationChange=function(){var e=this;ln.Observable.fromEvent(window,"orientationchange").debounceTime(250).subscribe(function(t){var n=e.getWindowOrientation(t);e.orientationChangeEvent.emit(n)})},e.prototype.registerEvents=function(){this.isTouchEnabledDevice()&&this.registerOrientationChange(),this.registerResizeEvent(),this.registerKeyupEvent(),this.registerFullScreenChangeEvent()},e.prototype.registerResizeEvent=function(){var e=this;ln.Observable.fromEvent(window,"resize").debounceTime(250).subscribe(function(t){e.resizeEvent.emit(t)})},e.prototype.registerKeyupEvent=function(){var e=this;ln.Observable.fromEvent(window,"keyup").debounceTime(50).subscribe(function(t){e.keyupEvent.emit(t)})},e.prototype.registerFullScreenChangeEvent=function(){var e=this;ln.Observable.fromEvent(document,this.getVendorSpecificName("fullscreenchange")).debounceTime(100).subscribe(function(t){e.fullScreenChangeEvent.emit(t)})},e.prototype.isEscapeKeyPressed=function(e){return e=e.originalEvent||e,e.key&&"escape"===e.key.toLowerCase()||27===e.keyCode||"U+001B"===e.keyIdentifier},e.prototype.isTouchEnabledDevice=function(){return void 0===this.touchEnabledDevice&&(this.touchEnabledDevice="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0),this.touchEnabledDevice},e.prototype.isFullScreen=function(){var e=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;return e&&"html"===e.tagName.toLowerCase()},e.prototype.supportsFullScreen=function(){if(this.isTouchEnabledDevice&&!this.isTouchEnabledDesktop())return!1;var e=document.body;return e&&(e.requestFullscreen||e.mozRequestFullScreen||e.webkitRequestFullScreen)},e.prototype.enterFullScreen=function(){var e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullScreen&&e.msRequestFullScreen()},e.prototype.exitFullScreen=function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()},e.prototype.isTouchEnabledDesktop=function(){return void 0===this.touchEnabledDesktop&&(this.touchEnabledDesktop=this.isTouchEnabledDevice()&&this.type.desktop),this.touchEnabledDesktop},e.prototype.getScrollbarWidth=function(){if(void 0===this.scrollbarWidth){var e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.overflow="scroll",e.style.position="absolute",e.style.top="-9999px",document.body.appendChild(e),this.scrollbarWidth=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return this.scrollbarWidth},e.prototype.getScreenDimensions=function(e){return this.type.android||this.type.androidbuiltin||!(window.hasOwnProperty("orientation")&&90===Math.abs(window.orientation)||e===un.ORIENTATION.LANDSCAPE)?{width:screen.width,height:screen.height}:{width:screen.height,height:screen.width}},e.ctorParameters=function(){return[]},e}(),Wn=function(){function e(e){this.bundle=e.bundle,this.title=e.title,this.urnID=e.id,this.publishedDate=e.publishedDate,this.multiVariant=!1,this.isFree=e.isFree,this.viewable=e.isFree,this.type=e.type?e.type:"normal",this.thumbnails=e.thumbnails,this.description=e.description}return e.prototype.getBundlePath=function(){return this.bundle},e.prototype.getIssueUrnID=function(){return this.urnID},e.prototype.isMultiVariant=function(){return this.multiVariant},e.prototype.getID=function(){return this.id},e.prototype.setID=function(e){this.id=e},e.prototype.setMultiVariant=function(e){this.multiVariant=e},e.prototype.setType=function(e){this.type=e},e.prototype.isFreeIssue=function(){return this.isFree},e.prototype.isViewable=function(){return this.viewable},e.prototype.setViewable=function(e){this.viewable=e},e}(),Bn=function(){function e(e){this.configService=e,this.masterKeys=["bundle","retinaBundle","tabletIssuePath","media:thumbnail","thumbnails","media:content","previews"],this.issueMetaUpdatedEvent=new Jt.q}return e.prototype.prepareIssueModel=function(e,t){var n=this;"object"==typeof e&&this.masterKeys.forEach(function(t){if(e.hasOwnProperty(t)){var i=e[t];if("object"==typeof i)for(var o in i)i.hasOwnProperty(o)&&(i[o]=n.getAbsoluteURL(i[o]));else e[t]=n.getAbsoluteURL(e[t])}}),t&&(e.isFree=t);var i=new Wn(e);return i.setID(this.parseIssueId(e.id)),i},e.prototype.parseIssueId=function(e){var t=e.split(":");return t.pop(),t.pop()},e.prototype.getAbsoluteURL=function(e){if(e.search(/http/)>=0)return e;var t=this.configService.getAppRoot();return"/"===e.charAt(0)&&(e=e.substr(1)),t+e},e.prototype.issueMetaUpdated=function(e){this.issueMetaUpdatedEvent.emit(e)},e.ctorParameters=function(){return[{type:hn}]},e}(),jn=function(){function e(){this.showNotificationEvent=new Jt.q,this.alwaysShowNotificationEvent=new Jt.q,this.hideNotificationEvent=new Jt.q}return e.prototype.show=function(e){this.showNotificationEvent.emit(e)},e.prototype.alwaysShow=function(e){this.alwaysShowNotificationEvent.emit(e)},e.prototype.hide=function(){this.hideNotificationEvent.emit()},e.ctorParameters=function(){return[]},e}(),Gn=function(){function e(e,t,n,i,o){this.authService=e,this.http=t,this.configService=n,this.issueMetaService=i,this.notificationService=o,this.publicationUpdatedEvent=new Jt.q,this.issueMetadataModels=[],this.authService.unauthenticatedEvent.subscribe(this.unauthenticated.bind(this)),this.authService.issuesAuthorisationChangeEvent.subscribe(this.authenticated.bind(this))}return e.prototype.init=function(){var e=this,t=this,n=this.configService.getPublicationUrl();return this.http.getNoCache(n).map(function(n){var i=e.authService.isAuthenticationEnabled();e.publishedDate=n.published,n.issues.forEach(function(e){t.issueMetadataModels.push(t.issueMetaService.prepareIssueModel(e,!i))});var o=t.issueMetadataModels.length>0?t.issueMetadataModels[0]:void 0;if(o&&o.setType("promoted"),i){var r=t.issueMetadataModels.filter(function(e){return!e.isFreeIssue()});e.authService.authoriseIssues(r)}}).catch(function(e){throw t.notificationService.alwaysShow("notification-load-config-fail"),e})},e.prototype.authenticated=function(e){e&&this.setUserAccess(!0,e.issueIds?e.issueIds:[])},e.prototype.unauthenticated=function(){this.setUserAccess(!1)},e.prototype.setUserAccess=function(e,t){var n=this;this.issueMetadataModels.forEach(function(i){var o=i.isFreeIssue()||e&&(!t||t.indexOf(i.getID()))>=0;o!==i.isViewable()&&(i.setViewable(o),n.issueMetaService.issueMetaUpdated({issue:i,viewable:o}))}),this.publicationUpdatedEvent.emit(n.issueMetadataModels)},e.prototype.getIssueMetaModelForId=function(e){var t=this.issueMetadataModels.filter(function(t){return t.getID()===e});return t?t[0]:void 0},e.prototype.getIssueMetaModels=function(){return this.issueMetadataModels},e.prototype.getPublishedDate=function(){return this.publishedDate},e.prototype.getFirstIssue=function(){return this.issueMetadataModels.length?this.issueMetadataModels[0]:void 0},e.ctorParameters=function(){return[{type:Vn},{type:an},{type:hn},{type:Bn},{type:jn}]},e}(),Xn=function(){function e(){this.loadAppEvent=new Jt.q}return e.prototype.loadApp=function(){this.loadAppEvent.emit()},e.ctorParameters=function(){return[]},e}(),Yn=function(){function e(e,t,n,i,o,r,l,s,a,u){this.authService=e,this.cookieService=t,this.configService=n,this.consentService=i,this.browserService=o,this.analyticsService=r,this.translateService=l,this.publicationService=s,this.notificationService=a,this.browserSupportService=u,this.showConsentView=!1}return e.prototype.touchmove=function(e){window.zoom&&(e.preventDefault(),e.stopPropagation())},e.prototype.isUnsupportedBrowser=function(){this.browserUnsupported=!0;var e=this.browserService.type;return this.browserUnsupported=e.ie||e.uc||!(e.chrome||e.safari||e.firefox||e.opera||e.operamini||e.edge||e.silk),this.browserUnsupported},e.prototype.ngOnInit=function(){var e=navigator.language;this.translateService.use(e.match(/^(de|es|fr|it|ja|nl|pt)/)?e:un.APP.FALLBACK_LANGUAGE),this.loadAppEvent=this.browserSupportService.loadAppEvent.subscribe(this.loadApp.bind(this)),this.isUnsupportedBrowser()||this.loadApp()},e.prototype.loadApp=function(){this.loadAppEvent&&(this.loadAppEvent.unsubscribe(),this.loadAppEvent=void 0),this.browserUnsupported=!1,window.serviceWorkerEventTriggered?this.loadConfig():window.addEventListener("serviceWorkerEvent",this.loadConfig.bind(this));var e=function(e){e.preventDefault()};document.body.addEventListener("gesturechange",e,!1),document.body.addEventListener("gesturestart",e,!1),document.body.addEventListener("gestureend",e,!1),window.addEventListener("online",this.showConnectionStatus.bind(this)),window.addEventListener("offline",this.showConnectionStatus.bind(this)),!this.browserService.isTouchEnabledDevice()||this.browserService.isTouchEnabledDesktop()?document.documentElement.classList.add("non-touch"):document.documentElement.classList.add("touch"),this.browserService.registerEvents()},e.prototype.showConnectionStatus=function(){navigator.onLine?this.notificationService.hide():this.notificationService.alwaysShow("notification-offline")},e.prototype.unsubscribeEvents=function(){this.fetchIssueObserver&&(this.fetchIssueObserver.unsubscribe(),this.fetchIssueObserver=void 0),window.removeEventListener("serviceWorkerEvent",this.loadConfig.bind(this)),window.removeEventListener("online",this.showConnectionStatus.bind(this)),window.removeEventListener("offline",this.showConnectionStatus.bind(this))},e.prototype.loadConfig=function(){this.fetchIssueObserver=this.configService.fetchConfig().subscribe(this.fetchConfig.bind(this))},e.prototype.fetchConfig=function(e){var t=this;"error"===e?"file:"===window.location.protocol?this.configError=!0:this.notificationService.show("notification-load-config-fail"):(this.configLoaded=!0,this.setTitle(),this.publicationService.init().subscribe(function(){t.publicationLoaded=!0}),this.configService.isAuthorizationEnabled()?(this.authService.initialize(),this.handleAuth()):this.updateAuthenticationState(!0),this.configService.isAnalyticsEnabled()&&this.analyticsService.initialize(),this.configService.isUserConsentEnabled()&&!this.cookieService.get(un.CONSENT_COOKIE)&&(this.showConsentView=this.configService.isUserConsentEnabled(),this.hideConsentViewEvent=this.consentService.hideConsentViewEvent.subscribe(this.hideConsentView.bind(this))))},e.prototype.handleAuth=function(){this.authService.isAuthenticationEnabled()?(this.authService.authenticatedEvent.subscribe(this.updateAuthenticationState.bind(this)),"issue"===this.configService.getAuthConfig().level&&this.authService.preAuthenticatedEvent.subscribe(this.updateAuthenticationState.bind(this))):this.updateAuthenticationState(!0)},e.prototype.updateAuthenticationState=function(e){e&&(this.authorized=e)},e.prototype.hideConsentView=function(){this.showConsentView=!1,this.hideConsentViewEvent&&(this.hideConsentViewEvent.unsubscribe(),this.hideConsentViewEvent=void 0)},e.prototype.setTitle=function(){document.title=this.configService.getAppTitle()},e.prototype.ngOnDestroy=function(){this.unsubscribeEvents()},e.ctorParameters=function(){return[{type:Vn},{type:bn},{type:hn},{type:qn},{type:Un},{type:Hn},{type:Fn},{type:Gn},{type:jn},{type:Xn}]},e}(),Zn=["#store{display:block;transition-property:all;transition-duration:0s;transition-timing-function:ease;font-size:10px;z-index:5}#store.portrait .promotedIssue .jumbotron .content-container .thumbnail{width:20%}#store a{color:#4d4d4d}#store a:hover{color:#00adef;cursor:pointer}@media (max-width:480px){#store .standardIssue,#store qrk-store-footer,#store qrk-store-header{width:90%;max-width:90%;margin:0 auto}#store .issueContainer{width:103%;margin-left:-3%}#store .issueContainer .issue{width:47%;margin-left:3%;margin-bottom:3%}#store #fullscr{position:absolute;top:15px;right:15px}#store qrk-store-header .store-tools{display:inline-block;position:inherit;width:100%;margin-top:10px}#store qrk-store-header .store-tools .actions{float:none}#store qrk-store-header .store-greeting{width:100%}#store.portrait .promotedIssue .jumbotron .content-container .thumbnail{width:45%}#store .promotedIssue .jumbotron .content-container{padding-top:20px}#store .promotedIssue .jumbotron .content-container .info{float:none;margin:0 auto;width:100%;padding-bottom:20px}#store .promotedIssue .jumbotron .content-container .info p{display:none}#store .promotedIssue .jumbotron .content-container .thumbnail{width:55%;padding-bottom:15px;float:none;margin:0 auto}#store .promotedIssue .jumbotron .content-container .thumbnail.portrait{width:55%}#store .promotedIssue .jumbotron .content-container .thumbnail.landscape{width:45%}}@media (min-width:481px) and (max-width:768px){#store .standardIssue,#store qrk-store-footer,#store qrk-store-header{width:90%;max-width:90%;margin:0 auto}#store .issueContainer{width:103%;margin-left:-3%}#store .issueContainer .issue{width:30.33333333%;margin-left:3%;margin-bottom:3%}#store #fullscr{position:absolute;top:15px;right:15px}#store qrk-store-header .store-tools{display:inline-block;position:inherit;width:100%;margin-top:10px}#store qrk-store-header .store-tools .actions{float:none}#store qrk-store-header .store-greeting{width:100%}#store.portrait .promotedIssue .jumbotron .content-container .thumbnail{width:30%}#store .promotedIssue .jumbotron .content-container{padding-top:30px}#store .promotedIssue .jumbotron .content-container .thumbnail{float:none;width:45%;margin:0 auto;padding-bottom:25px}#store .promotedIssue .jumbotron .content-container .thumbnail.portrait{width:45%}#store .promotedIssue .jumbotron .content-container .thumbnail.landscape{width:30%}#store .promotedIssue .jumbotron .content-container .info{float:none;margin:0 auto;width:100%;padding-bottom:30px}#store .promotedIssue .jumbotron .content-container .info p{display:none}}@media (min-width:769px) and (max-width:991px){#store .standardIssue,#store qrk-store-footer,#store qrk-store-header{width:90%;max-width:90%;margin:0 auto}#store .issueContainer{width:103%;margin-left:-3%}#store .issueContainer .issue{width:22%;margin-left:3%;margin-bottom:3%}#store #fullscr{position:absolute;top:15px;right:15px}#store qrk-store-header .store-tools{display:inline-block;position:inherit;width:100%;margin-top:10px}#store qrk-store-header .store-tools .actions{float:none}#store qrk-store-header .store-greeting{width:100%}#store .promotedIssue .jumbotron .content-container .info{width:55%}}@media (min-width:992px) and (max-width:1199px){#store .standardIssue,#store qrk-store-footer,#store qrk-store-header{width:90%;max-width:90%;margin:0 auto}#store .issueContainer{width:102%;margin-left:-2%}#store .issueContainer .issue{width:18%;margin-left:2%;margin-bottom:2%}#store qrk-store-header .store-greeting,#store qrk-store-header .store-tools{width:50%}#store .promotedIssue .jumbotron .content-container .info{width:60%}}@media (min-width:1200px){#store .standardIssue,#store qrk-store-footer,#store qrk-store-header{width:90%;max-width:1300px;margin:0 auto}#store .issueContainer{width:103%;margin-left:-3%}#store .issueContainer .issue{width:17%;margin-left:3%;margin-bottom:3%}#store .promotedIssue .jumbotron .content-container{width:90%;max-width:1300px;margin:0 auto;position:relative;height:100%}}"],Kn=['qrk-store-header{display:block;zoom:1;padding:12px 0 20px}qrk-store-header:after,qrk-store-header:before{content:"";display:table}qrk-store-header:after{clear:both}qrk-store-header h1{font-size:24px;line-height:1.3em;margin:5px 30px 0 0;color:#4d4d4d}qrk-store-header a,qrk-store-header p{font-size:1.4em;line-height:1.4em;color:#666;margin:0}qrk-store-header .store-tools{position:absolute;top:15px;right:15px;width:35%}qrk-store-header .store-greeting{width:65%}qrk-store-header .actions{float:right;padding-right:20px}qrk-store-header .actions a{display:inline-block;line-height:40px;margin-left:20px}qrk-store-header .actions a:first-child{margin-left:0}qrk-store-header .actions p{display:inline-block}qrk-store-header #get-app{background:#0077b5;font-size:1.4em;line-height:1.4em;border:0 none;height:36px;width:169px;color:#fff;float:right;border-radius:3px;background-clip:padding-box}qrk-store-header .more{width:50px;margin:0 auto}qrk-store-header .tight{letter-spacing:-.5px}qrk-store-header #fullscr{float:right;width:40px;height:40px;text-align:center;background:none;border-radius:4px;padding:6px;border:1px solid #e4e4e4}qrk-store-header #fullscr:hover{cursor:pointer;border:1px solid #ddd;background-color:#f4f4f4}qrk-store-header #fullscr:active svg,qrk-store-header #fullscr:hover svg{fill:rgba(0,173,239,.8)}'],Qn=function(){function e(e,t,n){this.http=e,this.renderer=t,this.elementRef=n}return Object.defineProperty(e.prototype,"svg",{set:function(e){this.loadSvg(e)},enumerable:!0,configurable:!0}),e.prototype.loadSvg=function(e){var t=this;this.http.get("svg/"+e,"text").subscribe(function(e){var n=t.elementRef.nativeElement,i=(new DOMParser).parseFromString(e,"image/svg+xml");n.innerHTML="",t.renderer.projectNodes(n,[i.documentElement])},function(e){console.error(e)})},e.ctorParameters=function(){return[{type:an},{type:Jt.O},{type:Jt.o}]},e}(),$n=[],Jn=Jt._14({encapsulation:2,styles:$n,data:{}}),ei=(Jt._12("qrk-svg",Qn,o,{svg:"svg"},{},["*"]),function(){function e(e){this.translate=e}return e.prototype.transform=function(e,t){var n="";return e&&(n=this.translate.localize(e)),n},e.ctorParameters=function(){return[{type:Fn}]},e}()),ti=function(){function e(e,t){this.browserService=e,this.analyticsService=t,this.enterFullScreenEvent=new Jt.q,this.exitFullScreenEvent=new Jt.q}return e.prototype.enterFullScreen=function(){this.browserService.enterFullScreen(),this.analyticsService.trackEvent({eventCategory:un.ANALYTICS_CATEGORY.APPLICATION,eventAction:un.ANALYTICS_ACTIONS.FULLSCREEN,eventLabel:document.title})},e.prototype.exitFullScreen=function(){this.browserService.exitFullScreen()},e.prototype.isFullScreen=function(){return this.browserService.isFullScreen()},e.ctorParameters=function(){return[{type:Un},{type:Hn}]},e}(),ni=function(){function e(e,t,n,i,o,r){this.authService=e,this.browserService=t,this.loginService=n,this.translateService=i,this.fullScreenService=o,this.configService=r;var l=this.configService.getAuthConfig();this.loginLabel=l.loginLabel,this.logOutLabel="login"===l.loginLabel?"logout":"signout",this.subscribeUrl=l.subscribeUrl,this.subscribeLabel=l.subscribeLabel,this.subscribeEvents()}return e.prototype.ngOnInit=function(){this.greeting=this.translateService.localize("greeting"),this.greeting=this.greeting.replace("^1",this.configService.getAppTitle()),this.summary=this.configService.getPublicationSummary(),this.username=this.authService.getLoggedInUserName(),this.issueLevelAuth=this.authService.isAuthenticationEnabled()&&this.configService.getAuthConfig().level===un.AUTH_LEVEL.ISSUE,this.updateSmartBannerButton(),this.showFullScreenButton=!(this.browserService.isTouchEnabledDevice()&&!this.browserService.isTouchEnabledDesktop()),this.showFullScreenButton&&(this.updateButton(),this.subscribeFullScreenChangeEvent())},e.prototype.isValidBundleId=function(e){return/^([a-zA-Z]+).([a-zA-Z]+).([a-zA-Z]+)$/.test(e)},e.prototype.getApp=function(){var e=this.configService.getSmartBannerConfig();e&&(this.browserService.type.ios&&e.ios.enabled?this.isValidBundleId(e.ios.id)?$.ajax({dataType:"jsonp",url:"https://itunes.apple.com/lookup?bundleId="+e.ios.id,success:function(e,t,n){e.resultCount?location.href=e.results[0].trackViewUrl:console.log("App not available.")},error:function(e,t,n){console.log("App not available.")}}):this.isValidUrl(e.ios.id)?location.href=e.ios.id:console.log("Invalid smartBanner.ios.id"):this.browserService.type.android&&e.android.enabled&&(this.isValidBundleId(e.android.id)?location.href="https://play.google.com/store/apps/details?id="+e.android.id:this.isValidUrl(e.android.id)?location.href=e.android.id:console.log("Invalid smartBanner.android.id")))},e.prototype.toggleFullScreen=function(){this.fullScreenService.isFullScreen()?this.fullScreenService.exitFullScreen():this.fullScreenService.enterFullScreen()},e.prototype.isValidUrl=function(e){return/(http|ftp|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&amp;:\/~\+#]*[\w\-\@?^=%&amp;\/~\+#])?/.test(e)},e.prototype.updateButton=function(){var e=this.configService.getFullScreenConfig();this.browserService.isFullScreen()?(this.fullScreen=e.fullScreenExit.svg,this.fullScreenTooltip=this.translateService.localize(e.fullScreenExit.tooltip)):(this.fullScreen=e.fullScreenEnter.svg,this.fullScreenTooltip=this.translateService.localize(e.fullScreenEnter.tooltip))},e.prototype.subscribeEvents=function(){this.authenticatedEvent=this.authService.authenticatedEvent.subscribe(this.onAuthenticated.bind(this)),this.unauthenticatedEvent=this.authService.unauthenticatedEvent.subscribe(this.onAuthenticated.bind(this))},e.prototype.subscribeFullScreenChangeEvent=function(){this.fullScreenChangeEvent=this.browserService.fullScreenChangeEvent.subscribe(this.updateButton.bind(this))},e.prototype.unsubscribeEvents=function(){this.authenticatedEvent&&(this.authenticatedEvent.unsubscribe(),this.authenticatedEvent=void 0),this.unauthenticatedEvent&&(this.unauthenticatedEvent.unsubscribe(),this.unauthenticatedEvent=void 0),this.fullScreenChangeEvent&&(this.fullScreenChangeEvent.unsubscribe(),this.fullScreenChangeEvent=void 0)},e.prototype.updateSmartBannerButton=function(){var e=this.configService.getSmartBannerConfig();this.configService.isSmartBannerEnabled()&&(this.browserService.type.ios&&e.ios.enabled||this.browserService.type.android&&e.android.enabled)?this.isAppLinkAvailable=!0:this.isAppLinkAvailable=!1},e.prototype.onAuthenticated=function(e){this.username=e&&e.username?e.username:""},e.prototype.login=function(e){this.loginService.openLoginDialog(un.LOGIN_TYPES.PUBLICATION)},e.prototype.logout=function(){this.authService.unauthenticate(),this.configService.getAuthConfig().level===un.AUTH_LEVEL.PUBLICATION&&window.location.reload()},e.prototype.ngOnDestroy=function(){this.unsubscribeEvents()},e.ctorParameters=function(){return[{type:Vn},{type:Un},{type:Pn},{type:Fn},{type:ti},{type:hn}]},e}(),ii=[Kn],oi=Jt._14({encapsulation:2,styles:ii,data:{}}),ri=(Jt._12("qrk-store-header",ni,d,{},{},[]),[".issueContainer{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}.more{width:50px;margin:0 auto}"]),li=function(){function e(e,t,n,i){this.el=e,this.configService=t,this.browserService=n,this.issueMetaService=i,this.subscribeEvents()}return e.prototype.subscribeEvents=function(){this.orientationChangeEvent=this.browserService.orientationChangeEvent.subscribe(this.onOrientationChange.bind(this))},e.prototype.unsubscribeEvents=function(){this.orientationChangeEvent&&(this.orientationChangeEvent.unsubscribe(),this.orientationChangeEvent=void 0),this.issueMetaUpdatedEvent&&(this.issueMetaUpdatedEvent.unsubscribe(),this.issueMetaUpdatedEvent=void 0)},e.prototype.onViewableChange=function(e){e.issue.id===this.model.id&&(this.model.viewable=this.viewable=e.issue.viewable)},e.prototype.dummy=function(){},e.prototype.onOrientationChange=function(){this.loadThumbnail(this.dummy.bind(this))},e.prototype.setModel=function(e){this.model=e,this.link="/"+un.ROUTES.ISSUE+"/"+e.id+"/1",this.viewable=e.viewable,this.subscribeUrl=e.subscribeUrl?e.subscribeUrl:"",this.issueMetaUpdatedEvent=this.issueMetaService.issueMetaUpdatedEvent.subscribe(this.onViewableChange.bind(this))},e.prototype.loadThumbnail=function(e){var t=this;if(e=this.storeCallback(e),!this.getImage().src)return void e(new Error("Thumbnail not specified for "+this.model.id));var n=function(){var n=t.getImageElement(),i=t.getImage(),o=i.src,r=i.orientation,l=t.el.nativeElement.getElementsByClassName("thumbnail")[0];t.setThumbnailClass(l,r),t.attachLoadEvents(e,n,o),n.src=o};this.browserService.isTouchEnabledDevice()?setTimeout(n,250):setTimeout(n,0)},e.prototype.getImageElement=function(){return this.el.nativeElement.getElementsByTagName("img")[0]},e.prototype.attachLoadEvents=function(e,t,n){$(t).on("load",{callback:e,image:t,src:n},this.onThumbnailLoaded.bind(this)),$(t).on("error",{callback:e,image:t,src:n},this.onThumbnailLoaded.bind(this))},e.prototype.onThumbnailLoaded=function(e){if(this.destroyLoadEvents(e.data.image),"error"===e.type)return e.data.callback(new Error("Thumbnail load error for "+this.model.id+" src: "+e.data.src)),void(e.target.style.opacity=0);this.fadeContentIn(e.data.image),e.data.callback(),this.forgetCallback()},e.prototype.destroyLoadEvents=function(e){$(e).off("load",this.onThumbnailLoaded.bind(this)),$(e).off("error",this.onThumbnailLoaded.bind(this))},e.prototype.fadeContentIn=function(e){$(e).animate({opacity:1},{duration:300})},e.prototype.forgetCallback=function(){this.currentCallback=null},e.prototype.setThumbnailClass=function(e,t){e.classList.contains(un.ORIENTATION.PORTRAIT)&&e.classList.remove(un.ORIENTATION.PORTRAIT),e.classList.contains(un.ORIENTATION.LANDSCAPE)&&e.classList.remove(un.ORIENTATION.LANDSCAPE),t&&t===un.ORIENTATION.PORTRAIT?e.classList.add(un.ORIENTATION.PORTRAIT):e.classList.add(un.ORIENTATION.LANDSCAPE)},e.prototype.storeCallback=function(e){return this.currentCallback=this.currentCallback?this.currentCallback:e},e.prototype.getOrientation=function(){var e=this.browserService.isTouchEnabledDevice()&&!this.browserService.isTouchEnabledDesktop();return this.configService.getPublicationOrientation(e)||this.browserService.getWindowOrientation()},e.prototype.getImage=function(){var e,t=this.model.thumbnails,n=this.getOrientation(),i={landscape:["ln_450","landscape"],portrait:["pt_456","portrait"]};return e=t[i[n][0]]||t[i[n][1]],e||(n=n===un.ORIENTATION.LANDSCAPE?un.ORIENTATION.PORTRAIT:un.ORIENTATION.LANDSCAPE,e=t[i[n][0]]||t[i[n][1]]),{src:e||"",orientation:n}},e.prototype.ngOnDestroy=function(){this.unsubscribeEvents()},e.ctorParameters=function(){return[{type:Jt.o},{type:hn},{type:Un},{type:Bn}]},e}(),si=function(){function e(e){this.sanitizer=e}return e.prototype.setBannerHeight=function(e){this.bannerHeight=e},e.prototype.setBannerSource=function(e){-1!==e.indexOf(".zip")&&(e=e.replace(".zip","/index.html")),this.bannerSrc=e,this.safeResourceURL=this.sanitizer.bypassSecurityTrustResourceUrl(this.bannerSrc)},e.prototype.getSource=function(){return this.bannerSrc},e.ctorParameters=function(){return[{type:tn.c}]},e}(),ai=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ui=function(e){function t(t,n,i,o){var r=e.call(this,t,n,i,o)||this;return r.el=t,r.configService=n,r.browserService=i,r.issueMetaService=o,r}return ai(t,e),t.prototype.loadThumbnail=function(e){var t=this;if(e=this.storeCallback(e),!this.getImage().src)return void e(new Error("Thumbnail not specified for "+this.model.id));setTimeout(function(){var n=t.el.nativeElement.getElementsByTagName("img")[0],i=t.getImage(),o=i.src,r=i.orientation,l=t.el.nativeElement.querySelector(".thumbnail");t.setThumbnailClass(l,r),t.attachLoadEvents(e,n,o),n.src=o,t.el.nativeElement.querySelector(".background-container").style.backgroundImage="url("+o+")"},t.browserService.isTouchEnabledDevice()?250:0)},t.prototype.onThumbnailLoaded=function(e){var t=null;this.destroyLoadEvents(e.data.image),"error"===e.type&&(t=new Error("Thumbnail load error for "+this.model.id+" src: "+e.data.src),e.target.style.opacity=0),e.data.callback(t),this.forgetCallback()},t.ctorParameters=function(){return[{type:Jt.o},{type:hn},{type:Un},{type:Bn}]},t}(li),ci=function(){function e(e,t,n,i,o){this.componentFactoryResolver=e,this.publicationService=t,this.browserService=n,this.configService=i,this.el=o,this.loadedCounter=0,this.canDisplayBanner=!0,this.promotedIssueEnabled=this.configService.isPromotedIssueEnabled(),this.canDisplayBanner=this.configService.isStoreBannerEnabled(),this.setIssues(),this.issueViews=[]}return e.prototype.setIssues=function(e){this.issues=this.publicationService.getIssueMetaModels()},e.prototype.ngOnInit=function(){this.promotedIssueEnabled||this.el.nativeElement.getElementsByClassName("promotedIssue")[0].remove(),this.canDisplayBanner?this.addBannerView():this.removeBanner(),this.moreElement=this.el.nativeElement.getElementsByClassName("more")[0],this.issueComponentFactory=this.componentFactoryResolver.resolveComponentFactory(li),this.subscribeEvents(),this.appendLoadEvents()},e.prototype.subscribeEvents=function(){this.publicationUpdatedEvent=this.publicationService.publicationUpdatedEvent.subscribe(this.setIssues.bind(this))},e.prototype.unsubscribeEvents=function(){this.destroyLoadEvents(),this.publicationUpdatedEvent&&(this.publicationUpdatedEvent.unsubscribe(),this.publicationUpdatedEvent=void 0)},e.prototype.ngAfterContentInit=function(){this.onLoadMore()},e.prototype.addBannerView=function(){this.bannerViewInstance=this.componentFactoryResolver.resolveComponentFactory(si),this.bannerViewInstance=this.bannerRef.createComponent(this.bannerViewInstance);var e=this.bannerViewInstance.instance;e.setBannerSource(this.configService.getStoreBannerConfig().source),e.setBannerHeight(this.configService.getStoreBannerConfig().height+"px"),this.loadBanner(e.getSource(),this.removeBanner.bind(this))},e.prototype.loadBanner=function(e,t){$.ajax({url:e,type:"GET",cache:!1,error:t})},e.prototype.removeBanner=function(){this.bannerViewInstance&&this.bannerViewInstance.destroy(),this.el.nativeElement.getElementsByClassName("externalBanner")[0].remove()},e.prototype.appendLoadEvents=function(){this.resizeEvent=this.browserService.resizeEvent.subscribe(this.onWindowScroll.bind(this)),this.scrollEvent=ln.Observable.fromEvent(window,"scroll").subscribe(this.onWindowScroll.bind(this))},e.prototype.destroyLoadEvents=function(){this.scrollEvent&&(this.scrollEvent.unsubscribe(),this.scrollEvent=void 0),this.resizeEvent&&(this.resizeEvent.unsubscribe(),this.resizeEvent=void 0)},e.prototype.onWindowScroll=function(e){this.getLoadMoreVisible()&&this.onLoadMore()},e.prototype.onLoadMore=function(e){if(!this.loading){this.loading=!0;var t=this.issues;if(t.length>this.loadedCounter){var n=t[this.loadedCounter];if(n.subscribeUrl=this.configService.getSubscribeUrl(),this.promotedIssueEnabled&&void 0===this.promotedIssueInstance)this.promotedIssueInstance=this.componentFactoryResolver.resolveComponentFactory(ui),this.promotedIssueInstance=this.promoteRef.createComponent(this.promotedIssueInstance).instance,this.promotedIssueInstance.setModel(n),this.appendPromoted(this.promotedIssueInstance);else{var i=this.standardIssuesListRef.createComponent(this.issueComponentFactory).instance;i.setModel(n),this.appendIssue(i)}}else this.onThumbnailLoaded(null)}},e.prototype.restrictLinesOnViews=function(){this.promotedIssueInstance&&this.promotedIssueInstance.restrictLines(),this.issueViews.forEach(function(e){e.restrictLines()})},e.prototype.onThumbnailLoaded=function(e){e&&console.log(e),this.loadedCounter=this.loadedCounter+1,this.loading=!1;var t=this.issues.length;0!==t&&this.loadedCounter!==t||(this.moreElement.style.display="none",this.destroyLoadEvents()),this.loadedCounter<=t&&this.getLoadMoreVisible()&&this.onLoadMore()},e.prototype.appendIssue=function(e){this.issueViews.push(e),e.loadThumbnail(this.onThumbnailLoaded.bind(this))},e.prototype.appendPromoted=function(e){e.loadThumbnail(this.onThumbnailLoaded.bind(this))},e.prototype.getLoadMoreVisible=function(){return 0===this.issueViews.length||this.issueViews.length!==this.issues.length&&window.scrollY+window.innerHeight>this.issueViews[this.issueViews.length-1].el.nativeElement.offsetTop},e.prototype.ngOnDestroy=function(){this.unsubscribeEvents()},e.ctorParameters=function(){return[{type:Jt.l},{type:Gn},{type:Un},{type:hn},{type:Jt.o}]},e}(),hi=[ri],pi=Jt._14({encapsulation:2,styles:hi,data:{}}),di=(Jt._12("qrk-store-grid",ci,m,{},{},[]),["qrk-store-footer{margin-top:40px;padding:20px;background:transparent;font-size:12px;color:#4d4d4d;text-align:center;display:block}qrk-store-footer small{font-size:100%}qrk-store-footer .appstudio-logo{display:inline-block;width:100px;height:40px;margin:0 5px;transform:scale(1.5);vertical-align:middle;background-size:contain;background-repeat:no-repeat}"]),gi=function(){function e(){}return e.prototype.ngOnInit=function(){var e=window.VERSION;if(e){var t=e.split("-");this.version=t[0],this.branch=t[1],this.timestamp=t[3],this.buildNumber=t[4]}},e}(),vi=[di],fi=Jt._14({encapsulation:2,styles:vi,data:{}}),bi=(Jt._12("qrk-store-footer",gi,_,{},{},[]),function(){function e(e,t,n,i){this.configService=e,this.routeService=t,this.browserService=n,this.analyticsService=i,this.id="store",document.documentElement.classList.add("store")}return e.prototype.ngOnInit=function(){this.configService.isStoreEnabled()?(this.updateClass(this.browserService.getWindowOrientation()),this.analyticsService.trackPageView({page:window.location.href,title:un.ANALYTICS_CATEGORY.STORE}),this.subscribeEvents()):this.routeService.navigateToPage(1)},e.prototype.subscribeEvents=function(){this.browserService.isTouchEnabledDevice&&!this.browserService.isTouchEnabledDesktop&&(this.orientationChangeEvent=this.browserService.orientationChangeEvent.subscribe(this.updateClass.bind(this)))},e.prototype.unsubscribeEvents=function(){this.orientationChangeEvent&&(this.orientationChangeEvent.unsubscribe(),this.orientationChangeEvent=void 0)},e.prototype.updateClass=function(e){this.landscape=e===un.ORIENTATION.LANDSCAPE,this.portrait=!this.landscape},e.prototype.ngOnDestroy=function(){document.documentElement.classList.remove("store"),this.unsubscribeEvents()},e.ctorParameters=function(){return[{type:hn},{type:En},{type:Un},{type:Hn}]},e}()),mi=[Zn],yi=Jt._14({encapsulation:2,styles:mi,data:{}}),_i=Jt._12("qrk-store",bi,S,{},{},[]),wi=["[_nghost-%COMP%]{display:block;overflow:hidden;-ms-touch-action:none;touch-action:none}.wrapper[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute}.arrow[_ngcontent-%COMP%]{width:18px;height:18px;margin-top:18px;border-radius:5px;border-top:5px solid;border-right:5px solid;border-color:#a3a3a3}.arrow-container[_ngcontent-%COMP%]{position:fixed;top:calc(50% - 30px);height:60px;z-index:1100;background-color:hsla(0,0%,100%,.2)}.right-arrow-container[_ngcontent-%COMP%]{right:0}.right-arrow[_ngcontent-%COMP%]{position:relative;margin-right:10px;transform:rotate(45deg)}.left-arrow-container[_ngcontent-%COMP%]{left:0}.left-arrow[_ngcontent-%COMP%]{position:relative;margin-left:10px;transform:rotate(225deg)}#contentWrapper[_ngcontent-%COMP%]{top:0;bottom:0;left:0;right:0}"],Si=function(){function e(){this.pageListClickEvent=new Jt.q,this.pageListViewLoadedEvent=new Jt.q,this.pageListNavigateEvent=new Jt.q}return e.ctorParameters=function(){return[]},e}(),Ei=function(){function e(e,t){this.configService=e,this.browserService=t,this.spreadModeChangedEvent=new Jt.q}return e.prototype.modeChanged=function(e){this.spreadModeChangedEvent.emit(e)},e.prototype.canShowSpreadView=function(){var e=!1;return this.configService.isSpreadViewEnabled()&&this.browserService.getWindowOrientation()===un.ORIENTATION.LANDSCAPE&&(e=!0),e},e.ctorParameters=function(){return[{type:hn},{type:Un}]},e}(),Ci=function(){function e(){this.videoStartEvent=new Jt.q,this.videoStopEvent=new Jt.q}return e.prototype.videoStarted=function(){this.videoStartEvent.emit()},e.prototype.videoStopped=function(){this.videoStopEvent.emit()},e.ctorParameters=function(){return[]},e}(),Pi=function(){function e(e,t,n,i,o){this.browserService=e,this.configService=t,this.pageService=n,this.routeService=i,this.videoStateService=o,this.preventVariantChangeCount=0,this.variantChangedEvent=new Jt.q,console.log("Inside Variant Service"),this.subscribeEvents(),this.spreadMode=this.configService.isSpreadViewEnabled()}return e.prototype.subscribeEvents=function(){this.browserService.isTouchEnabledDevice()&&!this.browserService.isTouchEnabledDesktop()?this.browserService.orientationChangeEvent.subscribe(this.getAppropriateVariant.bind(this)):this.configService.isVariantSwitchingEnabled()&&this.browserService.resizeEvent.subscribe(this.onResize.bind(this)),this.routeService.gotoStoreEvent.subscribe(this.resetState.bind(this)),this.videoStateService.videoStartEvent.subscribe(this.videoStarted.bind(this)),this.videoStateService.videoStopEvent.subscribe(this.videoStopped.bind(this)),this.pageService.currentPageChangedEvent.subscribe(this.resetPreventVariantChangeCount.bind(this))},e.prototype.resetState=function(){this.variants=void 0,this.currentVariant=void 0,this.resetPreventVariantChangeCount(),this.spreadMode=this.configService.isSpreadViewEnabled()},e.prototype.subscribeOnScreenEvent=function(){this.unsubscribeOnScreenEvent(),this.onScreenEvent=this.pageService.onScreenEvent.subscribe(this.cacheVariant.bind(this))},e.prototype.unsubscribeOnScreenEvent=function(){this.onScreenEvent&&(this.onScreenEvent.unsubscribe(),this.onScreenEvent=void 0)},e.prototype.videoStarted=function(){this.preventVariantChangeCount++},e.prototype.videoStopped=function(){--this.preventVariantChangeCount<0&&(this.preventVariantChangeCount=0)},e.prototype.resetPreventVariantChangeCount=function(){this.preventVariantChangeCount=0},e.prototype.getVariants=function(){return this.variants},e.prototype.setVariants=function(e){var t=this.browserService.isTouchEnabledDevice()&&!this.browserService.isTouchEnabledDesktop(),n=this.configService.getPublicationOrientation(t);void 0!==n&&(e=e.filter(function(e){return e.orientation===n})),this.variants=this.spreadMode?this.transformVariantsForFacingPages(e):e},e.prototype.transformVariantsForFacingPages=function(e){for(var t,n=this,i=0;i<e.length;++i){if(e[i].orientation===un.ORIENTATION.LANDSCAPE){if(!this.isFacingVariant(e[i]))return e;t=!0}}var o,r=[];if(t){var l=this.browserService.isTouchEnabledDevice();(l&&this.configService.isLandscapeFacingEnabledForMobile()||l&&this.browserService.isTouchEnabledDesktop()&&this.configService.isLandscapeFacingEnabledForDesktop()||!l&&this.configService.isLandscapeFacingEnabledForDesktop())&&(o=e.filter(function(e){return e.orientation===un.ORIENTATION.LANDSCAPE&&n.isFacingVariant(e)}))}else o=e.filter(function(e){return n.isFacingVariant(e)});return o&&o.forEach(function(e){var t=Object.assign({},e);t.facing=!0,t.width=e.width?e.width:n.getDefaultWidthForPage(t.orientation),t.width=2*t.width,t.pages=n.updateFacingPageModels(t.pages),r.push(t)}),r.length?e.concat(r):e},e.prototype.hasSpineInformation=function(e){return e.spreadId&&e.pagePosition&&e.pagePosition.length>0},e.prototype.isPageLeftOfSpine=function(e){return e.pagePosition&&e.pagePosition.toLowerCase()===un.PAGE.LEFT_OF_SPINE},e.prototype.isPageRightOfSpine=function(e){return e.pagePosition&&e.pagePosition.toLowerCase()===un.PAGE.RIGHT_OF_SPINE},e.prototype.getFacingPage=function(e,t){if(this.hasSpineInformation(t)){var n=null,i=t.index-1;if(this.isPageRightOfSpine(t)&&i-1>=0){var o=e[i-1];this.hasSpineInformation(o)&&o.spreadId===t.spreadId&&this.isPageLeftOfSpine(o)&&(n=o)}else if(this.isPageLeftOfSpine(t)&&i+1<e.length){var r=e[i+1];this.hasSpineInformation(r)&&r.spreadId===t.spreadId&&this.isPageRightOfSpine(r)&&(n=r)}n&&(t.facingUrl=n.url,t.facingIndex=n.index,t.facingPagePosition=n.pagePosition)}return t},e.prototype.updateFacingPageModels=function(e){var t=this;return e.forEach(function(n){n=t.getFacingPage(e,n)}),e},e.prototype.getDefaultWidthForPage=function(e){return e.toLowerCase()===un.ORIENTATION.PORTRAIT?un.PAGE.DEFAULT_PORTRAIT_WIDTH:un.PAGE.DEFAULT_LANDSCAPE_WIDTH},e.prototype.isFacingVariant=function(e){for(var t,n=0;n<e.pages.length;n++)if(e.pages[n].pagePosition){t=!0;break}return t},e.prototype.onResize=function(){navigator.onLine&&this.getAppropriateVariant()},e.prototype.getAppropriateVariant=function(e){if(!(this.preventVariantChangeCount>0)){e=e&&"string"==typeof e?e:this.browserService.getWindowOrientation();var t=this.closestVariant(e,this.variants);if(t!==this.currentVariant)return this.setCurrentVariant(t),t}},e.prototype.closestVariant=function(e,t){var n,i=t[0],o=e,r=window.innerWidth,l=window.innerHeight;if(this.browserService.isTouchEnabledDevice()&&!this.browserService.isTouchEnabledDesktop()){var s=this.browserService.getScreenDimensions(e);r=s.width,l=s.height}n=t.filter(function(t){return t.orientation===e}),0===n.length&&(e=e===un.ORIENTATION.PORTRAIT?un.ORIENTATION.LANDSCAPE:un.ORIENTATION.PORTRAIT,n=t.filter(function(t){return t.orientation===e})),o===un.ORIENTATION.PORTRAIT&&(n=this.getNonFacingVariants(n)),this.spreadMode&&o===un.ORIENTATION.LANDSCAPE&&this.getFacingVariants(n).length&&(n=this.getFacingVariants(n)),e===un.ORIENTATION.LANDSCAPE&&this.browserService.isTouchEnabledDevice()&&!this.browserService.isTouchEnabledDesktop()&&n[0]&&n[0].facing&&(r=2*l);var a=this.getClosestVariant(n,l,r);return a||i},e.prototype.getFacingVariants=function(e){for(var t=[],n=0,i=e.length;n<i;n++)e[n].facing&&t.push(e[n]);return t},e.prototype.getNonFacingVariants=function(e){for(var t=[],n=0,i=e.length;n<i;n++)!1===e[n].facing&&t.push(e[n]);return t},e.prototype.prepareWidthVariantMap=function(e){for(var t={},n=e.length-1;n>=0;n--){var i=e[n],o=i.width,r=i.height,l={};o&&r&&(t[o]&&(l=t[o]),l[r]=i,t[o]=l)}return t},e.prototype.getClosestVariant=function(e,t,n){var i,o=un.MULTI_VARIANT_WIDTH_TOLERANCE,r=this.prepareWidthVariantMap(e),l=Object.keys(r);if(e[0].facing&&(o=0),l.length>0){var s=this.getNearestValueWithScaleFactor(l,n,o),a=r[s],u=Object.keys(a),c=0;c=this.getNearestValue(u,t),i=a[c]}return i},e.prototype.convertStringArrayIntoIntArray=function(e){return e.map(function(e){if(!isNaN(parseInt(e,10)))return parseInt(e,10)})},e.prototype.getNearestValueWithScaleFactor=function(e,t,n){var i=0;if(e.length<=0)return i;e=this.convertStringArrayIntoIntArray(e);var o=e.indexOf(t);if(-1!==o)i=e[o];else if(e.push(t),e=e.sort(function(e,t){return e-t}),0===(o=e.indexOf(t)))i=e[o+1];else if(o===e.length-1)i=e[o-1];else{var r=e[o-1],l=e[o+1],s=l/t,a=t/r,u=s<n?s:0,c=a<n?a:0;i=0!==u&&0!==c?u<c?l:r:0!==u?l:0!==c?r:l}return i},e.prototype.getNearestValue=function(e,t){e.push(t),e=this.convertStringArrayIntoIntArray(e),e=e.sort(function(e,t){return e-t});var n=e.indexOf(t);return 0===n?e[n+1]:n===e.length-1?e[n-1]:e[n+1]},e.prototype.setCurrentVariant=function(e){this.currentVariant!==e&&this.subscribeOnScreenEvent(),this.currentVariant=e,this.variantChangedEvent.emit(this.currentVariant)},e.prototype.getCurrentVariant=function(){return this.currentVariant},e.prototype.cacheVariant=function(){this.unsubscribeOnScreenEvent(),this.loadPages(this.currentVariant);var e=this.currentVariant.orientation;if(this.browserService.isTouchEnabledDevice()&&!this.browserService.isTouchEnabledDesktop()){e=e===un.ORIENTATION.LANDSCAPE?un.ORIENTATION.PORTRAIT:un.ORIENTATION.LANDSCAPE;var t=this.closestVariant(e,this.variants);t!==this.currentVariant&&this.loadPages(t)}},e.prototype.loadPages=function(e){var t=0,n=function(){try{navigator.serviceWorker.controller.postMessage({"variant-change":{variant:e}})}catch(e){t++<10&&setTimeout(function(){n()},1e3)}};setTimeout(function(){n()})},e.ctorParameters=function(){return[{type:Un},{type:hn},{type:Rn},{type:En},{type:Ci}]},e}(),Oi=function(){function e(e,t){this.http=e,this.configService=t;var n=this,i=this.configService.getWidgetConfig().video;this.http.get(i.mediaElementJSFile,"text").subscribe(function(e){n.mediaJs=e})}return e.prototype.getMediaElementLibrary=function(){return{js:this.mediaJs}},e.ctorParameters=function(){return[{type:an},{type:hn}]},e}(),ki=(n("rR81"),function(){function e(e,t,n,i,o,r,l,s){this.routeService=e,this.notificationService=t,this.videoStateService=n,this.analyticsService=i,this.webreaderService=o,this.variantService=r,this.configService=l,this.pageService=s,this.changePageEvent=new Jt.q,this.openImageEvent=new Jt.q,this.popupVideoEvent=new Jt.q,this.resetPageEvent=new Jt.q,this.openGeolocationEvent=new Jt.q,this.jumpToAnchorEvent=new Jt.q,this.jsTapEvent=new Jt.q,this.globalAudioEvent=new Jt.q,this.handlers={changePage:"changePageHandler",http:"webLinkHandler",https:"webLinkHandler",navigateTo:"navigateToHandler",openImage:"openImageHandler",video:"videoHandler",mailto:"mailToHandler",localResource:"openFileHandler",resetstate:"resetStateHandler",articleById:"articleByIdHandler",geolocation:"geolocationHandler",audio:"globalAudioHandler",layer:"popupHandler",reporting:"reportingHandler",screenshot:"screenshotHandler",notification:"notificationHandler",videoState:"videoStateHandler",jstap:"jsTapHandler"},this.videoStats={mediaStart:null,mediaStop:null},this.injectedScript="\n        function bridge(message) {\n            try {\n                var data = {\n                    'message':message,\n                    'location':window.location.href\n                };\n                parent.document.dispatchEvent(new CustomEvent('pr-widget-message', {\n                    'detail' : data\n                }));\n            } catch (e) {\n                console.log('Inside Bridge Error');\n            }\n        }\n        if (typeof PR !== 'undefined') {\n            PR.notifyApp = bridge;\n            if (PR.Core) {\n                PR.Core.onAppNotifyDesktop = bridge;\n            }\n        }\n    "}return e.prototype.handleRequest=function(e){var t,n,i,o=e.message,r=e.location,l=function(e,t,n){for(var i=e.split(t);i.length>n;)i[n-1]=[i[n-1],i.splice(n,1)].join(t);return i};if(t=-1===o.indexOf("mailto:")?l(o,"://",2):l(o,":",2),2!==t.length&&"screenshot"!==t[0])return void console.error("Invalid Widget communication",o);n=t[0],i=t[1],this.handlers[n]?this[this.handlers[n]].call(this,i,n,r):console.warn("No Current support for this widget protocol: ",n)},e.prototype.mailToHandler=function(e){window.location.href="mailto:"+e,this.analyticsService.trackAction(un.ANALYTICS_CATEGORY.EMAIL_LINK,e,this.pageService.getEventLabel())},e.prototype.resetStateHandler=function(){this.resetPageEvent.emit()},e.prototype.screenshotHandler=function(e){this.notificationService.show("screenshot-unavilable")},e.prototype.notificationHandler=function(e){this.notificationService.show(e)},e.prototype.videoStateHandler=function(e){"started"===e?this.videoStateService.videoStarted():this.videoStateService.videoStopped()},e.prototype.getArticlePageIndex=function(e){return this.variantService.getCurrentVariant().articles[e.articleId]+parseInt(e.index,10)},e.prototype.articleByIdHandler=function(e){var t=this.variantService.getCurrentVariant().articles[decodeURI(e)];void 0!==t&&this.routeService.navigateToPage(parseInt(t,10)+1)},e.prototype.openWindow=function(e){try{null===window.open(e)&&(window.location.href=e)}catch(e){console.log(e)}},e.prototype.openFileHandler=function(e,t,n){this.openWindow(this.getAbsolutePath(e,n)),this.analyticsService.trackAction(un.ANALYTICS_CATEGORY.LOCAL_LINK,e,this.pageService.getEventLabel())},e.prototype.openImageHandler=function(e,t,n){this.openImageEvent.emit(this.getAbsolutePath(e,n)),this.analyticsService.trackAction(un.ANALYTICS_CATEGORY.ZOOMABLE_IMAGE,e,this.pageService.getEventLabel())},e.prototype.getAbsolutePath=function(e,t){return-1!==e.indexOf("data:")||-1!==e.indexOf("://")?e:t?t.replace(/\/(?:.(?!\/))+$/,"/"+e):e},e.prototype.videoHandler=function(e,t,n){this.popupVideoEvent.emit(this.getAbsolutePath(e,n)),this.analyticsService.trackAction(un.ANALYTICS_CATEGORY.VIDEO,e,this.pageService.getEventLabel())},e.prototype.globalAudioHandler=function(e,t,n){var i=this.getAbsolutePath(e,n);this.globalAudioEvent.emit(i),this.analyticsService.trackAction(un.ANALYTICS_CATEGORY.AUDIO,e,this.pageService.getEventLabel())},e.prototype.geolocationHandler=function(e){this.configService.getGoogleMapsApiKey()?this.openGeolocationEvent.emit(e):this.notificationService.show("geolocation-unavailable"),this.analyticsService.trackAction(un.ANALYTICS_CATEGORY.GEOLOCATION,e,this.pageService.getEventLabel())},e.prototype.popupHandler=function(e){this.analyticsService.trackAction(un.ANALYTICS_CATEGORY.POPUP,e,this.pageService.getEventLabel())},e.prototype.jsTapHandler=function(){this.jsTapEvent.emit()},e.prototype.reportingHandler=function(e){if("string"!=typeof e)return!1;try{if(e=JSON.parse(decodeURIComponent(e)),e.widget){var t=null!==e.widget.match("video"),n=null!==e.widget.match("audio");if(t||n){var i=(e.widget,e.action),o=e.path,r=void 0,l=void 0;if("play"===i)return this.videoStats.mediaStop=null,void(this.videoStats.mediaStart=(new Date).getTime());if(e={eventCategory:t?un.ANALYTICS_CATEGORY.VIDEO:un.ANALYTICS_CATEGORY.AUDIO,eventAction:o},"pause"===i){if(null===this.videoStats.mediaStart)return;this.videoStats.mediaStop=(new Date).getTime(),r=this.videoStats.mediaStop-this.videoStats.mediaStart,r>1e3&&(l=o,Object.assign(e,{eventLabel:l,eventValue:r}),this.videoStats.mediaStop=null,this.videoStats.mediaStart=null)}}}return e.eventLabel=this.pageService.getEventLabel(),this.analyticsService.trackEvent(e),!0}catch(e){}},e.prototype.changePageHandler=function(e){if("string"!=typeof e)return!1;switch(e.toUpperCase()){case"NEXT":return void this.changePageEvent.emit(un.PAGE.NEXT);case"PREVIOUS":return void this.changePageEvent.emit(un.PAGE.PREVIOUS);default:return!1}},e.prototype.navigateToHandler=function(e){if("string"!=typeof e)return!1;try{e=JSON.parse(decodeURI(e));var t=void 0;if(e.articleId&&e.index){t=this.getArticlePageIndex(e);var n=this.pageService.getCurrentPageModel();if(n.index===t+1)n.anchorPoint=e.linkAnchor||null,this.routeService.navigateToPage(t+1),this.jumpToAnchorEvent.emit();else{this.variantService.getCurrentVariant().pages[t].anchorPoint=e.linkAnchor||null,this.routeService.navigateToPage(t+1)}}else e.index&&(t=parseInt(e.index,10),this.routeService.navigateToPage(t+1))}catch(e){}},e.prototype.webLinkHandler=function(e,t){var n=t+"://"+e;this.openWindow(n),this.analyticsService.trackAction(un.ANALYTICS_CATEGORY.EXTERNAL_LINK,e,this.pageService.getEventLabel())},e.prototype.injectBridgeScript=function(e){var t=e.createElement("script");t.innerHTML=this.injectedScript,e.body.appendChild(t)},e.prototype.injectResources=function(e){var t=e.contentWindow;if("function"==typeof t.linkReader)return this.injectMediaElement(t);this.injectMediaElementLegacy(e,e.contentDocument)},e.prototype.injectMediaElement=function(e){var t=this.configService.getWidgetConfig(),n=this.routeService.getReaderURL(),i=this.webreaderService.getMediaElementLibrary();t.reader="",e.widgetSettings=t,e.linkReader({jQuery:jQuery}),e.linkReader({js:i.js}),e.linkReader({"css-file":n+t.video.mediaElementCSSFile}),setTimeout(function(){"function"==typeof e.MediaElementWatch?e.MediaElementWatch():console.error("Unable to load the Widget as MediaElementWatch is unavailable")})},e.prototype.injectMediaElementLegacy=function(e,t){var n=this.configService.getWidgetConfig(),i=t.getElementsByTagName("head")[0],o=t.createElement("link");n.reader=this.routeService.getReaderURL(),o.type="text/css",o.rel="stylesheet",o.href=n.reader+n.video.mediaElementCSSFile,o.media="screen",i.appendChild(o),setTimeout(function(){if("function"==typeof e.contentWindow.loadReader)return void e.contentWindow.loadReader(n,jQuery);try{e.contentWindow.MediaElementWatch()}catch(e){}})},e.ctorParameters=function(){return[{type:En},{type:jn},{type:Ci},{type:Hn},{type:Oi},{type:Pi},{type:hn},{type:Rn}]},e}()),Ti=function(){function e(e,t,n){this.browserService=e,this.pageService=t,this.widgetService=n,this.pictureZoomEvent=new Jt.q}return e.prototype.shouldPropagate=function(e,t){var n=["SLIDESHOW","SCROLLZONE","IMAGE360","PICTUREZOOM"],i=this.touchWidgetCheck(n,e),o=this.appCanScroll(e,t);return i&&o},e.prototype.touchWidgetCheck=function(e,t){for(var n,i=e.length,o=!1,r=0;r<i;r++)if((n=$(t.target).closest("[data-widget="+e[r]+"]"))&&n.length>0){o=!0;break}return!("touchmove"===t.type&&o)},e.prototype.appCanScroll=function(e,t){var n=t.contentWindow;return!n.PR||n.PR.appCanScroll},e.prototype.isPictureZoomWidget=function(e){var t=$(e.target).closest("[data-widget=PICTUREZOOM]").length;return"touchmove"===e.type&&t>0},e.prototype.processIframe=function(e){var t=this,n=["touchstart","touchmove","touchend","keyup"],i=["dblclick","click","keyup"],o=e.contentDocument,r=this.browserService.isTouchEnabledDevice()?n:i;this.browserService.isTouchEnabledDesktop()&&(r=r.concat(i));!function(){var n=function(n){for(var i=n;i.originalEvent;)i=i.originalEvent;if(!t.shouldPropagate(i,e)){if(t.isPictureZoomWidget(i))return void t.pictureZoomEvent.emit();if(n.touches&&n.touches.length<=1&&!t.pageService.getZoomState())return}try{i=new i.constructor(i.type,i)}catch(e){i=t.cloneEvent(i.type,i)}e.parentNode.dispatchEvent(i)};r.forEach(function(e){o.body.addEventListener(e,n)})}(),this.widgetService.injectBridgeScript(o),this.browserService.type.desktop&&this.widgetService.injectResources(e),o.addEventListener("gesturestart",function(e){e.preventDefault()})},e.prototype.cloneEvent=function(e,t){"string"!=typeof e&&(t=e,e=t.type);var n={};n.click=n.mousedown=n.mouseup=n.mousemove="MouseEvents";var i=document.createEvent(n[e]||"Events"),o=!0;if(t)for(var r in t)if("bubbles"===r)o=!!t[r];else try{i[r]=t[r]}catch(e){}return i.initEvent(e,o,!0,null,null,null,null,null,null,null,null,null,null,null,null),i.isDefaultPrevented=function(){return this.defaultPrevented},i},e.ctorParameters=function(){return[{type:Un},{type:Rn},{type:ki}]},e}(),Mi={NEXT:"next",CURRENT:"current",PREVIOUS:"previous"},Ii=function(){function e(e,t,n,i,o,r,l,s,a){this.sanitizer=e,this.issueService=t,this.analyticsService=n,this.configService=i,this.widgetService=o,this.pageService=r,this.browserService=l,this.platformBridgeService=s,this.el=a,this.scale=1,this.animationOutput=new Jt.q,this.stateClass=this.state===Mi.CURRENT,this.overflow="hidden",this.loaderDisplay="",this.isOnScreen=!1,this.lastTimeStamp=0}return e.prototype.ngOnInit=function(){console.log("Inside ngOnInit"),this.setTitle("Page_"+this.pageModel.index),this._transition=this.configService.getPageTransition(),this.setPageUrl(this.pageModel.url),this.setDefaultDimensions(),this.onScaleChange(),this.stateClass=this.state===Mi.CURRENT},e.prototype.reloadFrame=function(){this.frameWindow&&(this.unsubscribeEvents(),this.frameWindow.location.reload())},e.prototype.setState=function(e){var t=this;this.state=e,this.state===Mi.CURRENT&&(this.pageService.currentPageChanged(this.pageModel),setTimeout(function(){t.opacity=1})),this.overflow="hidden",this.stateClass=this.state===Mi.CURRENT},e.prototype.setTitle=function(e){this._title=e},e.prototype.setScale=function(e){this.scale=e,this.onScaleChange()},e.prototype.setMode=function(e){this.mode=e},e.prototype.setPageModel=function(e){this.pageModel=e},e.prototype.setDefaultDimensions=function(){this.pageModel.responsive?this._frameHeight=this._frameWidth=this._pageWidth="100%":(this._pageHeight=this.pageModel.height,this._pageWidth=this.pageModel.width)},e.prototype.onScreen=function(e){var t=this;this.isOnScreen=!0,e&&(e.onScreen&&(this.browserService.isTouchEnabledDevice()&&!this.browserService.isTouchEnabledDesktop()&&setTimeout(function(){t.overflow="auto"}),e.onScreen(),this.jumpToAnchor(),this.unsubscribeEvents(),this.subscribeEvents()),this.trackPageEvent(),this.pageService.onScreen())},e.prototype.trackPageEvent=function(){var e="/Article/";-1!==this.pageModel.article.type.toLowerCase().indexOf("advert")&&(e="/Advert/"),this.analyticsService.trackPageView({page:this.issueService.getCurrentIssueMetadataModel().getIssueUrnID()+e+this.pageModel.section.name+"/"+this.pageModel.article.id+"/"+(this.pageModel.index-1)})},e.prototype.offScreen=function(e,t){void 0===t&&(t=!0),this.isOnScreen=!1,e&&e.offScreen&&(e.offScreen(),this.unsubscribeEvents(),this.iScroll&&this.resetZoomState(this.iScroll,e)),t&&this.resetWindowScroll()},e.prototype.unsubscribeEvents=function(){this.resetPageEvent&&(this.resetPageEvent.unsubscribe(),this.resetPageEvent=void 0),this.jumpToAnchorEvent&&(this.jumpToAnchorEvent.unsubscribe(),this.jumpToAnchorEvent=void 0),this.pictureZoomEvent&&(this.pictureZoomEvent.unsubscribe(),this.pictureZoomEvent=void 0)},e.prototype.subscribeEvents=function(){this.resetPageEvent=this.widgetService.resetPageEvent.subscribe(this.reloadFrame.bind(this)),this.jumpToAnchorEvent=this.widgetService.jumpToAnchorEvent.subscribe(this.jumpToAnchor.bind(this)),this.pictureZoomEvent=this.platformBridgeService.pictureZoomEvent.subscribe(this.zoomOnWidget.bind(this))},e.prototype.jumpToAnchor=function(){var e=this,t=this.pageModel.anchorPoint;try{if(t){var n=this.frameWindow.document.getElementById(t);n&&setTimeout(function(){window.scrollTo(0,e.frameWindow.PR.Core.cumulativeOffset(n).top*e.scale)})}}catch(e){}this.pageModel.anchorPoint=void 0},e.prototype.zoomOnWidget=function(){if(this.iScroll&&this.iScroll.scale>1)return void this.pageService.setZoomState(!0);this.pageService.setZoomState(!1)},e.prototype.resetWindowScroll=function(){window.scrollY&&window.scroll(0,0)},e.prototype.onScaleChange=function(){this.pageModel.responsive||(this._wrapperTransform="scale("+this.scale+")",this._frameHeight=parseInt(this.pageModel.height,10)*this.scale+"px",this.el.nativeElement.style.height=this._frameHeight,this._frameWidth=parseInt(this.pageModel.width,10)*this.scale+"px")},e.prototype.setHeight=function(e){var t=this;if(this.frameWindow&&this.pageModel.responsive){var n=this.frameWindow.document;this._pageHeight=n.body.scrollHeight+"px",this.setMinimumHeight(),setTimeout(function(){var i=window.getComputedStyle(n.documentElement).height;t._pageHeight=Math.max(parseInt(i,10),parseInt(t._pageHeight,10))+"px",e&&e()},100)}},e.prototype.setMinimumHeight=function(){this.el.nativeElement.getElementsByTagName("iframe")[0].style.minHeight=window.innerHeight+"px"},e.prototype.loadIframe=function(e){var t=e.contentWindow;this.browserService.isTouchEnabledDevice()&&(t.onZoom?(this.addPinchZoom(e),this.pinchEnabled=!0):console.warn("PressRunWidgets.js does not support pinch zoom ")),this.platformBridgeService.processIframe(e),this.pageState="loaded",this.loaderDisplay="none",this.makeWidgetOnscreen(t),this.setHeight(),this.pageService.frameLoaded()},e.prototype.iframeLoaded=function(e){var t=e.target;t&&t.src&&(console.log("Iframe Loaded",t),this.frameWindow=t.contentWindow,this.loadIframe(t))},e.prototype.makeWidgetOnscreen=function(e){try{if(e.isOnline(!0),e.PR.Core.initialized)return void this.setWidgetOnscreen(e)}catch(e){}this.registerWidgetInit(e)},e.prototype.setWidgetOnscreen=function(e){e&&this.isOnScreen&&this.onScreen(e)},e.prototype.registerWidgetInit=function(e){try{e===this.frameWindow&&e.radio(e.PR.Event.PR_INITIALIZED).subscribe(this.widgetStateChanged.bind(this))}catch(e){}},e.prototype.unregisterWidgetInit=function(e){try{e.radio(e.PR.Event.PR_INITIALIZED).unsubscribe(this.widgetStateChanged.bind(this))}catch(e){}},e.prototype.widgetStateChanged=function(){this.setWidgetOnscreen(this.frameWindow),this.unregisterWidgetInit(this.frameWindow)},e.prototype.setPageUrl=function(e){console.log("Inside setPageUrl"),this._pageUrl=this.sanitizer.bypassSecurityTrustResourceUrl(e)},e.prototype.addPinchZoom=function(e){var t;try{t=e.contentWindow.document.body}catch(e){console.log("No Body found")}if(t&&t.children.length>0){var n=this,i={zoom:!0,scrollY:!0,scrollX:!0,bounce:!1,momentum:!0,disablePointer:!0,disableMouse:!0,disableTouch:!1,HWCompositing:!1,preventDefault:!1,useTransition:!1,wrapperAsScroller:!0};n.iScroll=new IScroll(t,i);var o=0,r=0,l=1;t.addEventListener("touchmove",function(e){var t=n.iScroll.x,i=n.iScroll.y,s=n.iScroll.scale;t===o&&i===r&&s===l||e.preventDefault(),o=n.iScroll.x,r=n.iScroll.y,l=n.iScroll.scale,e._isScroller=!0}),n.iScroll.on("zoomStart",n.onZoomStart.bind(this)),n.iScroll.on("zoomEnd",n.onZoomEnd.bind(this)),n.browserService.type.ios&&(n.iScroll.on("scrollStart",function(){n.translateZ=" translateZ(0)"}),n.iScroll.on("scrollEnd",n.repaintWithoutHardwareAccleration.bind(this)))}},e.prototype.tap=function(e){if(this.iScroll&&this.pinchEnabled&&this.iScroll.scale>1){var t=e.timeStamp,n=t-this.lastTimeStamp;this.lastTimeStamp&&n>0&&n<450&&this.resetZoomState(this.iScroll,this.frameWindow),this.lastTimeStamp=t}},e.prototype.resetZoomState=function(e,t){var n=this;setTimeout(function(){n.refreshIScroll(e)}),this.pageService.setZoomState(!1),t.onZoom&&t.onZoom(!1)},e.prototype.refreshIScroll=function(e){e&&(e.zoom(1),e.refresh()),this.pageService.setZoomState(!1)},e.prototype.onZoomStart=function(){this.pageService.setZoomState(!0),this.frameWindow.onZoom(!0)},e.prototype.onZoomEnd=function(){this.iScroll.scale>=1&&!this.pageService.getZoomState()&&(this.iScroll.translateZ=" translateZ(0)"),this.iScroll.scale<=1?this.resetZoomState(this.iScroll,this.frameWindow):this.browserService.type.ios&&this.iScroll.scale<4&&this.repaintWithoutHardwareAccleration()},e.prototype.repaintWithoutHardwareAccleration=function(e){e=e||this.iScroll,e.translateZ=" ",e.scrollBy(0,0)},e.prototype.setPageMarginTop=function(e){this.el.nativeElement.style.marginTop=e},e.prototype.animationDone=function(e){this.animationOutput.emit(e),e.toState===Mi.CURRENT?this.onScreen(this.frameWindow):(this.opacity=0,this.offScreen(this.frameWindow))},e.prototype.ngOnDestroy=function(){this.offScreen(this.frameWindow),this.unsubscribeEvents()},e.ctorParameters=function(){return[{type:tn.c},{type:Cn},{type:Hn},{type:hn},{type:ki},{type:Rn},{type:Un},{type:Ti},{type:Jt.o}]},e}(),xi=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ai=function(e){function t(t,n,i,o,r,l,s,a,u){var c=e.call(this,n,i,o,a,l,r,s,u,t)||this;return c.el=t,c.sanitizer=n,c.issueService=i,c.analyticsService=o,c.pageService=r,c.widgetService=l,c.browserService=s,c.configService=a,c.platformBridgeService=u,c.facingFrameWindow=null,c}return xi(t,e),t.prototype.reloadFrame=function(){e.prototype.reloadFrame.call(this),this.facingFrameWindow&&this.facingFrameWindow.location.reload()},t.prototype.handleSpread=function(){this.rightOfSpineClass=this.pageModel.pagePosition.toLowerCase()===un.PAGE.RIGHT_OF_SPINE},t.prototype.setFacingTitle=function(e){this._facingTitle=e},t.prototype.offScreen=function(t){e.prototype.offScreen.call(this,t),this.facingiScroll&&t&&this.resetZoomState(this.facingiScroll,t)},t.prototype.zoomOnWidget=function(){if(e.prototype.zoomOnWidget.call(this),this.facingiScroll&&this.facingiScroll.scale>1)return void this.pageService.setZoomState(!0);this.pageService.setZoomState(!1)},t.prototype.onScaleChange=function(){e.prototype.onScaleChange.call(this),this._frameWidth=2*parseInt(this.pageModel.width,10)*this.scale+"px"},t.prototype.facingIframeLoaded=function(e){var t=e.target;t&&t.src&&(console.log("Iframe Loaded",t),this.facingFrameWindow=t.contentWindow,this.loadIframe(t))},t.prototype.registerWidgetInit=function(t){e.prototype.registerWidgetInit.call(this,t);try{t===this.facingFrameWindow&&t.radio(t.PR.Event.PR_INITIALIZED).subscribe(this.widgetFacingStateChanged.bind(this))}catch(e){}},t.prototype.widgetFacingStateChanged=function(){var e=this.facingFrameWindow;this.setWidgetOnscreen(e);try{e.radio(e.PR.Event.PR_INITIALIZED).unsubscribe(this.widgetFacingStateChanged.bind(this))}catch(e){}},t.prototype.setPageUrl=function(t){e.prototype.setPageUrl.call(this,t),this.pageModel.facingUrl?this.pageUrlFacing=this.sanitizer.bypassSecurityTrustResourceUrl(this.pageModel.facingUrl):this.pageUrlFacing=!1},t.prototype.setTitle=function(t){e.prototype.setTitle.call(this,t),this.pageModel.facingUrl&&this.setFacingTitle("Page_"+this.pageModel.facingIndex)},t.prototype.addPinchZoom=function(e){var t;try{t=e.contentWindow.document.body}catch(e){console.log("No Body found")}if(t&&t.children.length>0){var n=this,i={zoom:!0,scrollY:!0,scrollX:!0,bounce:!1,momentum:!0,disablePointer:!0,disableMouse:!0,disableTouch:!1,HWCompositing:!1,preventDefault:!1,useTransition:!1,wrapperAsScroller:!0};e.contentWindow===this.frameWindow?(n.iScroll=new IScroll(t,i),n.iScroll.on("zoomStart",n.onZoomStart.bind(this)),n.iScroll.on("zoomEnd",n.onZoomEnd.bind(this)),n.addiScrollEventListener(n,t,n.iScroll),n.browserService.type.ios&&n.iScroll.on("scrollEnd",n.repaintWithoutHardwareAccleration.bind(this))):(n.facingiScroll=new IScroll(t,i),n.facingiScroll.on("zoomStart",n.onZoomStartFacing.bind(this)),n.facingiScroll.on("zoomEnd",n.onZoomEndFacing.bind(this)),n.addiScrollEventListener(n,t,n.facingiScroll),n.browserService.type.ios&&n.facingiScroll.on("scrollEnd",n.repaintWithoutHardwareAcclerationFacing.bind(this)))}},t.prototype.addiScrollEventListener=function(e,t,n){var i=0,o=0,r=1;t.addEventListener("touchmove",function(e){var t=n.x,l=n.y,s=n.scale;t===i&&l===o&&s===r||e.preventDefault(),i=n.x,o=n.y,r=n.scale,e._isScroller=!0}),e.browserService.type.ios&&n.on("scrollStart",function(){e.translateZ=" translateZ(0)"})},t.prototype.tap=function(e){var t=e.timeStamp,n=t-this.lastTimeStamp;this.lastTimeStamp&&n>0&&n<450&&(this.resetZoomState(this.iScroll,this.frameWindow),this.resetZoomState(this.facingiScroll,this.facingFrameWindow)),this.lastTimeStamp=t},t.prototype.onZoomStartFacing=function(){this.pageService.setZoomState(!0),this.facingFrameWindow.onZoom(!0)},t.prototype.onZoomEndFacing=function(){this.facingiScroll.scale>=1&&(this.facingiScroll.translateZ=" translateZ(0)"),this.facingiScroll.scale<=1?this.resetZoomState(this.facingiScroll,this.facingFrameWindow):this.browserService.type.ios&&this.facingiScroll.scale<4&&this.repaintWithoutHardwareAccleration(this.facingiScroll)},t.prototype.repaintWithoutHardwareAcclerationFacing=function(){this.repaintWithoutHardwareAccleration(this.facingiScroll)},t.prototype.animationDone=function(t){e.prototype.animationDone.call(this,t),t.toState===Mi.CURRENT?this.onScreen(this.facingFrameWindow):this.offScreen(this.facingFrameWindow)},t.prototype.ngOnDestroy=function(){this.offScreen(this.facingFrameWindow),e.prototype.ngOnDestroy.call(this)},t.ctorParameters=function(){return[{type:Jt.o},{type:tn.c},{type:Cn},{type:Hn},{type:Rn},{type:ki},{type:Un},{type:hn},{type:Ti}]},t}(Ii),Li=function(){function e(e,t,n,i,o,r,l,s,a,u,c,h){this.pageService=e,this.authService=t,this.loginService=n,this.routeService=i,this.issueService=o,this.spreadService=r,this.widgetService=l,this.configService=s,this.variantService=a,this.browserService=u,this.pageListService=c,this.componentFactoryResolver=h,this.isViewInitialized=!1,this.scale=1,this.unsubscribeAnimationPrevious=null,this.unsubscribeAnimationNext=null,this.pageComponents={current:null,previous:null,next:null},this.facingState=!0,this._marginTop="auto",this._showArrows=!1,this.iPhoneSafari=this.browserService.type.iphone&&this.browserService.type.safari,this.isTouchEnabledDevice=this.browserService.isTouchEnabledDevice(),this.pageNavigationEnabled=this.configService.isPageNavigationEnabled()}return e.prototype.ngOnInit=function(){console.log("Inside ngOnInit "),this.initArrows(),this.subscribeEvents()},e.prototype.subscribeEvents=function(){var e=this;this.handleRequestEvent=ln.Observable.fromEvent(document,"pr-widget-message").subscribe(function(t){e.widgetService.handleRequest(t.detail)}),this.pageNavigationEnabled&&(this.keyupEvent=this.browserService.keyupEvent.subscribe(this.onKeyup.bind(this))),this.resizeEvent=this.browserService.resizeEvent.subscribe(this.onResize.bind(this)),this.orientationChangeEvent=this.browserService.orientationChangeEvent.subscribe(this.onOrientationChange.bind(this)),this.changePageEvent=this.widgetService.changePageEvent.subscribe(this.handlePageChange.bind(this)),this.currentPageChangedEvent=this.pageService.currentPageChangedEvent.subscribe(this.updateLayout.bind(this)),this.spreadModeChangedEvent=this.spreadService.spreadModeChangedEvent.subscribe(this.spreadModeChanged.bind(this)),this.jsTapEvent=this.widgetService.jsTapEvent.subscribe(this.jsTapHandler.bind(this))},e.prototype.unsubscribeEvents=function(){this.handleRequestEvent&&(this.handleRequestEvent.unsubscribe(),this.handleRequestEvent=void 0),this.keyupEvent&&(this.keyupEvent.unsubscribe(),this.keyupEvent=void 0),this.resizeEvent&&(this.resizeEvent.unsubscribe(),this.resizeEvent=void 0),this.changePageEvent&&(this.changePageEvent.unsubscribe(),this.changePageEvent=void 0),this.currentPageChangedEvent&&(this.currentPageChangedEvent.unsubscribe(),this.currentPageChangedEvent=void 0),this.spreadModeChangedEvent&&(this.spreadModeChangedEvent.unsubscribe(),this.spreadModeChangedEvent=void 0),this.jsTapEvent&&(this.jsTapEvent.unsubscribe(),this.jsTapEvent=void 0),this.orientationChangeEvent&&(this.orientationChangeEvent.unsubscribe(),this.orientationChangeEvent=void 0),this.authenticatedEvent&&(this.authenticatedEvent.unsubscribe(),this.authenticatedEvent=void 0)},e.prototype.ngAfterContentInit=function(){if(this.isViewInitialized=!0,!this.issueService.getCurrentIssueMetadataModel().isViewable())return void this.forceLogin();(this.pageNumber<1||this.pageNumber>this.pages.length)&&(this.routeService.navigateToPage(1),this.pageNumber=1);for(var e=0,t=Object.keys(this.pageComponents);e<t.length;e++){var n=t[e],i=void 0,o=void 0;if(this.pageComponents.hasOwnProperty(n)){switch(n){case"previous":o=this.getPreviousIndex(this.pageNumber),i=this.getPage(o);break;case"current":i=this.getPage(this.pageNumber);break;case"next":o=this.getNextIndex(this.pageNumber),i=this.getPage(o)}if(i){var r=this.loadPage(i);r.instance.setState(Mi[n.toUpperCase()]),this.pageComponents[n]=r,"current"!==n||i.responsive||(this.iPhoneSafari&&this.addRemoveBounce(),this._modeChanged(this.mode,i))}}}},e.prototype.forceLogin=function(){var e=this;this.ngOnDestroy(),this.authenticatedEvent=this.authService.authenticatedEvent.subscribe(this.onAuth.bind(this)),setTimeout(function(){e.loginService.openLoginDialog(un.LOGIN_TYPES.ISSUE)},1e3)},e.prototype.onAuth=function(e){e&&(this.subscribeEvents(),this.authenticatedEvent&&(this.authenticatedEvent.unsubscribe(),this.authenticatedEvent=void 0),this.issueService.getCurrentIssueMetadataModel().setViewable(!0),this.ngAfterContentInit())},e.prototype.ngAfterViewInit=function(){if(this.pageListService.pageListViewLoadedEvent.emit(),this.iPhoneSafari){var e=this;setTimeout(function(){e.onResize("")},100)}},e.prototype.destroyExistingPages=function(){for(var e=0,t=Object.keys(this.pageComponents);e<t.length;e++){var n=t[e];this.pageComponents.hasOwnProperty(n)&&this.pageComponents[n]&&this.pageComponents[n].destroy(),this.pageComponents[n]=null}},e.prototype.spreadModeChanged=function(e){this.facingState=e,this.destroyExistingPages(),this.ngAfterContentInit()},e.prototype.canShowSpreadView=function(e){return this.facingState&&this.spreadView&&e&&e.pagePosition},e.prototype.isSpreadView=function(){return this.facingState&&this.spreadView},e.prototype.getPage=function(e){return this.pages[e-1]},e.prototype.getPageIndexFromComponent=function(e){return e&&e.instance&&e.instance.pageModel&&e.instance.pageModel.index},e.prototype.getPageModel=function(e){return e&&e.instance&&e.instance.pageModel},e.prototype.getPreviousIndex=function(e){if(this.isSpreadView()){var t=this.getPageModel(this.pageComponents.current);e===Math.max(t.facingIndex,t.index)&&--e}return--e},e.prototype.getNextIndex=function(e){if(this.isSpreadView()){var t=this.getPageModel(this.pageComponents.current);e===Math.min(t.facingIndex,t.index)&&++e}return++e},e.prototype.loadPage=function(e){if(this.isViewInitialized&&e){var t;t=this.canShowSpreadView(e)?this.componentFactoryResolver.resolveComponentFactory(Ai):this.componentFactoryResolver.resolveComponentFactory(Ii);var n=this.dynamicContainer,i=n.createComponent(t);return i.instance.setPageModel(e),this.canShowSpreadView(e)&&i.instance.handleSpread(),e.responsive||(i.instance.setMode(this.mode),i.instance.setScale(this.scale)),i}},e.prototype.ngOnChanges=function(e){if(this.isViewInitialized){if(e.pages||e.spreadView)return this.destroyExistingPages(),void this.ngAfterContentInit();if(e.mode&&this.pageComponents.current){var t=this.getPageModel(this.pageComponents.current);t&&(this._modeChanged(this.mode,t),this.useInteractedModeChange=!0)}if(e.pageNumber){var n=e.pageNumber.currentValue;if(n>0||n<=this.pages.length){var i=void 0,o=this.pageComponents.current,r=this.getPageModel(o);(this.isSpreadView()&&(r.index===n||r.facingIndex===n)||r.index===n)&&(o.instance.pageService.currentPageChanged(r),this.routeService.navigateToPage(n),i=!0),console.log(e.pageNumber),i||(n>e.pageNumber.previousValue?this.animateToNextPage(this.pageNumber):this.animateToPreviousPage(this.pageNumber))}}}},e.prototype.animateToNextPage=function(e){var t=this,n=function(){t.iPhoneSafari&&t.addRemoveBounce(),t.unsubscribeAnimationNext&&(t.unsubscribeAnimationNext.unsubscribe(),t.unsubscribeAnimationNext=null),t.pageComponents.next&&t.pageComponents.next.destroy(),t.pageComponents.next=null;var e=t.getPage(t.getNextIndex(t.pageNumber));if(e){var n=t.loadPage(e);n.instance.setState(Mi.NEXT),t.pageComponents.next=n}};!function(){t.pageComponents.previous&&t.pageComponents.previous.destroy(),t.pageComponents.previous=t.pageComponents.current,t.pageComponents.previous.instance.setState(Mi.PREVIOUS),t.pageComponents.current=null}(),function(){return new Promise(function(n,i){var o=t.getPageModel(t.pageComponents.next);!o||o.index!==e&&o.facingIndex!==e?t.generatePageWithStateMakeCurrent(t.pageNumber,Mi.NEXT):(t.pageComponents.current=t.pageComponents.next,t.pageComponents.current.instance.setState(Mi.CURRENT),t.pageComponents.next=null),t.unsubscribeAnimationNext=t.pageComponents.current.instance.animationOutput.subscribe(function(e){n(e)})})}().then(function(){return n()})},e.prototype.animateToPreviousPage=function(e){var t=this;console.log("animateToPreviousPage");var n=function(){t.iPhoneSafari&&t.addRemoveBounce(),t.unsubscribeAnimationPrevious&&(t.unsubscribeAnimationPrevious.unsubscribe(),t.unsubscribeAnimationPrevious=null),t.pageComponents.previous&&t.pageComponents.previous.destroy(),t.pageComponents.previous=null;var e=t.getPage(t.getPreviousIndex(t.pageNumber));if(e){var n=t.loadPage(e);n.instance.setState(Mi.PREVIOUS),t.pageComponents.previous=n}};!function(){t.pageComponents.next&&t.pageComponents.next.destroy(),t.pageComponents.next=t.pageComponents.current,t.pageComponents.next.instance.setState(Mi.NEXT),t.pageComponents.current=null}(),function(){return new Promise(function(n,i){var o=t.getPageModel(t.pageComponents.previous);!o||o.index!==e&&o.facingIndex!==e?t.generatePageWithStateMakeCurrent(t.pageNumber,Mi.PREVIOUS):(t.pageComponents.current=t.pageComponents.previous,t.pageComponents.current.instance.setState(Mi.CURRENT),t.pageComponents.previous=null),t.unsubscribeAnimationPrevious=t.pageComponents.current.instance.animationOutput.subscribe(function(e){n(e)})})}().then(function(){return n()})},e.prototype.generatePageWithStateMakeCurrent=function(e,t){var n=this;this.pageComponents.current=null;var i=this.getPage(e),o=this.loadPage(i);o.instance.setState(t),this.pageComponents.current=o,setTimeout(function(){n.pageComponents.current.instance.setState(Mi.CURRENT)})},e.prototype.onOrientationChange=function(){var e=this,t=this.variantService.getCurrentVariant().height;if(this.pageComponents.current){var n=this.getPageModel(this.pageComponents.current);n&&e.isStackPage(n.height,t)&&e.onResize(!1)}},e.prototype.onResize=function(e){if(console.log("Window resized"),this.mode&&this.pageComponents.current){var t=this.getPageModel(this.pageComponents.current);t.responsive?this.resetPageHeight():"boolean"==typeof e?this._fitLayout(this.mode,t.width,t.height,this.isSpreadView(),!1):this._fitLayout(this.mode,t.width,t.height,this.isSpreadView(),!0)}},e.prototype.onKeyup=function(e){e=e.originalEvent||e;var t=e.key&&e.key.toLowerCase();t||(t=e.keyIdentifier&&e.keyIdentifier.toLowerCase()),"arrowleft"===t||"left"===t||37===e.keyCode?(e.preventDefault(),this._previousPageHandler(e)):"arrowright"!==t&&"right"!==t&&39!==e.keyCode||(e.preventDefault(),this._nextPageHandler(e))},e.prototype.jsTapHandler=function(){this.jsTap=!0},e.prototype.onTap=function(e){this.isTouchEnabledDevice&&!this.browserService.isTouchEnabledDesktop()&&this.emitClickEvent()},e.prototype.onClick=function(e){this.isTouchEnabledDevice&&!this.browserService.isTouchEnabledDesktop()||this.emitClickEvent()},e.prototype.stopPropagation=function(e){e&&e.srcEvent&&e.srcEvent.stopPropagation&&e.srcEvent.stopPropagation()},e.prototype.emitClickEvent=function(){var e=this;this.jsTap||setTimeout(function(){return e.pageListService.pageListClickEvent.emit()}),this.jsTap=!1},e.prototype._modeChanged=function(e,t){console.log("Inside _modeChanged"),this._fitLayout(e,t.width,t.height,this.isSpreadView())},e.prototype._fitLayout=function(e,t,n,i,o){console.log("Inside _fitLayout");var r=this.variantService.getCurrentVariant().height,l=this.isStackPage(n,r),s=this._computeScaleFactor(e,t,l?r:n,window.innerWidth,window.innerHeight,i);l&&parseInt(n,10)*s>window.innerHeight?this._setMargin("auto"):this._setMargin(e,n,s,i),o&&l&&this.isTouchEnabledDevice&&!this.browserService.isTouchEnabledDesktop()||this.resetScale(s)},e.prototype.isStackPage=function(e,t){return e&&parseInt(e,10)>parseInt(t,10)},e.prototype._computeScaleFactor=function(e,t,n,i,o,r){console.log("Inside _computeScaleFactor",e),t=r?2*t:t;var l=o/n,s=i/t;e===un.PAGE_FIT_MODES.WIDTH_FIT&&s!==Math.min(s,l)&&(i-=this.browserService.getScrollbarWidth(),s=i/t);var a=1;switch(e){case un.PAGE_FIT_MODES.AUTO_FIT:a=Math.min(s,l);var u=this.configService.getMaxScaleForAutoFit();a=a>u?u:a;break;default:a=s}return a},e.prototype.updateLayout=function(e){e.responsive?this._setMargin("auto"):this._fitLayout(this.mode,e.width,e.height,this.isSpreadView())},e.prototype._setMargin=function(e,t,n,i){switch(console.log("Inside _setMargin"),e){case un.PAGE_FIT_MODES.AUTO_FIT:this.iPhoneSafari&&this.useInteractedModeChange&&(this.useInteractedModeChange=!1,this.addRemoveBounce(!0)),this._marginTop=this.calculateMarginTop(t,n);break;case un.PAGE_FIT_MODES.WIDTH_FIT:this.iPhoneSafari&&this.addRemoveBounce(!1);var o=parseInt(t,10)*n;this._marginTop=o>=window.innerHeight?"auto":this.calculateMarginTop(t,n);break;default:this.iPhoneSafari&&this.addRemoveBounce(!1),this._marginTop="auto"}if(this.iPhoneSafari&&this.browserService.getWindowOrientation()===un.ORIENTATION.LANDSCAPE){var r=this.pageComponents.current;r&&r.instance&&r.instance.setPageMarginTop(this._marginTop)}},e.prototype.canAddRemoveBounce=function(){return this.mode===un.PAGE_FIT_MODES.AUTO_FIT&&!this.isStackPage(this.getPageModel(this.pageComponents.current).height,this.variantService.getCurrentVariant().height)},e.prototype.addRemoveBounce=function(e){e=void 0===e?this.canAddRemoveBounce():e,e?document.documentElement.classList.add("prevent-bounce"):document.documentElement.classList.remove("prevent-bounce")},e.prototype.calculateMarginTop=function(e,t){var n=Math.abs(window.innerHeight-parseInt(e,10)*t)/2;return n=Math.round(1e3*n)/1e3,(n<1?0:n)+"px"},e.prototype.swipeLeft=function(e){this.pageNavigationEnabled&&!this.pageService.getZoomState()&&this._nextPageHandler(e)},e.prototype.swipeRight=function(e){this.pageNavigationEnabled&&!this.pageService.getZoomState()&&this._previousPageHandler(e)},e.prototype._nextPageHandler=function(e){this.iPhoneSafari&&this.addRemoveBounce(!1),console.log("Inside _nextPage",this.pageNumber);var t=this.getNextIndex(this.pageNumber);t<=this.pages.length&&(this.pageListService.pageListNavigateEvent.emit(t),this.routeService.navigateToPage(t)),e&&e.stopPropagation&&e.stopPropagation()},e.prototype._previousPageHandler=function(e){this.iPhoneSafari&&this.addRemoveBounce(!1),console.log("Inside _previousPage",this.pageNumber);var t=this.getPreviousIndex(this.pageNumber);t>0&&(this.pageListService.pageListNavigateEvent.emit(t),this.routeService.navigateToPage(t)),e&&e.stopPropagation&&e.stopPropagation()},e.prototype.handlePageChange=function(e){e===un.PAGE.NEXT?this._nextPageHandler():e===un.PAGE.PREVIOUS&&this._previousPageHandler()},e.prototype.isLastPage=function(){try{var e=this.getPageModel(this.pageComponents.current),t=this.pages.length;return this.isSpreadView()&&e.facingIndex?Math.max(e.index,e.facingIndex)===t:e.index===t}catch(e){}},e.prototype.isFirstPage=function(){try{var e=this.getPageModel(this.pageComponents.current);return 1===e.index||1===e.facingIndex}catch(e){}},e.prototype.initArrows=function(){this.pageNavigationEnabled&&(this._showArrows=this.browserService.isTouchEnabledDevice()&&!this.browserService.isTouchEnabledDesktop()?this.configService.canShowArrowsOnMobile():this.configService.canShowArrowsOnDesktop())},e.prototype.resetScale=function(e){this.scale=e,this.pageComponents.current&&this.pageComponents.current.instance&&this.pageComponents.current.instance.setScale(e)},e.prototype.resetPageHeight=function(){this.pageComponents.current.instance.setHeight()},e.prototype.ngOnDestroy=function(){this.iPhoneSafari&&this.addRemoveBounce(!1),this.unsubscribeEvents()},e.ctorParameters=function(){return[{type:Rn},{type:Vn},{type:Pn},{type:En},{type:Cn},{type:Ei},{type:ki},{type:hn},{type:Pi},{type:Un},{type:Si},{type:Jt.l}]},e}(),Ni=[wi],Di=Jt._14({encapsulation:0,styles:Ni,data:{}}),Fi=(Jt._12("qrk-reader-page-list",Li,k,{pages:"pages",pageNumber:"pageNumber",mode:"mode",spreadView:"spreadView"},{},[]),[".toolbar[_nghost-%COMP%]{position:fixed;z-index:1110;display:-ms-flexbox;display:flex;margin:auto;transition-duration:.3s;-ms-flex-pack:center;justify-content:center}.bottom[_nghost-%COMP%]{height:50px;width:95%;left:0;right:0;bottom:0;transform:translateY(100%)}.bottom.show[_nghost-%COMP%]{transform:translateY(0)}.top[_nghost-%COMP%]{height:50px;width:95%;top:5px;left:0;right:0;top:0;transform:translateY(-100%)}.top.show[_nghost-%COMP%]{transform:translateY(0)}.right[_nghost-%COMP%]{height:95%;width:50px;top:0;bottom:0;-ms-flex-direction:column;flex-direction:column;right:0;transform:translateX(100%)}.right.show[_nghost-%COMP%]{transform:translateX(0)}.left[_nghost-%COMP%]{height:95%;width:50px;top:0;bottom:0;-ms-flex-direction:column;flex-direction:column;left:0;transform:translateX(-100%)}.left.show[_nghost-%COMP%]{transform:translateX(0)}"]),Ri=function(){function e(){this.toolbarToggleEvent=new Jt.q,this.toolbarShowEvent=new Jt.q,this.toolbarHideEvent=new Jt.q,this.toolbarItemShowEvent=new Jt.q}return e.prototype.toggle=function(){this.toolbarToggleEvent.emit()},e.prototype.show=function(){this.toolbarShowEvent.emit()},e.prototype.hide=function(){this.toolbarHideEvent.emit()},e.prototype.itemShow=function(){this.toolbarItemShowEvent.emit()},e.ctorParameters=function(){return[]},e}(),Hi=function(){function e(e){this.translateService=e,this.className="",this.tooltip="",this.svgName=""}return e.prototype.setClass=function(e){this.className=e},e.prototype.setTooltip=function(e){this.tooltip=this.translateService.localize(String(e))},e.prototype.setSvg=function(e){this.svgName=e},e.prototype.onClick=function(e){},e.ctorParameters=function(){return[{type:Fn}]},e}(),zi=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Vi=function(e){function t(t,n,i,o,r){var l=e.call(this,r)||this;return l.configService=t,l.el=n,l.fullScreenService=i,l.browserService=o,l.translateService=r,l}return zi(t,e),t.prototype.ngOnInit=function(){this.fullScreen=this.fullScreenService.isFullScreen(),this.fullScreenConfig=this.configService.getFullScreenConfig(),this.setUIState(),this.subscribeEvents()},t.prototype.subscribeEvents=function(){this.fullScreenEvent=this.browserService.fullScreenChangeEvent.subscribe(this.updateModeSilently.bind(this))},t.prototype.unsubscribeEvents=function(){this.fullScreenEvent&&(this.fullScreenEvent.unsubscribe(),this.fullScreenEvent=void 0)},t.prototype.onClick=function(e){this.toggleMode()},t.prototype.updateModeSilently=function(){this.fullScreen=this.fullScreenService.isFullScreen(),this.fullScreen?this.fullScreenService.enterFullScreenEvent.emit():this.fullScreenService.exitFullScreenEvent.emit(),this.setUIState()},t.prototype.toggleMode=function(){this.fullScreen?this.fullScreenService.exitFullScreen():this.fullScreenService.enterFullScreen()},t.prototype.setUIState=function(){this.setSvg(this.fullScreen?this.fullScreenConfig.fullScreenExit.svg:this.fullScreenConfig.fullScreenEnter.svg),this.setTooltip(this.fullScreen?this.fullScreenConfig.fullScreenExit.tooltip:this.fullScreenConfig.fullScreenEnter.tooltip)},t.prototype.ngOnDestroy=function(){this.unsubscribeEvents()},t.ctorParameters=function(){return[{type:hn},{type:Jt.o},{type:ti},{type:Un},{type:Fn}]},t}(Hi),qi=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ui=function(e){function t(t,n,i,o,r,l,s){var a=e.call(this,s)||this;return a.configService=t,a.el=n,a.browserService=i,a.toolbarService=o,a.spreadService=r,a.pageService=l,a.translateService=s,a.spreadModeEnabled=!0,a}return qi(t,e),t.prototype.ngOnInit=function(){this.config=this.configService.getSpreadConfig(),this.setUIState(),this.subscribeEvents()},t.prototype.subscribeEvents=function(){this.resizeEvent=this.browserService.resizeEvent.subscribe(this.onResize.bind(this)),this.currentPageChangedEvent=this.pageService.currentPageChangedEvent.subscribe(this.showHideButton.bind(this))},t.prototype.unsubscribeEvents=function(){this.resizeEvent&&(this.resizeEvent.unsubscribe(),this.resizeEvent=void 0),this.currentPageChangedEvent&&(this.currentPageChangedEvent.unsubscribe(),this.currentPageChangedEvent=void 0)},t.prototype.onClick=function(e){this.toggleMode()},t.prototype.toggleMode=function(){this.spreadModeEnabled=!this.spreadModeEnabled,this.setUIState(),this.spreadService.modeChanged(this.spreadModeEnabled),this.toolbarService.itemShow()},t.prototype.setUIState=function(){this.setSvg(this.spreadModeEnabled?this.config.singlePageMode.svg:this.config.spreadPageMode.svg),this.setTooltip(this.spreadModeEnabled?this.config.singlePageMode.tooltip:this.config.spreadPageMode.tooltip)},t.prototype.showHideButton=function(e){if(e){var t=e.pagePosition&&this.spreadService.canShowSpreadView();t&&e.orientation===un.ORIENTATION.LANDSCAPE&&(t=this.browserService.isTouchEnabledDevice()&&!this.browserService.isTouchEnabledDesktop()?this.configService.isLandscapeFacingEnabledForMobile():this.configService.isLandscapeFacingEnabledForDesktop()),this.el.nativeElement.style.display=t?"block":"none"}},t.prototype.onResize=function(){this.showHideButton(this.pageService.getCurrentPageModel())},t.prototype.ngOnDestroy=function(){this.unsubscribeEvents()},t.ctorParameters=function(){return[{type:hn},{type:Jt.o},{type:Un},{type:Ri},{type:Ei},{type:Rn},{type:Fn}]},t}(Hi),Wi=function(){function e(){this.pageFitModeChangedEvent=new Jt.q}return e.prototype.modeChanged=function(e){this.pageFitModeChangedEvent.emit(e)},e.ctorParameters=function(){return[]},e}(),Bi=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ji=function(e){function t(t,n,i,o,r,l,s,a,u){var c=e.call(this,u)||this;return c.configService=t,c.el=n,c.pageService=i,c.spreadService=o,c.toolbarService=r,c.browserService=l,c.variantService=s,c.pageFitService=a,c.translateService=u,c.autoFit=un.PAGE_FIT_MODES.AUTO_FIT,c.widthFit=un.PAGE_FIT_MODES.WIDTH_FIT,c}return Bi(t,e),t.prototype.ngOnInit=function(){this.pageFitConfig=this.configService.getFitModeConfig(),this.mode=this.configService.getDefaultFitMode(),this.setUIState(),this.subscribeEvents()},t.prototype.subscribeEvents=function(){this.resizeEvent=this.browserService.resizeEvent.subscribe(this.onResize.bind(this)),this.currentPageChangedEvent=this.pageService.currentPageChangedEvent.subscribe(this.showHideButton.bind(this)),this.spreadModeChangedEvent=this.spreadService.spreadModeChangedEvent.subscribe(this.onSpreadModeChange.bind(this)),this.variantChangedEvent=this.variantService.variantChangedEvent.subscribe(this.onVariantChange.bind(this))},t.prototype.unsubscribeEvents=function(){this.resizeEvent&&(this.resizeEvent.unsubscribe(),this.resizeEvent=void 0),this.currentPageChangedEvent&&(this.currentPageChangedEvent.unsubscribe(),this.currentPageChangedEvent=void 0),this.spreadModeChangedEvent&&(this.spreadModeChangedEvent.unsubscribe(),this.spreadModeChangedEvent=void 0),this.variantChangedEvent&&(this.variantChangedEvent.unsubscribe(),this.variantChangedEvent=void 0)},t.prototype.onClick=function(e){this.toggleMode()},t.prototype.onSpreadModeChange=function(e){this.spreadMode=e},t.prototype.onVariantChange=function(e){this.spreadMode=e.facing},t.prototype.toggleMode=function(){this.mode=this.mode===this.autoFit?this.widthFit:this.autoFit,this.setUIState(),this.pageFitService.modeChanged(this.mode),this.toolbarService.itemShow()},t.prototype.setUIState=function(){var e=this.mode===this.autoFit;this.setSvg(e?this.pageFitConfig.widthFit.svg:this.pageFitConfig.autoFit.svg),this.setTooltip(e?this.pageFitConfig.widthFit.tooltip:this.pageFitConfig.autoFit.tooltip)},t.prototype.getContentHeight=function(e,t){return t=parseInt(t,10),e=parseInt(e,10),e>=t?t:e},t.prototype.canHideButton=function(e){var t=window.innerWidth,n=window.innerHeight,i=this.spreadMode?2*e.width:e.width,o=this.getContentHeight(e.height,this.variantService.getCurrentVariant().height),r=t/i,l=Math.min(t/i,n/o),s=this.configService.getMaxScaleForAutoFit();return r===Math.min(l,s)},t.prototype.showHideButton=function(e){e&&(this.el.nativeElement.style.display=e.responsive||this.canHideButton(e)?"none":"block")},t.prototype.onResize=function(){this.showHideButton(this.pageService.getCurrentPageModel())},t.prototype.ngOnDestroy=function(){this.unsubscribeEvents()},t.ctorParameters=function(){return[{type:hn},{type:Jt.o},{type:Rn},{type:Ei},{type:Ri},{type:Un},{type:Pi},{type:Wi},{type:Fn}]},t}(Hi),Gi=function(){function e(){this.scrubberInEvent=new Jt.q,this.scrubberOutEvent=new Jt.q,this.scrubberMoveEvent=new Jt.q,this.scrubberPressedEvent=new Jt.q,this.scrubberTickLeaveEvent=new Jt.q}return e.ctorParameters=function(){return[]},e}(),Xi=function(){function e(e,t,n,i,o,r,l){this.el=e,this.pageService=t,this.variantService=n,this.configService=i,this.routeService=o,this.scrubberService=r,this.browserService=l,this.loaderSrc="images/spinner.gif",this.subscribeEvents()}return Object.defineProperty(e.prototype,"function",{get:function(){return this.index},enumerable:!0,configurable:!0}),e.prototype.subscribeEvents=function(){this.scrubberTickLeaveEvent=this.scrubberService.scrubberTickLeaveEvent.subscribe(this.setHoverState.bind(this)),this.currentPageChangedEvent=this.pageService.currentPageChangedEvent.subscribe(this.onPageChange.bind(this))},e.prototype.onPageChange=function(e){this.current=this.index===e.index},e.prototype.getDefaultDimension=function(){var e=this.variantService.getCurrentVariant().orientation;return this.configService.getThumbnailDimensionsForOrientation(e)},e.prototype.setFrame=function(e){var t=e.target,n=this.getDefaultDimension();-1===t.src.indexOf(this.loaderSrc)?(t.classList.remove("margin"),t.style.maxHeight=t.style.maxWidth="",t.style.width=n.width+"px",t.style.height=(t.naturalWidth?n.width*t.naturalHeight/t.naturalWidth:n.height)+"px"):(t.style.maxHeight=n.height+"px",t.style.maxWidth=n.width+"px",t.style.height=t.style.width="auto")},e.prototype.onError=function(e){var t=e.target,n=this.getDefaultDimension();t.alt=t.dataset.src,t.classList.add("error"),t.classList.remove("margin"),t.style.width=n.width+"px",t.style.height=n.height+"px",t.style.maxHeight=t.style.maxWidth=""},e.prototype.setHoverState=function(e){this.hover=e},e.prototype.setIndex=function(e){this.index=e},e.prototype.setTitle=function(e){this.title=e},e.prototype.setThumbnailSrc=function(e){if("IntersectionObserver"in window){var t=this.el.nativeElement.getElementsByTagName("img")[0];t.classList.add("lazy"),t.classList.add("margin"),t.setAttribute("data-src",e),this.thumbnailSrc=this.loaderSrc}else this.thumbnailSrc=e},e.prototype.getElement=function(){return this.el.nativeElement},e.prototype.onTap=function(){this.routeService.navigateToPage(this.index)},e.prototype.onClick=function(){this.browserService.isTouchEnabledDevice()&&!this.browserService.isTouchEnabledDesktop()||this.routeService.navigateToPage(this.index)},e.prototype.unsubscribeEvents=function(){this.currentPageChangedEvent&&(this.currentPageChangedEvent.unsubscribe(),this.currentPageChangedEvent=void 0),this.scrubberTickLeaveEvent&&(this.scrubberTickLeaveEvent.unsubscribe(),this.scrubberTickLeaveEvent=void 0)},e.prototype.ngOnDestroy=function(){this.unsubscribeEvents()},e.ctorParameters=function(){return[{type:Jt.o},{type:Rn},{type:Pi},{type:hn},{type:En},{type:Gi},{type:Un}]},e}(),Yi=function(){function e(e,t){this.componentFactoryResolver=e,this.issueService=t,this.thumbnails=[],this.thumbnailFactory=this.componentFactoryResolver.resolveComponentFactory(Xi)}return e.prototype.setThumbnail=function(e){var t=this.thumbnail.createComponent(this.thumbnailFactory);t.instance.setIndex(e.index),t.instance.setTitle(e.article.title),t.instance.setThumbnailSrc(e.thumbnail),this.thumbnails.push(t)},e.prototype.getThumbnails=function(){return this.thumbnails},e.ctorParameters=function(){return[{type:Jt.l},{type:Cn}]},e}(),Zi=function(){function e(e,t,n,i,o,r,l,s,a){this.componentFactoryResolver=e,this.scrubberService=t,this.browserService=n,this.toolbarService=i,this.routeService=o,this.configService=r,this.variantService=l,this.pageListService=s,this.el=a,this.thumbnailGroups=[],this.thumbnailGroupFactory=this.componentFactoryResolver.resolveComponentFactory(Yi),this.touchEnabled=this.browserService.isTouchEnabledDevice(),this.subscribeEvents(),this.configService.isTimelineVisibleInitially()&&(this.show=!0,this.subscribeToolbarItemShowEvent()),this.canMouseHoverNavigate=!this.touchEnabled&&this.configService.isMouseHoverNavigationEnabled()}return e.prototype.addLoadObserver=function(){var e=[].slice.call(document.querySelectorAll("img.lazy"));if("IntersectionObserver"in window){var t=new IntersectionObserver(function(e,n){e.forEach(function(e){if(e.isIntersecting){var n=e.target;n.src=n.dataset.src,n.classList.remove("lazy"),t.unobserve(n)}})});e.forEach(function(e){t.observe(e)})}},e.prototype.subscribeEvents=function(){this.toolbarHideEvent=this.toolbarService.toolbarHideEvent.subscribe(this.hideTimeline.bind(this)),this.scrubberInEvent=this.scrubberService.scrubberInEvent.subscribe(this.showAndTranslate.bind(this)),this.scrubberOutEvent=this.scrubberService.scrubberOutEvent.subscribe(this.hideTimeline.bind(this)),this.scrubberMoveEvent=this.scrubberService.scrubberMoveEvent.subscribe(this.translateTimeline.bind(this)),this.scrubberPressedEvent=this.scrubberService.scrubberPressedEvent.subscribe(this.showTimeline.bind(this)),this.pageListViewLoadedEvent=this.pageListService.pageListViewLoadedEvent.subscribe(this.subscribePageChangeEvent.bind(this))},e.prototype.subscribePageChangeEvent=function(){this.pageNavigateEvent=this.routeService.pageNavigateEvent.subscribe(this.hideTimeline.bind(this))},e.prototype.unsubscribeEvents=function(){this.toolbarHideEvent&&(this.toolbarHideEvent.unsubscribe(),this.toolbarHideEvent=void 0),this.scrubberInEvent&&(this.scrubberInEvent.unsubscribe(),this.scrubberInEvent=void 0),this.scrubberOutEvent&&(this.scrubberOutEvent.unsubscribe(),this.scrubberOutEvent=void 0),this.scrubberMoveEvent&&(this.scrubberMoveEvent.unsubscribe(),this.scrubberMoveEvent=void 0),this.scrubberPressedEvent&&(this.scrubberPressedEvent.unsubscribe(),this.scrubberPressedEvent=void 0),this.pageListViewLoadedEvent&&(this.pageListViewLoadedEvent.unsubscribe(),this.pageListViewLoadedEvent=void 0),this.pageNavigateEvent&&(this.pageNavigateEvent.unsubscribe(),this.pageNavigateEvent=void 0),this.unsubscribeToolbarItemShowEvent()},e.prototype.subscribeToolbarItemShowEvent=function(){this.toolbarItemShowEvent=this.toolbarService.toolbarItemShowEvent.subscribe(this.hideTimeline.bind(this))},e.prototype.unsubscribeToolbarItemShowEvent=function(){this.toolbarItemShowEvent&&(this.toolbarItemShowEvent.unsubscribe(),this.toolbarItemShowEvent=void 0)},e.prototype.setPage=function(e){this.currentPageIndex=e,this.translateTimeline(e)},e.prototype.setPages=function(e){this.thumbnailGroups.forEach(function(e){return e.destroy()}),this.thumbnailGroups=[],this.updateTimeLine(e)},e.prototype.showAndTranslate=function(e){this.touchEnabled&&!this.browserService.isTouchEnabledDesktop()?(this.toggleTimeline(),this.translateTimeline(this.currentPageIndex)):(this.show||this.showTimeline(),this.translateTimeline(e))},e.prototype.onMouseMove=function(e){if(this.canMouseHoverNavigate){var t=this.getTimeLine().scrollWidth,n=this.el.nativeElement.offsetWidth,i=e.pageX-150,o=Math.min(1,Math.max(i/(n-300),0)),r=o*(t-n),l=this.getTimeLine();l.style.transitionProperty="width",l.style.transform="translate3d(-"+r+"px, 0px, 0px)"}},e.prototype.getTimeLine=function(){return this.el.nativeElement.getElementsByClassName("scrubber-timeline-list")[0]},e.prototype.translateTimeline=function(e){var t,n,i,o=this.getTimeLine();for(n=0;n<this.thumbnailGroups.length;++n){var r=this.thumbnailGroups[n].instance.getThumbnails();for(i=0;i<r.length;++i){var l=r[i].instance;l.index===e?(t=l.getElement(),l.setHoverState(!0)):l.setHoverState(!1)}}var s=t.offsetLeft+t.clientWidth/2-o.clientWidth/2;s=s<t.clientWidth?0:s;var a=o.scrollWidth-o.clientWidth;s=s>a?a:s,this.touchEnabled?o.scrollLeft=s:(o.style.transitionProperty="transform",o.style.transform="translate(-"+s+"px, 0px)")},e.prototype.updateTimeLine=function(e){var t,n,i,o=this;e.every(function(e,r){var l=e.section.name===un.SECTION.DEFAULT_NAME?"":e.section.name;return t!==l&&(t=l,n=o.thumbnailGroup.createComponent(o.thumbnailGroupFactory),i=n.instance,i.name=l,""!==l||o.canApplyDefaultSectionColor()?i.borderColour="#"+e.section.colour:i.borderColour="transparent"),i.setThumbnail(e),o.thumbnailGroups.push(n),!0}),this.addLoadObserver()},e.prototype.canApplyDefaultSectionColor=function(){var e=this.variantService.getCurrentVariant(),t=e.singleSections;return Object.keys(t).length>1||1===Object.keys(t).length&&!this.hasContentSection(e)},e.prototype.hasContentSection=function(e){return void 0!==e.singleSections[un.SECTION.DEFAULT_NAME]},e.prototype.showTimeline=function(){this.show=!0,this.toolbarService.itemShow(),this.toolbarItemShowEvent=this.toolbarService.toolbarItemShowEvent.subscribe(this.hideTimeline.bind(this))},e.prototype.hideTimeline=function(){this.show=!1,this.unsubscribeToolbarItemShowEvent()},e.prototype.toggleTimeline=function(){this.show?this.hideTimeline():this.showTimeline()},e.prototype.ngOnDestroy=function(){this.unsubscribeEvents()},e.ctorParameters=function(){return[{type:Jt.l},{type:Gi},{type:Un},{type:Ri},{type:En},{type:hn},{type:Pi},{type:Si},{type:Jt.o}]},e}(),Ki=function(){function e(e,t,n,i,o){this.el=e,this.scrubberService=t,this.browserService=n,this.configService=i,this.routeService=o,this.touchEnabled=this.browserService.isTouchEnabledDevice()}return Object.defineProperty(e.prototype,"function",{get:function(){return this.index},enumerable:!0,configurable:!0}),e.prototype.onClick=function(){this.touchEnabled?this.scrubberService.scrubberInEvent.emit(this.index):this.routeService.navigateToPage(this.index)},e.prototype.onMouseOver=function(){this.touchEnabled&&!this.browserService.isTouchEnabledDesktop()||this.scrubberService.scrubberInEvent.emit(this.index)},e.prototype.onMouseLeave=function(){this.scrubberService.scrubberTickLeaveEvent.emit(!1)},e.ctorParameters=function(){return[{type:Jt.o},{type:Gi},{type:Un},{type:hn},{type:En}]},e}(),Qi=function(){function e(e,t,n,i,o,r,l,s,a,u){this.el=e,this.scrubberService=t,this.componentFactoryResolver=n,this.routeService=i,this.variantService=o,this.browserService=r,this.pageService=l,this.configService=s,this.pageListService=a,this.translateService=u,this.tickComponents=[],this.tickComponentFactory=this.componentFactoryResolver.resolveComponentFactory(Ki),this.subscribeEvents()}return e.prototype.subscribeEvents=function(){this.pageListViewLoadedEvent=this.pageListService.pageListViewLoadedEvent.subscribe(this.setThumbMargin.bind(this)),this.currentPageChangedEvent=this.pageService.currentPageChangedEvent.subscribe(this.setPage.bind(this)),this.variantChangedEvent=this.variantService.variantChangedEvent.subscribe(this.setPages.bind(this))},e.prototype.unsubscribeEvents=function(){this.pageListViewLoadedEvent&&(this.pageListViewLoadedEvent.unsubscribe(),this.pageListViewLoadedEvent=void 0),this.currentPageChangedEvent&&(this.currentPageChangedEvent.unsubscribe(),this.currentPageChangedEvent=void 0),this.variantChangedEvent&&(this.variantChangedEvent.unsubscribe(),this.variantChangedEvent=void 0)},e.prototype.ngOnInit=function(){this.initThumb(),this.svgName=this.configService.getHomeIcon(),this.browserService.resizeEvent.subscribe(this.onResize.bind(this)),this.configService.isTimelineEnabled()&&this.initTimeline(),this.el.nativeElement.getElementsByTagName("button")[0].setAttribute("aria-label",this.translateService.localize("home"))},e.prototype.setPage=function(e){var t=this;this.currentPageIndex=e.index,setTimeout(function(){t.setThumbMargin()},10),this.updateTimelinePage(this.currentPageIndex)},e.prototype.setPages=function(e){var t=e.pages;this.totalPages=t.length,this.setUpScrubberBar(t),this.updateTimelinePages(t)},e.prototype.initThumb=function(){this.scrubberThumb=this.el.nativeElement.getElementsByClassName("scrubber-thumb")[0],this.scrubberThumbWidth=this.scrubberThumb.clientWidth,this.scrubberThumb.style.top=(this.el.nativeElement.clientHeight-this.scrubberThumb.clientHeight)/2+"px"},e.prototype.getTick=function(){return this.el.nativeElement.getElementsByClassName("tick")},e.prototype.setThumbMargin=function(){if(this.scrubberThumb&&this.getTick().length){var e=parseFloat(window.getComputedStyle(this.getTick()[0]).width),t=this.currentPageIndex*e-(e+this.scrubberThumbWidth)/2;this.scrubberThumb.style.marginLeft=t+"px",this.xPos=this.scrubberThumb.style.marginLeft}},e.prototype.onResize=function(e){this.setThumbMargin()},e.prototype.setUpScrubberBar=function(e){var t=this,n=e.length,i=this.tickComponents.length;if(e.forEach(function(e,n){var o;n<i?(o=t.tickComponents[n],o.instance.index=e.index):(o=t.dynamicContainerTick.createComponent(t.tickComponentFactory),o.instance.index=e.index,t.tickComponents.push(o))}),(i=this.tickComponents.length)>n)for(var o=n;o<i;++o)this.tickComponents.pop().destroy()},e.prototype.initTimeline=function(){if(!this.timeline){var e=this.componentFactoryResolver.resolveComponentFactory(Zi);this.timeline=this.dynamicContainerTimeLine.createComponent(e).instance}},e.prototype.updateTimelinePages=function(e){this.timeline&&this.timeline.setPages(e)},e.prototype.updateTimelinePage=function(e){this.timeline&&this.timeline.setPage(e)},e.prototype.scrubMax=function(){return this.el.nativeElement.getElementsByClassName("ticks")[0].clientWidth},e.prototype.onTouchStart=function(e){var t=this;this.touchMoveObservable=ln.Observable.fromEvent(window,"touchmove").subscribe(function(e){t.scrubberThumb.classList.add("dragging"),t.onMove(e)}),this.touchEndObservable=ln.Observable.fromEvent(window,"touchend").subscribe(function(e){t.onTouchEnd(e)}),this.onDown(e)},e.prototype.onMouseDown=function(e){var t=this;this.browserService.isTouchEnabledDevice()&&!this.browserService.isTouchEnabledDesktop()||(this.mouseMoveObservable=ln.Observable.fromEvent(window,"mousemove").subscribe(function(e){t.scrubberThumb.classList.add("dragging"),t.onMove(e)}),this.mouseUpObservable=ln.Observable.fromEvent(window,"mouseup").subscribe(function(e){t.onMouseUp(e)}),this.onDown(e))},e.prototype.onDown=function(e){this.scrubberService.scrubberInEvent.emit(this.currentPageIndex),this.xPos=e.pageX?e.pageX:e.changedTouches[0].pageX},e.prototype.onMove=function(e){var t=e.pageX?e.pageX:e.changedTouches[0].pageX,n=t-this.xPos+parseInt(this.scrubberThumb.style.marginLeft,10),i=0,o=this.scrubMax()-this.scrubberThumbWidth/2,r=this.getTick()[0].clientWidth,l=this.getTick().length;n=Math.max(n,0),n=Math.min(n,o);for(var s=1;s<=l;s++){if(s*r>=n){i=s;break}}this.scrubberThumb.style.marginLeft=n+"px",this.currentPageIndex=i||this.totalPages,this.scrubberService.scrubberMoveEvent.emit(this.currentPageIndex),this.xPos=t},e.prototype.onMouseUp=function(e){this.onDragEnd(),this.mouseMoveObservable.unsubscribe(),this.mouseUpObservable.unsubscribe()},e.prototype.onTouchEnd=function(e){this.onDragEnd(),this.touchMoveObservable.unsubscribe(),this.touchEndObservable.unsubscribe()},e.prototype.onDragEnd=function(){this.pageService.getCurrentPageModel().index!==this.currentPageIndex&&this.navigateToPage(this.currentPageIndex),this.scrubberThumb.classList.remove("dragging"),this.setThumbMargin()},e.prototype.onMouseLeave=function(e){this.scrubberService.scrubberOutEvent.emit()},e.prototype.onHomeButtonClick=function(){this.navigateToPage(1)},e.prototype.navigateToPage=function(e){e&&(this.routeService.navigateToPage(e),this.setThumbMargin())},e.prototype.ngOnDestroy=function(){this.unsubscribeEvents()},e.ctorParameters=function(){return[{type:Jt.o},{type:Gi},{type:Jt.l},{type:En},{type:Pi},{type:Un},{type:Rn},{type:hn},{type:Si},{type:Fn}]},e}(),$i=function(){function e(){this.tocToggleEvent=new Jt.q,this.tocShowEvent=new Jt.q,this.tocHideEvent=new Jt.q,this.tocAvailableEvent=new Jt.q,this.tocUnavailableEvent=new Jt.q,this.tocLayoutEvent=new Jt.q}return e.prototype.available=function(){this.tocAvailableEvent.emit()},e.prototype.unavailable=function(){this.tocUnavailableEvent.emit()},e.prototype.toggle=function(){this.tocToggleEvent.emit()},e.prototype.show=function(){this.tocShowEvent.emit()},e.prototype.hide=function(){this.tocHideEvent.emit()},e.prototype.updateLayout=function(e){this.tocLayoutEvent.emit(e)},e.ctorParameters=function(){return[]},e}(),Ji=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),eo=function(e){function t(t,n,i,o){var r=e.call(this,o)||this;return r.configService=t,r.tocService=n,r.el=i,r.translateService=o,r.subscribeEvents(),r}return Ji(t,e),t.prototype.ngOnInit=function(){var e=this.configService.getTocConfig();this.setSvg(e.svg),this.setTooltip(e.tooltip)},t.prototype.subscribeEvents=function(){this.tocShowEvent=this.tocService.tocShowEvent.subscribe(this.addClass.bind(this)),this.tocHideEvent=this.tocService.tocHideEvent.subscribe(this.removeClass.bind(this)),this.tocAvailableEvent=this.tocService.tocAvailableEvent.subscribe(this.showButton.bind(this)),this.tocUnavailableEvent=this.tocService.tocUnavailableEvent.subscribe(this.hideButton.bind(this))},t.prototype.unsubscribeEvents=function(){this.tocShowEvent&&(this.tocShowEvent.unsubscribe(),this.tocShowEvent=void 0),this.tocHideEvent&&(this.tocHideEvent.unsubscribe(),this.tocHideEvent=void 0),this.tocAvailableEvent&&(this.tocAvailableEvent.unsubscribe(),this.tocAvailableEvent=void 0),this.tocUnavailableEvent&&(this.tocUnavailableEvent.unsubscribe(),this.tocUnavailableEvent=void 0)},t.prototype.onClick=function(e){this.tocService.toggle()},t.prototype.addClass=function(){this.getElement().classList.add("active")},t.prototype.removeClass=function(){this.getElement().classList.remove("active")},t.prototype.showButton=function(){this.getElement().style.display="block"},t.prototype.hideButton=function(){this.getElement().style.display="none"},t.prototype.getElement=function(){return this.el.nativeElement},t.prototype.ngOnDestroy=function(){this.unsubscribeEvents()},t.ctorParameters=function(){return[{type:hn},{type:$i},{type:Jt.o},{type:Fn}]},t}(Hi),to=function(){function e(){this.sharingHideEvent=new Jt.q,this.sharingShowEvent=new Jt.q}return e.prototype.hide=function(){this.sharingHideEvent.emit()},e.prototype.show=function(){this.sharingShowEvent.emit()},e.ctorParameters=function(){return[]},e}(),no=n("XDiI"),io=function(){function e(e,t,n){this.configService=e,this.browserService=t,this.facebookService=n,!this.browserService.isTouchEnabledDevice()&&this.configService.isSharingEnabled()&&this.configService.getSharingConfig().options.facebookShare&&this.loadScript()}return e.prototype.loadScript=function(){!function(e,t,n){var i,o=e.getElementsByTagName(t)[0];e.getElementById(n)||(i=e.createElement(t),i.id=n,i.src="https://connect.facebook.net/en_US/sdk.js",o.parentNode.insertBefore(i,o))}(document,"script","facebook-jssdk")},e.prototype.share=function(e,t,n,i){var o=this;this.href=t,this.title=n,this.pictureUrl=i;var r={appId:e,status:!0,version:"v2.12",cookie:!0};this.facebookService.init(r).then(function(e){return o.checkLoginStatus()}).catch(function(e){return console.log(e)})},e.prototype.checkLoginStatus=function(){var e=this;this.facebookService.getLoginStatus().then(function(t){return e.manageLoginStatus(t)}).catch(function(e){return console.log(e)})},e.prototype.shareDialog=function(){var e={href:this.href,method:"share",name:this.title,picture:this.pictureUrl};this.facebookService.ui(e).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)})},e.prototype.manageLoginStatus=function(e){var t=this;"connected"===e.status?this.shareDialog():this.facebookService.login().then(function(e){return t.manageLoginStatus(e)}).catch(function(e){return console.log(e)})},e.ctorParameters=function(){return[{type:hn},{type:Un},{type:no.a}]},e}(),oo=function(){function e(e,t,n,i,o,r,l,s){this.configService=e,this.pageService=t,this.sharingService=n,this.toolbarService=i,this.facebookSharingService=o,this.translateService=r,this.analyticsService=l,this.el=s,this.emailShareEnabled=!1,this.fbShareEnabled=!1,this.linkedinShareEnabled=!1,this.twitterShareEnabled=!1}return e.prototype.ngOnInit=function(){this.sharingConfig=this.configService.getSharingConfig();var e=this.sharingConfig.options;this.emailShareEnabled=e.emailShare,this.fbShareEnabled=e.facebookShare,this.linkedinShareEnabled=e.linkedinShare,this.twitterShareEnabled=e.twitterShare},e.prototype.subscribeToolbarItemShowEvent=function(){this.toolbarItemShowEvent=this.toolbarService.toolbarItemShowEvent.subscribe(this.hide.bind(this))},e.prototype.unsubscribeToolbarItemShowEvent=function(){this.toolbarItemShowEvent&&(this.toolbarItemShowEvent.unsubscribe(),this.toolbarItemShowEvent=void 0)},e.prototype.setMenuPositions=function(){var e=this.el.nativeElement.querySelectorAll(".icon"),t=e.length,n=this.el.nativeElement.parentElement.offsetLeft,i=this.el.nativeElement.parentElement.offsetWidth;this.el.nativeElement.style.bottom=this.configService.getToolbarConfig().height,this.el.nativeElement.style.height=e[0].offsetHeight*t+"px",this.el.nativeElement.style.left=n+i/2-this.el.nativeElement.offsetWidth/2+"px"},e.prototype.showSharingMenuView=function(){this.el.nativeElement.style.display="block",this.setMenuPositions(),this.toolbarService.itemShow(),this.subscribeToolbarItemShowEvent()},e.prototype.hideSharingMenuView=function(){this.el.nativeElement.style.display="none",this.unsubscribeToolbarItemShowEvent()},e.prototype.getCurrentArticle=function(){return this.pageService.getCurrentPageModel().article},e.prototype.getHTMLTitle=function(){return encodeURIComponent(document.title)},e.prototype.getSocialComment=function(){var e=this.getCurrentArticle().socialComment;return e?encodeURIComponent(e):(e=this.translateService.localize("sharing-string"),e=e.replace("^1",this.configService.getAppTitle()),encodeURIComponent(e))},e.prototype.getSocialUrl=function(){return this.getCurrentArticle().socialUrl?encodeURIComponent(this.getCurrentArticle().socialUrl):encodeURIComponent(this.getCurrentUrl())},e.prototype.getCurrentUrl=function(){return location.href},e.prototype.getTopOffset=function(e){return(window.innerHeight-e)/2},e.prototype.getLeftOffset=function(e){return(window.innerWidth-e)/2},e.prototype.hide=function(){this.sharingService.hide()},e.prototype.emailShare=function(e){this.hide(),this.analyticsService.trackAction(un.ANALYTICS_CATEGORY.SHARE,un.ANALYTICS_ACTIONS.EMAIL,this.pageService.getEventLabel()),window.open("mailto:?Subject="+this.getHTMLTitle()+"&Body="+this.getSocialComment()+"%0D%0A"+this.getSocialUrl(),"_parent")},e.prototype.linkedinShare=function(e){this.hide(),this.analyticsService.trackAction(un.ANALYTICS_CATEGORY.SHARE,un.ANALYTICS_ACTIONS.LINKEDIN,this.pageService.getEventLabel());var t="left="+this.getLeftOffset(980)+" ,top="+this.getTopOffset(780)+",width=980,height=780,toolbar=0,resizable=1";window.open("https://www.linkedin.com/shareArticle?mini=true&url="+this.getSocialUrl()+"&title="+this.getHTMLTitle()+"&summary="+this.getSocialComment(),"_blank",t)},e.prototype.twitterShare=function(e){this.hide(),this.analyticsService.trackAction(un.ANALYTICS_CATEGORY.SHARE,un.ANALYTICS_ACTIONS.TWITTER,this.pageService.getEventLabel());var t="left="+this.getLeftOffset(600)+" ,top="+this.getTopOffset(500)+",width=600,height=500,toolbar=0,resizable=1";window.open("https://twitter.com/intent/tweet?&text="+this.getSocialComment()+"&url="+this.getSocialUrl(),"_blank",t)},e.prototype.getFBSocialUrl=function(){return this.getCurrentArticle().socialUrl?this.getCurrentArticle().socialUrl:this.getCurrentUrl()},e.prototype.facebookShare=function(e){this.hide(),this.analyticsService.trackAction(un.ANALYTICS_CATEGORY.SHARE,un.ANALYTICS_ACTIONS.FACEBOOK,this.pageService.getEventLabel());var t=this.sharingConfig.facebook,n=t.AppID;if(n)this.facebookSharingService.share(n,this.getFBSocialUrl(),this.getHTMLTitle(),this.getCurrentArticle().socialImageUrl||"");else{var i="left="+this.getLeftOffset(600)+" ,top="+this.getTopOffset(500)+",width=600,height=500,toolbar=0,resizable=1";window.open("https://www.facebook.com/sharer/sharer.php?u="+this.getSocialUrl(),"_blank",i)}},e.ctorParameters=function(){return[{type:hn},{type:Rn},{type:to},{type:Ri},{type:io},{type:Fn},{type:Hn},{type:Jt.o}]},e}(),ro=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),lo=function(e){function t(t,n,i,o,r,l,s,a){var u=e.call(this,l)||this;return u.el=t,u.configService=n,u.toolbarService=i,u.browserService=o,u.sharingService=r,u.translateService=l,u.viewContainerRef=s,u.componentFactoryResolver=a,u}return ro(t,e),t.prototype.ngOnInit=function(){this.setUIState();var e=this.componentFactoryResolver.resolveComponentFactory(oo);this.sharingMenuRef=this.dynamicContainer.createComponent(e),this.subscribeEvents()},t.prototype.subscribeEvents=function(){this.toolbarHideEvent=this.toolbarService.toolbarHideEvent.subscribe(this.hide.bind(this)),this.sharingHideEvent=this.sharingService.sharingHideEvent.subscribe(this.hide.bind(this)),this.resizeEvent=this.browserService.resizeEvent.subscribe(this.onResize.bind(this))},t.prototype.unsubscribeEvents=function(){this.toolbarHideEvent&&(this.toolbarHideEvent.unsubscribe(),this.toolbarHideEvent=void 0),this.sharingHideEvent&&(this.sharingHideEvent.unsubscribe(),this.sharingHideEvent=void 0),this.resizeEvent&&(this.resizeEvent.unsubscribe(),this.resizeEvent=void 0)},t.prototype.onResize=function(){this.hide()},t.prototype.setUIState=function(){var e=this.configService.getSharingConfig();this.setSvg(e.svg),this.setTooltip(e.tooltip)},t.prototype.onClick=function(e){this.toggle()},t.prototype.toggle=function(){this.open?this.hide():this.show()},t.prototype.show=function(){this.open=!0,this.sharingMenuRef.instance.showSharingMenuView()},t.prototype.hide=function(){this.open=!1,this.sharingMenuRef.instance.hideSharingMenuView()},t.prototype.ngOnDestroy=function(){this.unsubscribeEvents()},t.ctorParameters=function(){return[{type:Jt.o},{type:hn},{type:Ri},{type:Un},{type:to},{type:Fn},{type:Jt._0},{type:Jt.l}]},t}(Hi),so=function(){function e(){this.globalAudioDidHideEvent=new Jt.q,this.globalAudioDidShowEvent=new Jt.q,this.globalAudioToggleEvent=new Jt.q}return e.prototype.didHide=function(){this.globalAudioDidHideEvent.emit()},e.prototype.didShow=function(){this.globalAudioDidShowEvent.emit()},e.prototype.toggle=function(){this.globalAudioToggleEvent.emit()},e.ctorParameters=function(){return[]},e}(),ao=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),uo=function(e){function t(t,n,i,o){var r=e.call(this,i)||this;return r.el=t,r.configService=n,r.translateService=i,r.globalAudioService=o,r}return ao(t,e),t.prototype.ngOnInit=function(){var e=this.configService.getGlobalAudioButtonConfig();this.setSvg(e.svg),this.setTooltip(e.tooltip),this.subscribeEvents()},t.prototype.subscribeEvents=function(){this.globalAudioDidHideEvent=this.globalAudioService.globalAudioDidHideEvent.subscribe(this.onHide.bind(this)),this.globalAudioDidShowEvent=this.globalAudioService.globalAudioDidShowEvent.subscribe(this.onShow.bind(this))},t.prototype.unsubscribeEvents=function(){this.globalAudioDidHideEvent&&(this.globalAudioDidHideEvent.unsubscribe(),this.globalAudioDidHideEvent=void 0),this.globalAudioDidShowEvent&&(this.globalAudioDidShowEvent.unsubscribe(),this.globalAudioDidShowEvent=void 0)},t.prototype.onClick=function(e){this.globalAudioService.toggle()},t.prototype.onHide=function(){this.open=!1},t.prototype.onShow=function(){this.open=!0},t.prototype.ngOnDestroy=function(){this.unsubscribeEvents()},t.ctorParameters=function(){return[{type:Jt.o},{type:hn},{type:Fn},{type:so}]},t}(Hi),co=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ho=function(e){function t(t,n,i,o){var r=e.call(this,o)||this;return r.configService=t,r.el=n,r.routeService=i,r.translateService=o,r}return co(t,e),t.prototype.ngOnInit=function(){this.setUIState()},t.prototype.setUIState=function(){var e=this.configService.getStoreButtonConfig();this.setSvg(e.svg),this.setTooltip(e.tooltip)},t.prototype.onClick=function(e){this.routeService.navigateToStore()},t.ctorParameters=function(){return[{type:hn},{type:Jt.o},{type:En},{type:Fn}]},t}(Hi),po=function(){function e(e,t,n,i,o,r,l){this.configService=e,this.el=t,this.pageListService=n,this.fullScreenService=i,this.toolbarService=o,this.browserService=r,this.componentFactoryResolver=l,this.alwaysVisible=this.configService.isToolbarAlwaysVisible(),this.subscribeEvents()}return e.prototype.subscribeEvents=function(){this.alwaysVisible||(this.enterFullScreenEvent=this.fullScreenService.enterFullScreenEvent.subscribe(this.hide.bind(this)),this.pageListClickEvent=this.pageListService.pageListClickEvent.subscribe(this.toggleToolbar.bind(this)),this.pageListNavigationEvent=this.pageListService.pageListNavigateEvent.subscribe(this.hide.bind(this)))},e.prototype.unsubscribeEvents=function(){this.pageListNavigationEvent&&(this.pageListNavigationEvent.unsubscribe(),this.pageListNavigationEvent=void 0),this.enterFullScreenEvent&&(this.enterFullScreenEvent.unsubscribe(),this.enterFullScreenEvent=void 0),this.pageListClickEvent&&(this.pageListClickEvent.unsubscribe(),this.pageListClickEvent=void 0)},e.prototype.ngOnInit=function(){this.addItemsIntoToolbar(),this.configService.isToolbarVisibleInitially()||this.alwaysVisible?this.show():this.hide(),this.setPosition()},e.prototype.addItemsIntoToolbar=function(){var e=this,t=this.configService.getToolbarItems(),n=this.browserService.isTouchEnabledDevice()&&!this.browserService.isTouchEnabledDesktop();t.forEach(function(t){var i;switch(t.toLowerCase()){case"storebutton":e.configService.isStoreEnabled()&&(i=e.componentFactoryResolver.resolveComponentFactory(ho),e.setToolbarItem(i));break;case"tocbutton":e.configService.isTocEnabled()&&(i=e.componentFactoryResolver.resolveComponentFactory(eo),e.setToolbarItem(i));break;case"fullscreenbutton":!n&&e.configService.isFullScreenEnabled()&&(i=e.componentFactoryResolver.resolveComponentFactory(Vi),e.setToolbarItem(i));break;case"pagefitbutton":e.configService.isPageFitEnabled()&&(i=e.componentFactoryResolver.resolveComponentFactory(ji),e.setToolbarItem(i));break;case"spreadviewbutton":i=e.componentFactoryResolver.resolveComponentFactory(Ui),e.setToolbarItem(i);break;case"scrubberbar":e.configService.isScrubberEnabled()&&(i=e.componentFactoryResolver.resolveComponentFactory(Qi),e.setToolbarItem(i));break;case"sharingbutton":!n&&e.configService.isSharingEnabled()&&(i=e.componentFactoryResolver.resolveComponentFactory(lo),e.setToolbarItem(i));break;case"globalaudiobutton":!n&&e.configService.isGlobalAudioEnabled()&&(i=e.componentFactoryResolver.resolveComponentFactory(uo),e.setToolbarItem(i))}})},e.prototype.setToolbarItem=function(e){if(e){this.dynamicContainer.createComponent(e).instance.el.nativeElement.classList.add("toolbarItem")}},e.prototype.setPosition=function(){this.addClass(this.configService.getToolbarPosition().toLowerCase())},e.prototype.toggleToolbar=function(){this.visible?this.hide():this.show()},e.prototype.show=function(){this.visible=!0,this.addClass("show"),this.browserService.type.iphone&&this.browserService.type.safari&&this.browserService.getWindowOrientation()===un.ORIENTATION.LANDSCAPE&&(this.alwaysVisible||(this.hideToolbarRef=this.hide.bind(this),$(window).on("scroll",this.hideToolbarRef)),this.repositionToolbar()),this.toolbarService.show()},e.prototype.hide=function(){this.visible=!1,this.removeClass("show"),this.browserService.type.iphone&&this.browserService.type.safari&&(this.alwaysVisible||$(window).off("scroll",this.hideToolbarRef),this.getToolbarElement().style.transform=""),this.toolbarService.hide()},e.prototype.repositionToolbar=function(){var e=this;setTimeout(function(){var t=window.innerHeight-window.screen.width;t=t&&t<50?t+window.scrollY:t,e.getToolbarElement().style.transform="translateY("+t+"px)"})},e.prototype.getToolbarElement=function(){return this.el.nativeElement},e.prototype.addClass=function(e){this.getToolbarElement().classList.add(e)},e.prototype.removeClass=function(e){this.getToolbarElement().classList.remove(e)},e.prototype.ngOnDestroy=function(){this.unsubscribeEvents()},e.ctorParameters=function(){return[{type:hn},{type:Jt.o},{type:Si},{type:ti},{type:Ri},{type:Un},{type:Jt.l}]},e}(),go=[Fi],vo=Jt._14({encapsulation:0,styles:go,data:{}}),fo=(Jt._12("qrk-toolbar",po,I,{},{},[]),["[_nghost-%COMP%]{opacity:0;position:fixed;left:0;bottom:0;z-index:1100;width:300px;transform:translateY(100%);transition-property:all;transition-duration:.3s;background-color:#bbb}.open[_nghost-%COMP%]{opacity:1;transform:translateY(0);box-shadow:2px 2px 25px rgba(0,0,0,.9)}"]),bo=function(){function e(e,t,n,i,o){this.configService=e,this.variantService=t,this.routeService=n,this.pageService=i,this.el=o,this.subscribeEvents()}return e.prototype.ngAfterViewChecked=function(){this.addEllipsis(this.el.nativeElement.getElementsByClassName("articleTitle")[0]),this.addEllipsis(this.el.nativeElement.getElementsByClassName("articleDescription")[0])},e.prototype.subscribeEvents=function(){this.pageService.currentPageChangedEvent.subscribe(this.makeArticleActive.bind(this))},e.prototype.makeArticleActive=function(e){var t=this.el.nativeElement;this.articleID===this.getArticleId(e)?t.classList.add("active"):t.classList.remove("active")},e.prototype.goToArticle=function(){this.routeService.navigateToPage(this.index)},e.prototype.setArticlePage=function(e){var t=this.configService.getTocConfig().tocNonHtml;this.index=e.index,this.title=t.showHTMLTitle?e.article.titleHtml:e.article.title,this.showDescription=t.showDescription,this.description=this.showDescription?e.article.abstract:"",this.showImage=t.showImage,this.image=this.showImage?e.thumbnail:"",this.articleID=this.getArticleId(e);var n=this.el.nativeElement.getElementsByClassName("articleTitle")[0],i=parseInt(window.getComputedStyle(n).lineHeight,10);n.style.maxHeight=i*t.titleLines+"px";var o=this.el.nativeElement.getElementsByClassName("articleDescription")[0];this.showDescription&&this.description?(i=parseInt(window.getComputedStyle(o).lineHeight,10),o.style.maxHeight=i*t.descriptionLines+"px"):o.style.display="none"},e.prototype.getArticleId=function(e){return e&&e.article&&e.article.id},e.prototype.addEllipsis=function(e){var t=e.innerHTML.split(" ");if(t.length>1)for(;t.length&&e.scrollHeight>e.offsetHeight;)t.pop(),e.innerHTML=t.join(" ")+"...";else e.classList.add("preventOverflow")},e.ctorParameters=function(){return[{type:hn},{type:Pi},{type:En},{type:Rn},{type:Jt.o}]},e}(),mo=function(){function e(e,t){this.viewContainerRef=e,this.componentFactoryResolver=t}return e.prototype.ngOnInit=function(){},e.prototype.setSection=function(e){this.section=e,0!==this.section.colour.indexOf("#")&&(this.section.colour="#"+this.section.colour),this.articleFactory=this.componentFactoryResolver.resolveComponentFactory(bo),this.createArticleViews()},e.prototype.createArticleViews=function(){var e,t=this,n=this;this.section.pages.forEach(function(i,o){if("advert"!==i.article.type&&e!==i.article.id){n.article.createComponent(t.articleFactory).instance.setArticlePage(i),e=i.article.id}})},e.ctorParameters=function(){return[{type:Jt._0},{type:Jt.l}]},e}(),yo=function(){function e(e,t,n,i,o,r){this.viewContainerRef=e,this.componentFactoryResolver=t,this.issueService=n,this.analyticsService=i,this.tocService=o,this.el=r}return e.prototype.ngOnInit=function(){this.subscribeEvents()},e.prototype.ngOnDestroy=function(){this.unsubscribeEvents()},e.prototype.subscribeEvents=function(){this.tocShowEvent=this.tocService.tocShowEvent.subscribe(this.onShow.bind(this))},e.prototype.unsubscribeEvents=function(){this.tocShowEvent.unsubscribe()},e.prototype.onShow=function(){this.analyticsService.trackPageView({page:this.issueService.getCurrentIssueMetadataModel().getIssueUrnID()+"/Common/Common/Contents",title:"Application Page - Contents"})},e.prototype.setVariant=function(e){this.createSections(e.singleSections)},e.prototype.setTop=function(e){this.el.nativeElement.style.top=e,this.el.nativeElement.style.height="calc(100% - "+e+")"},e.prototype.createSections=function(e){var t=this.componentFactoryResolver.resolveComponentFactory(mo);Object.keys(e).length>1&&this.hasContentSection(e)&&delete e[un.SECTION.DEFAULT_NAME];for(var n in e)if(n){var i=this.section.createComponent(t);i.instance.setSection(e[n])}},e.prototype.hasContentSection=function(e){return void 0!==e[un.SECTION.DEFAULT_NAME]},e.ctorParameters=function(){return[{type:Jt._0},{type:Jt.l},{type:Cn},{type:Hn},{type:$i},{type:Jt.o}]},e}(),_o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),wo=function(e){function t(t,n,i,o,r,l,s,a,u,c){var h=e.call(this,n,i,o,a,l,r,s,u,t)||this;return h.el=t,h.sanitizer=n,h.issueService=i,h.analyticsService=o,h.pageService=r,h.widgetService=l,h.browserService=s,h.configService=a,h.platformBridgeService=u,h.tocService=c,h.top=0,h.bottom=0,h}return _o(t,e),t.prototype.ngOnInit=function(){var e=this.configService;this.setTitle("TOC_"+this.pageModel.index),this.bottom=e.isToolbarEnabled()?parseInt(e.getToolbarConfig().height,10):0,this.subscribeEvents(),this.setDefaultDimensions()},t.prototype.subscribeEvents=function(){this.tocShowEvent=this.tocService.tocShowEvent.subscribe(this.onScreen.bind(this)),this.tocHideEvent=this.tocService.tocHideEvent.subscribe(this.offScreen.bind(this))},t.prototype.subscribeResizeEvent=function(){this.resizeEvent=this.browserService.resizeEvent.subscribe(this.layout.bind(this))},t.prototype.unsubscribeResizeEvent=function(){this.resizeEvent&&(this.resizeEvent.unsubscribe(),this.resizeEvent=void 0)},t.prototype.unsubscribeEvents=function(){this.tocShowEvent&&(this.tocShowEvent.unsubscribe(),this.tocShowEvent=void 0),this.tocHideEvent&&(this.tocHideEvent.unsubscribe(),this.tocHideEvent=void 0),this.resizeEvent&&(this.resizeEvent.unsubscribe(),this.resizeEvent=void 0)},t.prototype.onScreen=function(){this.layout(),e.prototype.onScreen.call(this,this.frameWindow),this.subscribeResizeEvent()},t.prototype.offScreen=function(){e.prototype.offScreen.call(this,this.frameWindow,!1),this.unsubscribeResizeEvent(),this.subscribeEvents()},t.prototype.trackPageEvent=function(){this.analyticsService.trackPageView({page:this.issueService.getCurrentIssueMetadataModel().getIssueUrnID()+"/TOC/"+this.pageModel.article.id+"/0",title:"Application Page - Contents"})},t.prototype.layout=function(){var e,t,n,i=Math.round(.95*window.innerWidth),o=1,r=e=window.innerHeight-(this.bottom+this.top),l=this.pageModel.height,s=this.pageModel.width;this.pageModel.responsive?(this.el.nativeElement.style.width=i+"px",this.setHeight(this.updateTocHeight.bind(this)),l=parseInt(this._pageHeight,10),s=t=i):(o=i/s,o<1?(l*=o,r/=o):o=1,t=s*o),n="top:"+this.top+"px;height:"+r+"px;width:"+s+"px;transform:scale("+o+");transform-origin:top left",this.el.nativeElement.style.cssText!==n&&(this.el.nativeElement.style.cssText=n),e=Math.min(l,e),this.tocService.updateLayout({height:e,width:t})},t.prototype.setMinimumHeight=function(){},t.prototype.updateTocHeight=function(){var e=window.innerHeight-(this.bottom+this.top);e=Math.min(parseInt(this._pageHeight,10),e),this.tocService.updateLayout({height:e})},t.prototype.setVariant=function(e){this.pageModel=e.tocPages[0],this._pageUrl=this.sanitizer.bypassSecurityTrustResourceUrl(this.pageModel.url)},t.prototype.setTop=function(e){this.top=parseInt(e,10)},t.prototype.ngOnDestroy=function(){e.prototype.offScreen.call(this,this.frameWindow),this.unsubscribeResizeEvent(),this.unsubscribeEvents()},t.ctorParameters=function(){return[{type:Jt.o},{type:tn.c},{type:Cn},{type:Hn},{type:Rn},{type:ki},{type:Un},{type:hn},{type:Ti},{type:$i}]},t}(Ii),So=function(){function e(e,t,n){this.el=e,this.tocService=t,this.translateService=n}return e.prototype.ngOnInit=function(){this.el.nativeElement.getElementsByTagName("button")[0].setAttribute("aria-label",this.translateService.localize("hide"))},e.prototype.setHeight=function(e){this.el.nativeElement.style.height=e},e.prototype.setTitle=function(e){this.title=e},e.prototype.hideToc=function(){this.tocService.toggle()},e.ctorParameters=function(){return[{type:Jt.o},{type:$i},{type:Fn}]},e}(),Eo=function(){function e(e,t,n,i,o,r,l,s,a){this.tocService=e,this.translateService=t,this.pageListService=n,this.componentFactoryResolver=i,this.variantService=o,this.toolbarService=r,this.el=l,this.routeService=s,this.configService=a,this.bannerHeight="0px",this.subscribeEvents(),this.showInitially=this.configService.isTocVisibleInitially()}return e.prototype.subscribeEvents=function(){this.toolbarHideEvent=this.toolbarService.toolbarHideEvent.subscribe(this.hide.bind(this)),this.tocToggleEvent=this.tocService.tocToggleEvent.subscribe(this.toggle.bind(this)),this.variantChangedEvent=this.variantService.variantChangedEvent.subscribe(this.updateToc.bind(this)),this.pageListViewLoadedEvent=this.pageListService.pageListViewLoadedEvent.subscribe(this.subscribePageChangeEvent.bind(this))},e.prototype.subscribePageChangeEvent=function(){this.pageNavigateEvent=this.routeService.pageNavigateEvent.subscribe(this.hide.bind(this))},e.prototype.unsubscribeEvents=function(){this.toolbarHideEvent&&(this.toolbarHideEvent.unsubscribe(),this.toolbarHideEvent=void 0),this.tocToggleEvent&&(this.tocToggleEvent.unsubscribe(),this.tocToggleEvent=void 0),this.variantChangedEvent&&(this.variantChangedEvent.unsubscribe(),this.variantChangedEvent=void 0),this.pageListViewLoadedEvent&&(this.pageListViewLoadedEvent.unsubscribe(),this.pageListViewLoadedEvent=void 0),this.pageNavigateEvent&&(this.pageNavigateEvent.unsubscribe(),this.pageNavigateEvent=void 0)},e.prototype.subscribeEventsForHtmlToc=function(){this.tocService.tocLayoutEvent.subscribe(this.setDimension.bind(this))},e.prototype.setDimension=function(e){var t=this.el.nativeElement;e.height&&(t.style.height=e.height+parseInt(this.bannerHeight,10)+"px"),e.width&&(t.style.width=e.width+"px")},e.prototype.updateToc=function(e){this.hostedComponent&&(this.hide(),this.hostedComponent.destroy()),this.canCreateToc(e)?(this.createToc(e),this.tocService.available()):this.tocService.unavailable()},e.prototype.createToc=function(e){var t,n,i=this,o=this.configService.getTocConfig();this.toolbarHeight=this.configService.getToolbarConfig().height,o.banner&&void 0===this.bannerComponent&&(this.bannerHeight=o.bannerHeight,this.createBanner(this.bannerHeight,e.tocPages)),e.tocPages.length?(t=this.componentFactoryResolver.resolveComponentFactory(wo),this.subscribeEventsForHtmlToc()):(t=this.componentFactoryResolver.resolveComponentFactory(yo),this.el.nativeElement.style.height="calc( 100% - "+this.toolbarHeight+")"),this.hostedComponent=this.toc.createComponent(t),n=this.hostedComponent.instance,n.setVariant(e),n.setTop(this.bannerHeight),this.showInitially&&(this.showInitially=!1,setTimeout(function(){return i.show(!0)}))},e.prototype.canCreateToc=function(e){return e.tocPages.length||this.canCreateLegacyToc(e)},e.prototype.canCreateLegacyToc=function(e){var t=e.singleSections;return Object.keys(t).length>1||1===Object.keys(t).length&&!this.hasContentSection(e)||1===Object.keys(t).length&&this.hasContentSection(e)&&Object.keys(e.articles).length>1},e.prototype.createBanner=function(e,t){var n=this.componentFactoryResolver.resolveComponentFactory(So);this.bannerComponent=this.banner.createComponent(n);var i=t.length?t[0]:void 0,o=this.translateService.localize("table-of-contents");i&&i.article&&""!==i.article.title&&"..."!==i.article.title&&(o=i.article.title),this.bannerComponent.instance.setHeight(e),this.bannerComponent.instance.setTitle(o)},e.prototype.hasContentSection=function(e){return void 0!==e.singleSections[un.SECTION.DEFAULT_NAME]},e.prototype.toggle=function(){this.open?this.hide():this.show()},e.prototype.show=function(e){this.open||(this.open=!0,this.el.nativeElement.style.bottom=this.toolbarHeight,this.tocService.show(),e||this.toolbarService.itemShow(),this.subscribeToolbarItemShowEvent())},e.prototype.hide=function(){this.open&&(this.open=!1,this.el.nativeElement.style.bottom="0px",this.tocService.hide(),this.unsubscribeToolbarItemShowEvent())},e.prototype.subscribeToolbarItemShowEvent=function(){this.toolbarItemShowEvent=this.toolbarService.toolbarItemShowEvent.subscribe(this.hide.bind(this))},e.prototype.unsubscribeToolbarItemShowEvent=function(){this.toolbarItemShowEvent&&(this.toolbarItemShowEvent.unsubscribe(),this.toolbarItemShowEvent=void 0)},e.prototype.ngOnDestroy=function(){this.unsubscribeEvents()},e.ctorParameters=function(){return[{type:$i},{type:Fn},{type:Si},{type:Jt.l},{type:Pi},{type:Ri},{type:Jt.o},{type:En},{type:hn}]},e}(),Co=[fo],Po=Jt._14({encapsulation:0,styles:Co,data:{}}),Oo=(Jt._12("qrk-toc",Eo,N,{},{},[]),["#loaderScreen[_ngcontent-%COMP%]{position:fixed;width:100%;height:100%;display:block;z-index:1200}#loaderScreen[_ngcontent-%COMP%]   #loadingLogo[_ngcontent-%COMP%]{text-align:center;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}#loaderScreen[_ngcontent-%COMP%]   #loadingLogo[_ngcontent-%COMP%]   #loadingImage[_ngcontent-%COMP%]{max-height:50vh;max-width:100%}"]),ko=function(){function e(){this.loaderShowEvent=new Jt.q,this.loaderHideEvent=new Jt.q}return e.prototype.showLoader=function(){this.loaderShowEvent.emit()},e.prototype.hideLoader=function(){this.loaderHideEvent.emit()},e.ctorParameters=function(){return[]},e}(),To=function(){function e(e,t){this.configService=e,this.loaderService=t,this.loaderAnimation=!0,this.imageOpacity=1,this.messageMarginTop="",this.loaderDisplay="none",this.loadingMessageColor="",this.loadingBackgroundColor=""}return e.prototype.ngOnInit=function(){this.configLoader(),this.subscribeEvents()},e.prototype.subscribeEvents=function(){this.showLoaderObserver=this.loaderService.loaderShowEvent.subscribe(this.showLoader.bind(this)),this.hideLoaderObserver=this.loaderService.loaderHideEvent.subscribe(this.hideLoader.bind(this))},e.prototype.unsubscribeEvents=function(){this.showLoaderObserver&&(this.showLoaderObserver.unsubscribe(),this.showLoaderObserver=void 0),this.hideLoaderObserver&&(this.hideLoaderObserver.unsubscribe(),this.hideLoaderObserver=void 0)},e.prototype.configLoader=function(){var e=this.configService.getLoadingConfig();this.loaderImageSrc=e.image,this.loadingMessageColor=e.color,this.loadingBackgroundColor=e.backgroundColor},e.prototype.onLoad=function(e){this.loaderDisplay="block"},e.prototype.onError=function(){this.imageOpacity=0,this.loaderDisplay="block"},e.prototype.showLoader=function(){this.loaderAnimation=!0},e.prototype.hideLoader=function(){this.loaderAnimation=!1},e.prototype.ngOnDestroy=function(){this.unsubscribeEvents()},e.ctorParameters=function(){return[{type:hn},{type:ko}]},e}(),Mo=[Oo],Io=Jt._14({encapsulation:0,styles:Mo,data:{animation:[{type:7,name:"loaderAnimation",definitions:[{type:0,name:"true",styles:{type:6,styles:{opacity:1,display:"block"},offset:null},options:void 0},{type:0,name:"false",styles:{type:6,styles:{opacity:0,display:"none"},offset:null},options:void 0},{type:1,expr:"0 => 1",animation:{type:4,styles:null,timings:"0s"},options:null},{type:1,expr:"1 => 0",animation:{type:4,styles:null,timings:".5s"},options:null}],options:{}}]}}),xo=(Jt._12("qrk-loader",To,F,{},{},[]),[".modalView[_ngcontent-%COMP%]{width:100%;height:100%;position:fixed;top:0;left:0;display:none;z-index:2000}.modalView[_ngcontent-%COMP%]   .modalBackground[_ngcontent-%COMP%]{background-color:#000;opacity:.7}.modalView[_ngcontent-%COMP%]   .dummyContainer[_ngcontent-%COMP%], .modalView[_ngcontent-%COMP%]   .modalBackground[_ngcontent-%COMP%]{position:fixed;top:0;right:0;bottom:0;left:0}.modalView[_ngcontent-%COMP%]   .dummyContainer[_ngcontent-%COMP%]   .popupHolder[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.loadingWrapper[_ngcontent-%COMP%]{position:fixed;-ms-flex-align:center;align-items:center;top:50%;left:50%;z-index:3000;background-color:rgba(0,0,0,.5)}.loader[_ngcontent-%COMP%], .loadingWrapper[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex}.loader[_ngcontent-%COMP%]{margin:0 auto;border:6px solid #f3f3f3;border-top:6px solid #3498db;border-radius:50%;width:50px;height:50px;animation:spin 1s linear infinite}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.mv-closeButtonHolder[_ngcontent-%COMP%]{margin-left:10px;margin-right:-2px;margin-top:2px;display:block}.mv-close[_ngcontent-%COMP%]{margin-top:3px;display:block;float:left;width:26px;height:24px;fill:#fff}"]),Ao=function(){function e(e,t){this.el=e,this.browserService=t,this.IMAGE_SIZE_MULTIPLIER=.95,this.loaderDisplay="",this.modalViewDisplay="",this.popupHolderMargin=""}return e.prototype.openImage=function(e){this.popupHolderMargin=50*(1-this.IMAGE_SIZE_MULTIPLIER)+"%",this.imageEl=this.el.nativeElement.getElementsByTagName("img")[0],this.imageEl.src=e,this.loaderDisplay=this.modalViewDisplay="block",this.keyupEvent=this.browserService.keyupEvent.subscribe(this.onKeyup.bind(this))},e.prototype.unsubscribeEvents=function(){this.keyupEvent&&(this.keyupEvent.unsubscribe(),this.keyupEvent=void 0)},e.prototype.onLoad=function(e){var t=this.el.nativeElement.getElementsByClassName("zoom-widget")[0],n=t.offsetWidth,i=t.offsetHeight,o=this.imageEl.offsetWidth,r=this.imageEl.offsetHeight,l=n/o,s=i/r;this.imageEl.className=l>s?"height-fit":"width-fit",this.loaderDisplay="none";var a=this.browserService.isTouchEnabledDevice();this._scrollInstance=new IScroll(".zoom-widget",{zoom:!0,zoomMax:100,scrollX:!0,scrollY:!0,mouseWheel:!0,wheelAction:"zoom",HWCompositing:!1,disablePointer:a,disableTouch:!a}),this.scrollHandler=this.scroll.bind(this),window.addEventListener("scroll",this.scrollHandler),this.windowScrollY=window.scrollY,this.windowScrollX=window.scrollX},e.prototype.scroll=function(){window.scrollTo(this.windowScrollX,this.windowScrollY)},e.prototype.onKeyup=function(e){this.browserService.isEscapeKeyPressed(e)&&this.removeView()},e.prototype.removeView=function(){this._scrollInstance&&this._scrollInstance.destroy(),this.keyupEvent&&(this.keyupEvent.unsubscribe(),this.keyupEvent=void 0),window.removeEventListener("scroll",this.scrollHandler),this.imageEl.src="",this.imageEl.className="",this.modalViewDisplay="none",this.viewRef.destroy()},e.prototype.onClick=function(e){this.browserService.isTouchEnabledDevice()&&!this.browserService.isTouchEnabledDesktop()||this.onModalClick(e)},e.prototype.onTouch=function(e){this.onModalClick(e)},e.prototype.onModalClick=function(e){(e.target.classList.contains("dummyContainer")||e.target.classList.contains("popupHolder"))&&this.removeView()},e.prototype.ngOnDestroy=function(){this.unsubscribeEvents()},e.ctorParameters=function(){return[{type:Jt.o},{type:Un}]},e}(),Lo=function(){function e(e,t,n,i,o){this.el=e,this.variantService=t,this.pageService=n,this.videoStateService=i,this.browserService=o,this.modalViewDisplay="",this.loaderDisplay="",this.videoViewDisplay=""}return e.prototype.playVideo=function(e){this.videoEl=this.el.nativeElement.getElementsByTagName("video")[0],this.loaderDisplay=this.modalViewDisplay="block";var t=e.split("?");if(t.length>1){var n=this.getConfig(t[1]);this.videoEl.loop="true"===n.loop,this.videoEl.controls="true"===n.controls}this.videoEl.src=e,this.videoEl.play(),this.videoEl.autoplay=!0,this.subscribeEvents()},e.prototype.getConfig=function(e){var t=e.split("&"),n={};return t.forEach(function(e){var t=e.split("=");n[t[0]]=t[1]}),n},e.prototype.subscribeEvents=function(){this.keyupEvent=this.browserService.keyupEvent.subscribe(this.onKeyup.bind(this)),this.videoEl.onloadedmetadata=this.onLoadedMetadata.bind(this),this.variantChangedEvent=this.variantService.variantChangedEvent.subscribe(this.removeView.bind(this)),this.currentPageChangedEvent=this.pageService.currentPageChangedEvent.subscribe(this.removeView.bind(this))},e.prototype.unsubscribeEvents=function(){this.fullscreenEvent&&(this.fullscreenEvent.unsubscribe(),this.fullscreenEvent=void 0),this.keyupEvent&&(this.keyupEvent.unsubscribe(),this.keyupEvent=void 0),this.videoEl&&this.videoEl.onloadedmetadata&&(this.videoEl.onloadedmetadata=void 0),this.variantChangedEvent&&(this.variantChangedEvent.unsubscribe(),this.variantChangedEvent=void 0),this.currentPageChangedEvent&&(this.currentPageChangedEvent.unsubscribe(),this.currentPageChangedEvent=void 0)},e.prototype.onLoadedMetadata=function(){this.videoViewDisplay="block",this.loaderDisplay="none",this.videoEl.style.width="80%";var e=this.videoEl.videoWidth,t=this.videoEl.videoHeight;e>0&&t>0&&(this.videoEl.style.maxWidth=e+"px",this.videoEl.style.maxHeight=t+"px"),this.videoStateService.videoStarted()},e.prototype.removeView=function(e){this.videoEl.pause&&this.videoEl.pause(),this.videoStateService.videoStopped(),this.videoEl.src="",this.videoViewDisplay="none",this.modalViewDisplay="none",this.viewRef.destroy()},e.prototype.onKeyup=function(e){this.browserService.isEscapeKeyPressed(e)&&this.removeView()},e.prototype.onClick=function(e){this.browserService.isTouchEnabledDevice()&&!this.browserService.isTouchEnabledDesktop()||this.onModalClick(e)},e.prototype.onTouch=function(e){this.onModalClick(e)},e.prototype.onModalClick=function(e){(e.target.classList.contains("dummyContainer")||e.target.classList.contains("popupHolder"))&&this.removeView()},e.prototype.ngOnDestroy=function(){this.unsubscribeEvents()},e.ctorParameters=function(){return[{type:Jt.o},{type:Pi},{type:Rn},{type:Ci},{type:Un}]},e}(),No=function(){function e(e,t){this.el=e,this.browserService=t,this.modalViewDisplay=""}return e.prototype.openGeolocation=function(e){this.modalViewDisplay="block",this.mapEl=this.el.nativeElement.getElementsByTagName("agm-map")[0],this.setStyles();var t=e.match(/-?\d+?.\d+/g);this.lat=parseFloat(t[0]),this.lng=parseFloat(t[1]),this.subscribeEvents()},e.prototype.subscribeEvents=function(){this.resizeEvent=this.browserService.resizeEvent.subscribe(this.onResize.bind(this)),this.keyupEvent=this.browserService.keyupEvent.subscribe(this.onKeyup.bind(this))},e.prototype.unsubscribeEvents=function(){this.resizeEvent&&(this.resizeEvent.unsubscribe(),this.resizeEvent=void 0),this.keyupEvent&&(this.keyupEvent.unsubscribe(),this.keyupEvent=void 0)},e.prototype.setStyles=function(){this.mapEl.style.width=.8*window.innerWidth+"px",this.mapEl.style.height=.8*window.innerHeight+"px"},e.prototype.onResize=function(e){var t=this;this.setStyles(),this.agmMap.triggerResize().then(function(){return t.agmMap._mapsWrapper.setCenter({lat:t.lat,lng:t.lng})})},e.prototype.removeView=function(){this.viewRef.destroy(),this.modalViewDisplay="none"},e.prototype.onKeyup=function(e){this.browserService.isEscapeKeyPressed(e)&&this.removeView()},e.prototype.onClick=function(e){this.browserService.isTouchEnabledDevice()&&!this.browserService.isTouchEnabledDesktop()||this.onModalClick(e)},e.prototype.onTouch=function(e){this.onModalClick(e)},e.prototype.onModalClick=function(e){(e.target.classList.contains("dummyContainer")||e.target.classList.contains("popupHolder"))&&this.removeView()},e.prototype.ngOnDestroy=function(){this.unsubscribeEvents()},e.ctorParameters=function(){return[{type:Jt.o},{type:Un}]},e}(),Do=function(){function e(e,t,n){this.widgetService=e,this.viewContainerRef=t,this.componentFactoryResolver=n}return e.prototype.ngOnInit=function(){this.subscribeEvents()},e.prototype.subscribeEvents=function(){this.popupVideoEvent=this.widgetService.popupVideoEvent.subscribe(this.initVideoView.bind(this)),this.openImageEvent=this.widgetService.openImageEvent.subscribe(this.initImageView.bind(this)),this.openGeolocationEvent=this.widgetService.openGeolocationEvent.subscribe(this.initGeolocationView.bind(this))},e.prototype.unsubscribeEvents=function(){this.popupVideoEvent&&(this.popupVideoEvent.unsubscribe(),this.popupVideoEvent=void 0),this.openImageEvent&&(this.openImageEvent.unsubscribe(),this.openImageEvent=void 0),this.openGeolocationEvent&&(this.openGeolocationEvent.unsubscribe(),this.openGeolocationEvent=void 0)},e.prototype.initVideoView=function(e){var t=this.componentFactoryResolver.resolveComponentFactory(Lo),n=this.dynamicContainer.createComponent(t);n.instance.playVideo(e),n.instance.viewRef=n},e.prototype.initImageView=function(e){var t=this.componentFactoryResolver.resolveComponentFactory(Ao),n=this.dynamicContainer.createComponent(t);n.instance.openImage(e),n.instance.viewRef=n},e.prototype.initGeolocationView=function(e){var t=this.componentFactoryResolver.resolveComponentFactory(No),n=this.dynamicContainer.createComponent(t);n.instance.openGeolocation(e),n.instance.viewRef=n},e.prototype.ngOnDestroy=function(){this.unsubscribeEvents()},e.ctorParameters=function(){return[{type:ki},{type:Jt._0},{type:Jt.l}]},e}(),Fo=[xo],Ro=Jt._14({encapsulation:0,styles:Fo,data:{}}),Ho=(Jt._12("qrk-modal-view",Do,z,{},{},[]),["[_nghost-%COMP%]{position:absolute;height:42px;padding:0;display:none;z-index:-100;background-color:#f9f9f9}[_nghost-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:32px;color:#fff}[_nghost-%COMP%]   .icon[_ngcontent-%COMP%]:active, [_nghost-%COMP%]   .icon[_ngcontent-%COMP%]:hover{color:rgba(0,173,239,.8)}[_nghost-%COMP%]   .play-button-surround[_ngcontent-%COMP%]{border-radius:50%;border:1px solid #bbb;background:linear-gradient(0deg,#f9f9f9,#efefef);width:50px;height:50px;margin-top:-5px;margin-left:-40px;position:absolute;z-index:990px}[_nghost-%COMP%]   .play-button-surround[_ngcontent-%COMP%]   .play-button[_ngcontent-%COMP%]{border-radius:50%;border:.5px solid hsla(0,0%,71%,.8);box-sizing:border-box;width:86%;height:88%;margin:6.5%;position:absolute;z-index:1010}[_nghost-%COMP%]   .play-button-surround[_ngcontent-%COMP%]   .play-button[_ngcontent-%COMP%]   .play-glyph[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:39px;width:39px}[_nghost-%COMP%]   .play-button-surround[_ngcontent-%COMP%]   .play-button[_ngcontent-%COMP%]   .play-glyph.isPlaying[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:45px}[_nghost-%COMP%]   .play-button-surround[_ngcontent-%COMP%]   .play-button[_ngcontent-%COMP%]:hover{background-color:#e2e2e2}[_nghost-%COMP%]   .play-button-surround[_ngcontent-%COMP%]   .play-button[_ngcontent-%COMP%]:active   svg[_ngcontent-%COMP%], [_nghost-%COMP%]   .play-button-surround[_ngcontent-%COMP%]   .play-button[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{fill:rgba(0,173,239,.8)}[_nghost-%COMP%]   .controls[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{float:left}[_nghost-%COMP%]   .controls[_ngcontent-%COMP%]{height:40px;border-left:none}[_nghost-%COMP%]   .controls[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%]{opacity:.4}[_nghost-%COMP%]   .controls[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%]:active, [_nghost-%COMP%]   .controls[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%]:hover{color:#fff}[_nghost-%COMP%]   .controls.tooltip[_ngcontent-%COMP%]{font-size:14px;line-height:18.62px;text-align:center;border-radius:1px;color:#222;border:1px solid #ccc;background-image:linear-gradient(#f9f9f9,#efefef);position:relative;padding:0;border-left:none}[_nghost-%COMP%]   .controls[_ngcontent-%COMP%]   .move-button[_ngcontent-%COMP%]{line-height:36px;margin-left:20px}[_nghost-%COMP%]   .controls[_ngcontent-%COMP%]   .move-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:39px}[_nghost-%COMP%]   .controls[_ngcontent-%COMP%]   .move-button[_ngcontent-%COMP%]:active   svg[_ngcontent-%COMP%], [_nghost-%COMP%]   .controls[_ngcontent-%COMP%]   .move-button[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{fill:rgba(0,173,239,.8)}[_nghost-%COMP%]   .controls[_ngcontent-%COMP%]   .move-button[_ngcontent-%COMP%] + .move-button[_ngcontent-%COMP%]{margin-left:12px;margin-right:0}[_nghost-%COMP%]   .controls[_ngcontent-%COMP%]   .scrubber[_ngcontent-%COMP%]{width:155px;height:40px;margin:0 12px 0 20px;position:relative}[_nghost-%COMP%]   .controls[_ngcontent-%COMP%]   .scrubber[_ngcontent-%COMP%]   .scrubber-ticks[_ngcontent-%COMP%]{height:4px;margin:18px 0;float:left}[_nghost-%COMP%]   .controls[_ngcontent-%COMP%]   .scrubber[_ngcontent-%COMP%]   .scrubber-ticks.left[_ngcontent-%COMP%]{background-color:#00adef;width:0}[_nghost-%COMP%]   .controls[_ngcontent-%COMP%]   .scrubber[_ngcontent-%COMP%]   .scrubber-ticks.right[_ngcontent-%COMP%]{background-color:gray;width:100%}[_nghost-%COMP%]   .controls[_ngcontent-%COMP%]   .scrubber[_ngcontent-%COMP%]   .scrubber-handle[_ngcontent-%COMP%]{border-radius:50%;border:1px solid #888;background-color:#ddd;width:16px;height:16px;margin:12px 0 12px -8px;position:absolute;z-index:1000;left:0}[_nghost-%COMP%]   .controls[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{font-size:11px;line-height:38px;margin-right:14px;color:#444}.show[_nghost-%COMP%]{display:block;z-index:2000;right:0}"]),zo=function(){function e(e){this.playing=!1,this.audioUrl="",this.currentDuration=0,this.totalDuration=0,this.updateScrubber=!0,this.trackNumber=0,this.audioUrl=e||""}return e}(),Vo=function(){function e(e,t,n,i,o,r,l){this.el=e,this.widgetService=t,this.configService=n,this.browserService=i,this.toolbarService=o,this.variantService=r,this.globalAudioService=l,this.currentAudioTrack=0,this.audioTracks=[],this.show=!1}return e.prototype.ngOnInit=function(){if(this.isNonTouchEnabledDevice=!this.browserService.isTouchEnabledDevice()||this.browserService.isTouchEnabledDesktop(),this.audioEl=this.el.nativeElement.getElementsByTagName("audio")[0],this.isNonTouchEnabledDevice){var e=this.configService,t=e.isToolbarEnabled()?parseInt(e.getToolbarConfig().height,10):0;this.el.nativeElement.style.bottom=t+"px",this.addEventsOnElement()}this.model=new zo,this.subscribeEvents()},e.prototype.subscribeEvents=function(){this.globalAudioEvent=this.widgetService.globalAudioEvent.subscribe(this.addAudioTrack.bind(this)),this.variantChangedEvent=this.variantService.variantChangedEvent.subscribe(this.onVariantChange.bind(this)),this.isNonTouchEnabledDevice&&(this.toggleEvent=this.globalAudioService.globalAudioToggleEvent.subscribe(this.toggleView.bind(this)),this.toolbarHideEvent=this.toolbarService.toolbarHideEvent.subscribe(this.hideView.bind(this)))},e.prototype.unsubscribeEvents=function(){this.variantChangedEvent&&(this.variantChangedEvent.unsubscribe(),this.variantChangedEvent=void 0),this.toolbarHideEvent&&(this.toolbarHideEvent.unsubscribe(),this.toolbarHideEvent=void 0),this.toggleEvent&&(this.toggleEvent.unsubscribe(),this.toggleEvent=void 0),this.globalAudioEvent&&(this.globalAudioEvent.unsubscribe(),this.globalAudioEvent=void 0)},e.prototype.addEventsOnElement=function(){this.audioEl.addEventListener("timeupdate",this.updateTime.bind(this)),this.audioEl.addEventListener("loadedmetadata",this.loadedmetadata.bind(this))},e.prototype.addAudioTrack=function(e){if(this.audioTracks.length<1||void 0===this.getIndexFromTrackList(e)){var t=new zo(e);t.trackNumber=this.audioTracks.length,this.audioTracks.push(t),this.playAudio(t)}else if(this.model.audioUrl===e)this.togglePlay();else{var n=this.getIndexFromTrackList(e);void 0!==n&&this.playAudio(this.audioTracks[n])}},e.prototype.getIndexFromTrackList=function(e){var t;return this.audioTracks.every(function(n,i){return n.audioUrl!==e||(t=i,!1)}),t},e.prototype.onVariantChange=function(){this.audioTracks=[],this.model=new zo,this.audioEl.src=""},e.prototype.playAudio=function(e){if(void 0===e)return void console.log("no audio track model passed in");var t=e.audioUrl,n=this;e.totalTracks=this.audioTracks.length,this.setModel(e),"string"==typeof t&&(this.audioEl.src=t);var i=this.audioEl.play();void 0!==i&&i.then(function(){n.model.playing=!0}).catch(function(e){console.log(e)})},e.prototype.pauseAudio=function(){this.audioEl.pause(),this.model.playing=!1},e.prototype.togglePlay=function(){this.model.audioUrl&&(this.model.playing=!this.model.playing,this.toggleAudio())},e.prototype.toggleAudio=function(){this.audioEl.paused?this.audioEl.play():this.audioEl.pause()},e.prototype.nextTrack=function(){if(this.model.audioUrl){var e=this.getIndexFromTrackList(this.model.audioUrl);++e,this.audioTracks[e]&&this.playAudio(this.audioTracks[e])}},e.prototype.prevTrack=function(){if(this.model.audioUrl){var e=this.getIndexFromTrackList(this.model.audioUrl);--e,this.audioTracks[e]&&this.playAudio(this.audioTracks[e])}},e.prototype.updateTime=function(e){var t=e.target.currentTime;try{this.model.currentDuration=t,this.updateProgressBar(),this.model.currentDuration===this.model.totalDuration&&(this.model.playing=!1)}catch(e){}},e.prototype.loadedmetadata=function(e){var t=e.target.duration;this.model.totalDuration=t},e.prototype.setModel=function(e){this.model&&this.audioEl.pause(),this.model=e},e.prototype.updateProgressBar=function(){var e=Math.floor(Number(this.model.currentDuration)/Number(this.model.totalDuration)*100),t=this.getScrubberHandleElement();return this.el.nativeElement.getElementsByClassName("scrubber-ticks left")[0].style.width=e+"%",this.el.nativeElement.getElementsByClassName("scrubber-ticks right")[0].style.width=100-e+"%",this.model.updateScrubber?t.style.left=e+"%":t.style.left=100*this.percX+"%",this},e.prototype.showView=function(){this.show=!0,this.globalAudioService.didShow(),this.toolbarService.itemShow(),this.subscribeToolbarItemShowEvent()},e.prototype.hideView=function(){this.show=!1,this.globalAudioService.didHide(),this.unsubscribeToolbarItemShowEvent()},e.prototype.toggleView=function(){this.el.nativeElement.classList.contains("show")?this.hideView():this.showView()},e.prototype.subscribeToolbarItemShowEvent=function(){this.toolbarItemShowEvent=this.toolbarService.toolbarItemShowEvent.subscribe(this.hideView.bind(this))},e.prototype.unsubscribeToolbarItemShowEvent=function(){this.toolbarItemShowEvent&&(this.toolbarItemShowEvent.unsubscribe(),this.toolbarItemShowEvent=void 0)},e.prototype.clickNext=function(){this.nextTrack()},e.prototype.clickPrev=function(){this.prevTrack()},e.prototype.clickPlay=function(){this.togglePlay()},e.prototype.clickScrubber=function(e){var t=!1;if(""!==this.model.audioUrl){this.model.playing&&(t=!0,this.togglePlay());var n=this.getScrubberElement(),i=e.pageX-n.getBoundingClientRect().x;this.percX=i/n.clientWidth,this.model.updateScrubber=!0,this.model.currentDuration=this.model.totalDuration*this.percX,this.updateAudioTime(),t&&this.togglePlay()}},e.prototype.scrubberStartMove=function(e){var t=this;""!==this.model.audioUrl&&(this.mouseUp=ln.Observable.fromEvent(window,"mouseup").subscribe(function(e){t.scrubberEndMove(e)}),this.mouseMove=ln.Observable.fromEvent(window,"mousemove").subscribe(function(e){t.scrubberMove(e)}),this.mouseLeave=ln.Observable.fromEvent(this.el.nativeElement,"mouseleave").subscribe(function(e){t.scrubberEndMove(e)}),this.model.updateScrubber=!1)},e.prototype.scrubberMove=function(e){var t=this.getScrubberHandleElement(),n=this.getScrubberElement(),i=n.clientWidth,o=e.pageX-n.getBoundingClientRect().x;o<0&&(o=0),o>i&&(o=i),this.percX=o/i,t.style.left=o},e.prototype.scrubberEndMove=function(e){this.mouseUp.unsubscribe(),this.mouseUp=void 0,this.mouseMove.unsubscribe(),this.mouseMove=void 0,this.mouseLeave.unsubscribe(),this.mouseLeave=void 0,this.model.updateScrubber=!0,this.model.currentDuration=this.model.totalDuration*this.percX,this.updateAudioTime()},e.prototype.getScrubberElement=function(){return this.el.nativeElement.getElementsByClassName("scrubber")[0]},e.prototype.getScrubberHandleElement=function(){return this.el.nativeElement.getElementsByClassName("scrubber-handle")[0]},e.prototype.updateAudioTime=function(){this.audioEl.currentTime=this.model.currentDuration},e.prototype.timeStringFromSeconds=function(e){return Math.floor(e/60)+":"+this.numberZero(Math.floor(e%60))},e.prototype.numberZero=function(e){return e<0?e>-10?"0"+e:e.toString():e<10?"0"+e:e.toString()},e.prototype.ngOnDestroy=function(){this.unsubscribeEvents()},e.ctorParameters=function(){return[{type:Jt.o},{type:ki},{type:hn},{type:Un},{type:Ri},{type:Pi},{type:so}]},e}(),qo=[Ho],Uo=Jt._14({encapsulation:0,styles:qo,data:{}}),Wo=(Jt._12("qrk-global-audio",Vo,U,{},{},[]),function(){function e(e,t,n,i,o,r,l,s,a,u,c){this.route=e,this.pageService=t,this.routeService=n,this.issueService=i,this.variantService=o,this.configService=r,this.pageFitService=l,this.analyticsService=s,this.publicationService=a,this.notificationService=u,this.loaderService=c,console.log("Inside WebReaderComponent")}return e.prototype.ngOnInit=function(){this.mode=this.configService.getDefaultFitMode(),this.tocEnabled=this.configService.isTocEnabled(),this.toolbarEnabled=this.configService.isToolbarEnabled(),this.storeEnabled=this.configService.isStoreEnabled(),this.subscribeEvents()},e.prototype.subscribeEvents=function(){var e=this;this.variantChangedEvent=this.variantService.variantChangedEvent.subscribe(this.changeVariant.bind(this)),this.routeEvent=this.route.params.subscribe(function(t){var n=t.issue;e.pageNumber=parseInt(t.pageNumber,10);var i=e.issueService.getCurrentIssueMetadataModel();e.storeEnabled?void 0!==i&&i.id===n||e.loadIssue(n):void 0===i&&e.loadIssue(n)}),this.pageFitModeChangedEvent=this.pageFitService.pageFitModeChangedEvent.subscribe(this.updateFitMode.bind(this)),this.currentPageChangedEvent=this.pageService.currentPageChangedEvent.subscribe(this.trackPage.bind(this))},e.prototype.loadIssue=function(e){var t=this.storeEnabled?this.publicationService.getIssueMetaModelForId(e):this.publicationService.getFirstIssue();t?this.fetchIssueObserver=this.issueService.fetchIssue(t).subscribe(this.parseIssue.bind(this)):this.notificationService.alwaysShow("issue-no-content")},e.prototype.unsubscribeEvents=function(){this.fetchIssueObserver&&(this.fetchIssueObserver.unsubscribe(),this.fetchIssueObserver=void 0),this.variantChangedEvent&&(this.variantChangedEvent.unsubscribe(),this.variantChangedEvent=void 0),this.routeEvent&&(this.routeEvent.unsubscribe(),this.routeEvent=void 0),this.pageFitModeChangedEvent&&(this.pageFitModeChangedEvent.unsubscribe(),this.pageFitModeChangedEvent=void 0),this.currentPageChangedEvent&&(this.currentPageChangedEvent.unsubscribe(),this.currentPageChangedEvent=void 0)},e.prototype.parseIssue=function(e){console.log("Issue Json loaded Successfully",e),this.variantService.setVariants(e.variantModels),this.variantService.getVariants().length>0?this.variantService.getAppropriateVariant():this.storeEnabled?(this.hideLoader(),this.routeService.navigateToStore(),this.notificationService.show("issue-no-content")):this.notificationService.alwaysShow("issue-no-content")},e.prototype.trackPage=function(e){var t=this.issueService.getCurrentIssueMetadataModel();this.analyticsService.trackIssueViewEvent({urnID:t.getIssueUrnID(),multiVariant:t.isMultiVariant()}),this.analyticsService.trackPageView({page:window.location.href}),this.currentPageChangedEvent.unsubscribe(),this.currentPageChangedEvent=void 0},e.prototype.changeVariant=function(e){this.showLoader(),this.spreadView=e.facing,this.pages=e.pages,0===this.pages.length&&this.notificationService.show("issue-no-content")},e.prototype.updateFitMode=function(e){this.mode=e},e.prototype.showLoader=function(){this.frameLoadedEvent=this.pageService.frameLoadedEvent.subscribe(this.hideLoader.bind(this)),this.loaderService.showLoader()},e.prototype.hideLoader=function(){this.loaderService.hideLoader(),this.frameLoadedEvent&&(this.frameLoadedEvent.unsubscribe(),this.frameLoadedEvent=void 0)},e.prototype.ngOnDestroy=function(){this.unsubscribeEvents()},e.ctorParameters=function(){return[{type:Sn.a},{type:Rn},{type:En},{type:Cn},{type:Pi},{type:hn},{type:Wi},{type:Hn},{type:Gn},{type:jn},{type:ko}]},e}()),Bo=[],jo=Jt._14({encapsulation:2,styles:Bo,data:{}}),Go=Jt._12("qrk-webreader",Wo,X,{},{},[]),Xo=["[_nghost-%COMP%]{display:block;max-height:100%;position:fixed;top:0;bottom:0;left:0;right:0;overflow:hidden;margin-top:auto;margin-bottom:auto}.current[_nghost-%COMP%]{z-index:1000;position:relative}.iframeWrapper[_ngcontent-%COMP%]{margin:auto;overflow:hidden;-webkit-overflow-scrolling:touch}.iframeWrapper[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{transform-origin:top left;display:block}.loadingWrapper[_ngcontent-%COMP%]{position:fixed;width:100%;height:100%;-ms-flex-align:center;align-items:center;top:0;z-index:10;background-color:rgba(0,0,0,.5)}.loader[_ngcontent-%COMP%], .loadingWrapper[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex}.loader[_ngcontent-%COMP%]{margin:0 auto;border:16px solid #f3f3f3;border-top:16px solid #3498db;border-radius:50%;width:50px;height:50px;animation:spin 1s linear infinite}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}"],Yo=[Xo],Zo=Jt._14({encapsulation:0,styles:Yo,data:{animation:[{type:7,name:"none",definitions:[{type:0,name:"next",styles:{type:6,styles:{opacity:0,visibility:"hidden"},offset:null},options:void 0},{type:0,name:"previous",styles:{type:6,styles:{opacity:0,visibility:"hidden"},offset:null},options:void 0},{type:0,name:"current",styles:{type:6,styles:{opacity:1,visibility:"visible"},offset:null},options:void 0},{type:1,expr:"next <=> current",animation:[{type:4,styles:null,timings:"0ms ease-out"}],options:null},{type:1,expr:"current <=> previous",animation:[{type:4,styles:null,timings:"0ms ease-out"}],options:null}],options:{}},{type:7,name:"fade",definitions:[{type:0,name:"next",styles:{type:6,styles:{opacity:0,visibility:"hidden",position:"relative"},offset:null},options:void 0},{type:0,name:"previous",styles:{type:6,styles:{opacity:0,visibility:"hidden",position:"relative"},offset:null},options:void 0},{type:0,name:"current",styles:{type:6,styles:{opacity:1,visibility:"visible",position:"relative"},offset:null},options:void 0},{type:1,expr:"next <=> current",animation:[{type:4,styles:null,timings:"1000ms ease-in-out"}],options:null},{type:1,expr:"current <=> previous",animation:[{type:4,styles:null,timings:"1000ms ease-in-out"}],options:null}],options:{}},{type:7,name:"slide",definitions:[{type:0,name:"next",styles:{type:6,styles:{transform:"translateX(100%)"},offset:null},options:void 0},{type:0,name:"previous",styles:{type:6,styles:{transform:"translateX(-100%)"},offset:null},options:void 0},{type:0,name:"current",styles:{type:6,styles:{transform:"translateX(0)"},offset:null},options:void 0},{type:1,expr:"next <=> current",animation:[{type:4,styles:null,timings:"600ms ease-out"}],options:null},{type:1,expr:"current <=> previous",animation:[{type:4,styles:null,timings:"600ms ease-out"}],options:null}],options:{}}]}}),Ko=Jt._12("qrk-reader-page",Ii,oe,{pageModel:"pageModel",mode:"mode",scale:"scale",state:"state"},{animationOutput:"animationOutput"},[]),Qo=[],$o=Jt._14({encapsulation:2,styles:Qo,data:{}}),Jo=Jt._12("qrk-full-screen",Vi,se,{},{},[]),er=[],tr=Jt._14({encapsulation:2,styles:er,data:{}}),nr=Jt._12("qrk-page-fit",ji,ce,{},{},[]),ir=["[_nghost-%COMP%]{-ms-flex:20;flex:20}.scrubber-wrapper[_ngcontent-%COMP%]{height:100%;display:-ms-flexbox;display:flex}.scrubber-bar[_ngcontent-%COMP%]{-ms-flex:1;flex:1;height:100%;margin:0 0 0 12px}.scrubber-bar[_ngcontent-%COMP%]:hover{pointer-events:none}.home-button[_ngcontent-%COMP%]{width:46px;-ms-flex-preferred-size:46px;flex-basis:46px;display:block}.ticks[_ngcontent-%COMP%]{height:100%;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.page-numbers[_ngcontent-%COMP%]{font-size:12px;-ms-flex-preferred-size:70px;flex-basis:70px;padding:12px;margin:auto;font-weight:700;text-align:center}.scrubber-thumb.dragging[_ngcontent-%COMP%]{pointer-events:none;transition:none}.scrubber-thumb[_ngcontent-%COMP%]{pointer-events:auto;border-radius:50%;transition-duration:.2s;transition-property:all;width:22px;height:22px;box-shadow:0 2px 2px rgba(0,0,0,.2);z-index:2;position:absolute}"],or=[ir],rr=Jt._14({encapsulation:0,styles:or,data:{}}),lr=Jt._12("qrk-scrubber",Qi,ge,{},{},[]),sr=["[_nghost-%COMP%]{pointer-events:auto;-ms-flex:1;flex:1;height:20px}.tick[_ngcontent-%COMP%]{position:relative;height:3px;top:calc(50% - 2.5px)}"],ar=[sr],ur=Jt._14({encapsulation:0,styles:ar,data:{}}),cr=Jt._12("qrk-tick",Ki,fe,{},{},[]),hr=["[_nghost-%COMP%]{transform:translateY(500px);position:absolute;bottom:50px;left:0;right:0;opacity:0;overflow:hidden;pointer-events:none;z-index:-1;font-size:12px;line-height:14px;color:#fff;font-weight:400;box-sizing:content-box;transition:none}.show[_nghost-%COMP%]{transform:translate(0);opacity:1;pointer-events:auto}.touch[_nghost-%COMP%]   .scrubber-timeline-list[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}.scrubber-timeline-list[_ngcontent-%COMP%]{transition:transform .5s;transform-style:preserve-3d;transition-timing-function:ease;white-space:nowrap;padding:0 0 0 20px}"],pr=[hr],dr=Jt._14({encapsulation:0,styles:pr,data:{}}),gr=Jt._12("qrk-timeline",Zi,ye,{},{},[]),vr=["[_nghost-%COMP%]{padding:5px;display:inline-block;margin-right:20px}.thumbnail-group-title[_ngcontent-%COMP%]{margin:5px 0;font-size:13px}.thumbnail-list[_ngcontent-%COMP%]{padding:8px 0 0 0;border-width:8px;border-top-style:solid}h5[_ngcontent-%COMP%]{margin:0 0 5px 0}"],fr=[vr],br=Jt._14({encapsulation:0,styles:fr,data:{}}),mr=Jt._12("qrk-timeline-thumbnail-group",Yi,Se,{},{},[]),yr=["[_nghost-%COMP%]{display:inline-block;margin:0 20px 0 0}[_nghost-%COMP%]:last-child{margin:0}img[_ngcontent-%COMP%]{opacity:.5}.current[_nghost-%COMP%]   img[_ngcontent-%COMP%], .hover[_nghost-%COMP%]   img[_ngcontent-%COMP%], [_nghost-%COMP%]:hover   img[_ngcontent-%COMP%], html.touch   [_nghost-%COMP%]   img[_ngcontent-%COMP%], img[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{opacity:1}.current[_nghost-%COMP%]   img[_ngcontent-%COMP%]{border-width:3px;border-style:solid;box-sizing:border-box}span[_ngcontent-%COMP%]{width:125px;display:block;overflow:hidden;text-overflow:ellipsis;line-height:1.4em}.margin[_ngcontent-%COMP%]{margin:30px}.error[_ngcontent-%COMP%]{overflow:hidden;display:inline-block;border-width:1px;border-style:solid}"],_r=[yr],wr=Jt._14({encapsulation:0,styles:_r,data:{}}),Sr=Jt._12("qrk-timeline-thumbnail",Xi,Ce,{},{},[]),Er=[],Cr=Jt._14({encapsulation:2,styles:Er,data:{}}),Pr=Jt._12("qrk-toc-button",eo,ke,{},{},[]),Or=["[_nghost-%COMP%]{position:relative;width:100%;overflow-x:hidden;overflow-y:auto;-webkit-overflow-scrolling:touch}[_nghost-%COMP%], iframe[_ngcontent-%COMP%]{display:block}"],kr=[Or],Tr=Jt._14({encapsulation:0,styles:kr,data:{}}),Mr=Jt._12("qrk-toc-html",wo,Me,{pageModel:"pageModel",mode:"mode",scale:"scale",state:"state"},{animationOutput:"animationOutput"},[]),Ir=["[_nghost-%COMP%]{width:300px;position:absolute;overflow-y:auto;-webkit-overflow-scrolling:touch}"],xr=[Ir],Ar=Jt._14({encapsulation:0,styles:xr,data:{}}),Lr=Jt._12("qrk-toc-non-html",yo,Ae,{},{},[]),Nr=["[_nghost-%COMP%]{line-height:0}.sectionHeader[_ngcontent-%COMP%]{height:40px;border:none;color:#333;text-transform:capitalize;font-size:12px;margin:0 0 0 0;width:100%;text-align:left;font-weight:700;background-color:#e7e7e7}.sectionItems[_ngcontent-%COMP%]{overflow:hidden;border-left:5px solid}"],Dr=[Nr],Fr=Jt._14({encapsulation:0,styles:Dr,data:{}}),Rr=Jt._12("qrk-toc-section",mo,De,{},{},[]),Hr=["img[_ngcontent-%COMP%]{width:60px;float:left;margin:0 10px 0 0}.no-description[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;margin:0 15px 0 5px}span[_ngcontent-%COMP%]{display:block}.articleTitle[_ngcontent-%COMP%]{font-size:13px;margin-bottom:3px;overflow:hidden;line-height:16px;text-transform:capitalize}.articleDescription[_ngcontent-%COMP%]{font-size:11px;color:#686868;line-height:14px;font-weight:400;overflow:hidden}.preventOverflow[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}button[_ngcontent-%COMP%]{padding:10px;margin:0;border:0;border-radius:0;width:100%;text-align:left;background-color:#d1d1d1;border-top:1px solid #333}[_nghost-%COMP%]:last-child   button[_ngcontent-%COMP%]{border-bottom:1px solid #333}.active[_nghost-%COMP%]   button[_ngcontent-%COMP%]{background-color:#979797}"],zr=[Hr],Vr=Jt._14({encapsulation:0,styles:zr,data:{}}),qr=Jt._12("qrk-toc-article",bo,He,{},{},[]),Ur=["[_nghost-%COMP%]{position:absolute;top:0;left:0;width:100%}span[_ngcontent-%COMP%]{color:#fff;font-size:22px;overflow:hidden;font-weight:700;white-space:nowrap;display:inline-block;vertical-align:middle;text-overflow:ellipsis;width:calc(100% - 60px)}button[_ngcontent-%COMP%]{height:100%;border:none;width:48px;margin:0;padding:14px;background:transparent}"],Wr=[Ur],Br=Jt._14({encapsulation:0,styles:Wr,data:{}}),jr=Jt._12("qrk-toc-banner",So,Ve,{},{},[]),Gr=[],Xr=Jt._14({encapsulation:2,styles:Gr,data:{}}),Yr=Jt._12("qrk-spread",Ui,We,{},{},[]),Zr=[".dummyContainer[_ngcontent-%COMP%]   .popupHolder[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:inherit;height:inherit}.dummyContainer[_ngcontent-%COMP%]   .popupHolder.zoom-widget[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:auto;width:auto;display:block}.dummyContainer[_ngcontent-%COMP%]   .popupHolder.zoom-widget[_ngcontent-%COMP%]   img.width-fit[_ngcontent-%COMP%]{width:100%}.dummyContainer[_ngcontent-%COMP%]   .popupHolder.zoom-widget[_ngcontent-%COMP%]   img.height-fit[_ngcontent-%COMP%]{height:100%}.zoom-widget[_ngcontent-%COMP%]{margin-top:30px!important;background-position:50% 50%;background-size:cover;overflow:hidden}.zoom-widget[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{cursor:move}"],Kr=[xo,Zr],Qr=Jt._14({encapsulation:0,styles:Kr,data:{}}),$r=Jt._12("qrk-zoomable-image",Ao,je,{},{},[]),Jr=["#modelvideo[_ngcontent-%COMP%]{top:0;bottom:0;left:0;right:0;margin:auto;position:absolute;z-index:2000;height:auto}"],el=[xo,Jr],tl=Jt._14({encapsulation:0,styles:el,data:{}}),nl=Jt._12("qrk-popup-video",Lo,Xe,{},{},[]),il=[],ol=Jt._14({encapsulation:2,styles:il,data:{}}),rl=Jt._12("qrk-sharing",lo,Ke,{},{},[]),ll=["[_nghost-%COMP%]{display:none;position:absolute;width:37px}.sharing_icons[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{padding:0;border:0;height:37px;width:37px;display:block}"],sl=[ll],al=Jt._14({encapsulation:0,styles:sl,data:{}}),ul=Jt._12("qrk-sharing-menu",oo,nt,{},{},[]),cl=["agm-map[_ngcontent-%COMP%]{top:0;bottom:0;left:0;right:0;margin:auto;position:absolute;z-index:2000}"],hl=n("9U4N"),pl=n("KdOF"),dl=n("BfPg"),gl=n("dY6p"),vl=n("DCX4"),fl=n("Ds4W"),bl=n("9fk+"),ml=n("mECe"),yl=n("7PDj"),_l=n("wW3n"),wl=n("t+Rn"),Sl=n("57RD"),El=[xo,cl],Cl=Jt._14({encapsulation:0,styles:El,data:{}}),Pl=Jt._12("qrk-geolocation",No,ot,{},{},[]),Ol=[],kl=Jt._14({encapsulation:2,styles:Ol,data:{}}),Tl=Jt._12("qrk-global-audio-button",uo,st,{},{},[]),Ml=[".iframeWrapper[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{transform-origin:right top;position:absolute;left:auto;right:50%}.iframeWrapper[_ngcontent-%COMP%]   iframe.rightOfSpine[_ngcontent-%COMP%]{transform-origin:top left;left:50%;right:auto}"],Il=[Xo,Ml],xl=Jt._14({encapsulation:0,styles:Il,data:{animation:[{type:7,name:"none",definitions:[{type:0,name:"next",styles:{type:6,styles:{opacity:0,visibility:"hidden"},offset:null},options:void 0},{type:0,name:"previous",styles:{type:6,styles:{opacity:0,visibility:"hidden"},offset:null},options:void 0},{type:0,name:"current",styles:{type:6,styles:{opacity:1,visibility:"visible"},offset:null},options:void 0},{type:1,expr:"next <=> current",animation:[{type:4,styles:null,timings:"0ms ease-out"}],options:null},{type:1,expr:"current <=> previous",animation:[{type:4,styles:null,timings:"0ms ease-out"}],options:null}],options:{}},{type:7,name:"fade",definitions:[{type:0,name:"next",styles:{type:6,styles:{opacity:0,visibility:"hidden",position:"relative"},offset:null},options:void 0},{type:0,name:"previous",styles:{type:6,styles:{opacity:0,visibility:"hidden",position:"relative"},offset:null},options:void 0},{type:0,name:"current",styles:{type:6,styles:{opacity:1,visibility:"visible",position:"relative"},offset:null},options:void 0},{type:1,expr:"next <=> current",animation:[{type:4,styles:null,timings:"1000ms ease-in-out"}],options:null},{type:1,expr:"current <=> previous",animation:[{type:4,styles:null,timings:"1000ms ease-in-out"}],options:null}],options:{}},{type:7,name:"slide",definitions:[{type:0,name:"next",styles:{type:6,styles:{transform:"translateX(100%)"},offset:null},options:void 0},{type:0,name:"previous",styles:{type:6,styles:{transform:"translateX(-100%)"},offset:null},options:void 0},{type:0,name:"current",styles:{type:6,styles:{transform:"translateX(0)"},offset:null},options:void 0},{type:1,expr:"next <=> current",animation:[{type:4,styles:null,timings:"600ms ease-out"}],options:null},{type:1,expr:"current <=> previous",animation:[{type:4,styles:null,timings:"600ms ease-out"}],options:null}],options:{}}]}}),Al=Jt._12("qrk-reader-facing-page",Ai,mt,{pageModel:"pageModel",mode:"mode",scale:"scale",state:"state"},{animationOutput:"animationOutput"},[]),Ll=[],Nl=Jt._14({encapsulation:2,styles:Ll,data:{}}),Dl=Jt._12("qrk-store-button",ho,wt,{},{},[]),Fl=["[_nghost-%COMP%]{width:100%;display:block;margin-bottom:30px}[_nghost-%COMP%]   iframe[_ngcontent-%COMP%]{border:none;width:100%}"],Rl=[Fl],Hl=Jt._14({encapsulation:0,styles:Rl,data:{}}),zl=Jt._12("qrk-store-banner",si,Et,{},{},[]),Vl=["qrk-store-issue{border:1px solid #ddd;background:#f4f4f4;float:left;height:100%}qrk-store-issue .thumbnail{position:relative;display:block;padding-bottom:73%;transition:padding .3s ease-out;overflow:hidden}qrk-store-issue .thumbnail a{position:absolute;left:0;top:0;right:0;bottom:0;display:block}qrk-store-issue .thumbnail img{height:100%;width:100%}qrk-store-issue .thumbnail.portrait{padding-bottom:125%}qrk-store-issue .thumbnail.landscape{padding-bottom:73%}qrk-store-issue .info{position:relative;height:61.925px;max-height:61.925px;padding:6px 9px;background-color:#fff}qrk-store-issue .info .h2{font-size:14px;line-height:18.62px;margin-bottom:7px;max-height:37.24px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;color:#4d4d4d;display:block;margin:0;padding:0}qrk-store-issue .info .h2:hover{color:#00adef;cursor:pointer}qrk-store-issue .info .ctrl{position:absolute;right:9px;bottom:9px;font-size:15px}"],ql=[Vl],Ul=Jt._14({encapsulation:2,styles:ql,data:{}}),Wl=Jt._12("qrk-store-issue",li,kt,{},{},[]),Bl=[".promotedIssue{left:0;right:0;height:auto;display:block;margin-bottom:30px}.promotedIssue a.store-link{font-size:16px;line-height:21.28px}.promotedIssue .jumbotron{height:auto;overflow:hidden;position:relative}.promotedIssue .jumbotron .background-container{position:absolute;background-position:50%;background-size:cover;margin-top:-1px;width:101%;height:101%;opacity:.3;filter:blur(9px);pointer-events:none}.promotedIssue .jumbotron .content-container{margin-left:5%;width:90%;height:100%;padding-top:40px}.promotedIssue .jumbotron .content-container .thumbnail{float:left;width:35%;padding-bottom:40px}.promotedIssue .jumbotron .content-container .thumbnail a{position:relative;top:0;left:0;right:0;bottom:0;display:inline-block}.promotedIssue .jumbotron .content-container .thumbnail img{width:100%;vertical-align:bottom}.promotedIssue .jumbotron .content-container .thumbnail.portrait{width:20%}.promotedIssue .jumbotron .content-container .thumbnail.landscape{width:35%}.promotedIssue .jumbotron .content-container .info{width:45%;margin-left:40px;float:left;padding-bottom:40px}.promotedIssue .jumbotron .content-container .info p{margin-bottom:22.4px;font-size:14px;line-height:18.62px}.promotedIssue .jumbotron .content-container .info h2{margin-top:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;font-size:22px;line-height:29.26px}"],jl=[Bl],Gl=Jt._14({encapsulation:2,styles:jl,data:{}}),Xl=Jt._12("qrk-store-promotion",ui,xt,{},{},[]),Yl=["#needwebserver[_ngcontent-%COMP%]{-webkit-font-smoothing:antialiased;display:block}#needwebserver.container[_ngcontent-%COMP%]{position:relative;margin:0 auto;max-width:800px}#needwebserver[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{margin:20% auto 15%;text-align:center;max-width:90%}#needwebserver[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:36px;line-height:1em;font-weight:300;color:#999;margin-bottom:.618em}#needwebserver[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:1.618em;color:#999;margin-bottom:.618em}"],Zl=function(){function e(){this.webserverGuide="",this.webserverGuide="webserver-guide"}return e.ctorParameters=function(){return[]},e}(),Kl=[Yl],Ql=Jt._14({encapsulation:0,styles:Kl,data:{}}),$l=(Jt._12("qrk-webserver",Zl,Lt,{},{},[]),["#unsupported[_ngcontent-%COMP%]{-webkit-font-smoothing:antialiased;display:block}#unsupported.container[_ngcontent-%COMP%]{position:relative;margin:0 auto;max-width:800px}#unsupported[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{margin:20% auto 15%;text-align:center;max-width:55%}#unsupported[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:36px;line-height:1em;font-weight:300;color:#999;margin-bottom:.618em}#unsupported[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:1.618em;color:#999;margin-bottom:.618em}#unsupported[_ngcontent-%COMP%]   .browser[_ngcontent-%COMP%]{float:left;padding:2% 0;width:20%;max-width:160px;min-width:80px;text-align:center;text-decoration:none;color:#999}#unsupported[_ngcontent-%COMP%]   .browser[_ngcontent-%COMP%]:hover{color:#fff}#unsupported[_ngcontent-%COMP%]   .browser[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:71px;height:66px;margin-bottom:5%}#unsupported[_ngcontent-%COMP%]   .browser[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0}#unsupported[_ngcontent-%COMP%]   .load[_ngcontent-%COMP%]{margin:60% auto 5%;max-width:800px}#unsupported[_ngcontent-%COMP%]   .load[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:16px;line-height:1.618em;color:#999;text-align:center}#unsupported[_ngcontent-%COMP%]   .load[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff}"]),Jl=function(){function e(e){this.browserSupportService=e}return e.prototype.loadApp=function(){this.browserSupportService.loadApp()},e.ctorParameters=function(){return[{type:Xn}]},e}(),es=[$l],ts=Jt._14({encapsulation:0,styles:es,data:{}}),ns=(Jt._12("qrk-browser-support",Jl,Dt,{},{},[]),["[_nghost-%COMP%]{position:fixed;left:0;right:0;bottom:0;width:100%;display:-ms-flexbox;display:flex;opacity:0;z-index:10000;overflow:hidden;padding:1em 1.8em;-ms-flex-align:center;align-items:center;box-sizing:border-box;transition:opacity .5s ease;border-top:3px solid #00adef;background-color:#eee}.visible[_nghost-%COMP%]{opacity:1}[_nghost-%COMP%]   .cookieConsentMessage[_ngcontent-%COMP%]{font-size:1.1em;line-height:1.5em;color:#4d4d4d;width:100%;padding-right:10px;text-align:justify;-webkit-text-size-adjust:none}[_nghost-%COMP%]   .cookieConsentButton[_ngcontent-%COMP%]{border:none;height:40px;color:#fff;cursor:pointer;font-size:14px;margin-left:10px;padding:0 20px;border-radius:4px;white-space:nowrap;background:#00adef}@media screen and (max-width:768px){[_nghost-%COMP%]{display:block;padding:1em 1em;text-align:center}[_nghost-%COMP%]   .cookieConsentMessage[_ngcontent-%COMP%]{padding-right:0}[_nghost-%COMP%]   .cookieConsentButton[_ngcontent-%COMP%]{height:36px}}"]),is=function(){function e(e,t,n,i){this.configService=e,this.el=t,this.cookieService=n,this.consentService=i}return e.prototype.ngOnInit=function(){var e=this.configService.getPrivacyPolicyConfig();this.consentMessage=e.cookieBannerMessage,this.consentButtonText=e.cookieAcceptButtonText,e.cookieSource&&(this.consentLinkText=e.cookieUrlButtonText)},e.prototype.onAccept=function(){this.cookieService.set(un.CONSENT_COOKIE,!0,365),this.visible=!1,this.el.nativeElement.addEventListener("transitionend",this.hide.bind(this))},e.prototype.openLink=function(){var e=this.configService.getPrivacyPolicyConfig().cookieSource;-1!==e.indexOf(".zip")&&(e=e.replace(".zip","/cookie-policy.html")),window.open(e,"_blank")},e.prototype.hide=function(){this.consentService.hide()},e.prototype.ngAfterViewInit=function(){this.visible=!0},e.ctorParameters=function(){return[{type:hn},{type:Jt.o},{type:bn},{type:qn}]},e}(),os=[ns],rs=Jt._14({encapsulation:0,styles:os,data:{}}),ls=(Jt._12("qrk-consent",is,Ht,{},{},[]),["#notifications[_ngcontent-%COMP%]   #messageBar[_ngcontent-%COMP%]{width:100%;position:fixed;top:0;z-index:1200;overflow:hidden;background-color:#b4b4b4;color:#f4f4f4;height:36px;display:none;font-size:16px;line-height:36px;text-align:center}#notifications[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{position:fixed;display:none;right:10px;top:0}"]),ss=function(){function e(e){this.notificationService=e,this.displayMessage="",this.closeButtonDisplay="",this.message="",this.subscribeEvents()}return e.prototype.ngOnInit=function(){this.subscribeEvents()},e.prototype.subscribeEvents=function(){this.showNotificationEvent=this.notificationService.showNotificationEvent.subscribe(this.showNotification.bind(this)),this.alwaysShowNotificationEvent=this.notificationService.alwaysShowNotificationEvent.subscribe(this.alwaysShowNotification.bind(this)),this.hideNotificationEvent=this.notificationService.hideNotificationEvent.subscribe(this.hideNotification.bind(this))},e.prototype.alwaysShowNotification=function(e){this.displayMessage=this.closeButtonDisplay="block",this.message=e},e.prototype.showNotification=function(e){var t=this;this.displayMessage="block",this.message=e,setTimeout(function(){t.displayMessage="none"},5e3)},e.prototype.hideNotification=function(){this.displayMessage="none"},e.prototype.unsubscribeEvents=function(){this.showNotificationEvent&&(this.showNotificationEvent.unsubscribe(),this.showNotificationEvent=void 0),this.alwaysShowNotificationEvent&&(this.alwaysShowNotificationEvent.unsubscribe(),this.alwaysShowNotificationEvent=void 0),this.hideNotificationEvent&&(this.hideNotificationEvent.unsubscribe(),this.hideNotificationEvent=void 0)},e.prototype.ngOnDestroy=function(){this.unsubscribeEvents()},e.ctorParameters=function(){return[{type:jn}]},e}(),as=[ls],us=Jt._14({encapsulation:0,styles:as,data:{}}),cs=(Jt._12("qrk-notify",ss,Vt,{},{},[]),['input[_ngcontent-%COMP%]{margin:0 0 .5em 0;padding:.5em 1em;font-size:1em;color:#4d4d4d;background:hsla(0,0%,100%,.92)}.pull-right[_ngcontent-%COMP%]{float:right}.invisible[_ngcontent-%COMP%]{visibility:hidden}.login[_ngcontent-%COMP%]   .popup-content[_ngcontent-%COMP%]{background:#ddd;color:#4d4d4d}.login[_ngcontent-%COMP%]   .popup-content[_ngcontent-%COMP%] > header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;text-align:left;color:#4d4d4d}.login[_ngcontent-%COMP%]   .popup-content[_ngcontent-%COMP%] > .main[_ngcontent-%COMP%]{text-align:left}.login[_ngcontent-%COMP%]   .popup-content[_ngcontent-%COMP%] > .main[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-input-placeholder{color:#888}.login[_ngcontent-%COMP%]   .popup-content[_ngcontent-%COMP%] > .main[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:-moz-placeholder, .login[_ngcontent-%COMP%]   .popup-content[_ngcontent-%COMP%] > .main[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-moz-placeholder{color:#888}.login[_ngcontent-%COMP%]   .popup-content[_ngcontent-%COMP%] > .main[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:-ms-input-placeholder{color:#888}.login[_ngcontent-%COMP%]   .popup-content[_ngcontent-%COMP%] > .main[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%], .login[_ngcontent-%COMP%]   .popup-content[_ngcontent-%COMP%] > .main[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{border:1px solid #c4c3c3;transition:all .125s ease-out}.login[_ngcontent-%COMP%]   .popup-content[_ngcontent-%COMP%] > .main[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]:focus, .login[_ngcontent-%COMP%]   .popup-content[_ngcontent-%COMP%] > .main[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus{border:1px solid #00adef;box-shadow:0 2px 4px hsla(0,0%,40%,.1)}.login[_ngcontent-%COMP%]   .popup-content[_ngcontent-%COMP%] > .main[_ngcontent-%COMP%]   input[type=password].error[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]   .popup-content[_ngcontent-%COMP%] > .main[_ngcontent-%COMP%]   input[type=text].error[_ngcontent-%COMP%]{border:1px solid #e06359;color:#9d261d}.login[_ngcontent-%COMP%]   .popup-content[_ngcontent-%COMP%] > .main[_ngcontent-%COMP%]   input[type=password].error[_ngcontent-%COMP%]:focus, .login[_ngcontent-%COMP%]   .popup-content[_ngcontent-%COMP%] > .main[_ngcontent-%COMP%]   input[type=text].error[_ngcontent-%COMP%]:focus{border:1px solid #e06359;box-shadow:0 2px 4pxpx hsla(0,0%,40%,.3)}.login[_ngcontent-%COMP%]   .popup-content[_ngcontent-%COMP%] > .main[_ngcontent-%COMP%]   input[type=password].noTransition[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]   .popup-content[_ngcontent-%COMP%] > .main[_ngcontent-%COMP%]   input[type=text].noTransition[_ngcontent-%COMP%]{transition:none}.login[_ngcontent-%COMP%]   .popup-content[_ngcontent-%COMP%] > .main[_ngcontent-%COMP%]   input[type=password].flash[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]   .popup-content[_ngcontent-%COMP%] > .main[_ngcontent-%COMP%]   input[type=text].flash[_ngcontent-%COMP%]{transition:all .225s ease-in;transform:scale(1.2)}.login[_ngcontent-%COMP%]   .popup-content[_ngcontent-%COMP%] > .main[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]{text-align:left;font-size:12px}.login[_ngcontent-%COMP%]   .popup-content[_ngcontent-%COMP%] > .main[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:14px}.login[_ngcontent-%COMP%]   .popup-content[_ngcontent-%COMP%] > .main[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]   a.btn[_ngcontent-%COMP%]{font-size:14px;color:#4d4d4d;margin-top:2px;margin-right:1em}.login[_ngcontent-%COMP%]   .popup-content[_ngcontent-%COMP%] > .main[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{min-width:100px;display:inline-block;line-height:30px;color:#009bd6}.login[_ngcontent-%COMP%]   .popup-content[_ngcontent-%COMP%] > .main[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#888}.login[_ngcontent-%COMP%]   .popup-content[_ngcontent-%COMP%] > .main[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{line-height:30px;padding:0 .9em;margin:0;font-weight:400;margin-top:2px;min-width:100px;-webkit-font-smoothing:antialiased}.login[_ngcontent-%COMP%]   .popup-content[_ngcontent-%COMP%] > footer[_ngcontent-%COMP%]{padding:15px 20px;text-align:left;font-size:12px}.login[_ngcontent-%COMP%]   .popup-content[_ngcontent-%COMP%] > footer[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{display:inline-block;color:#4d4d4d;font-size:16px;margin:0}.login[_ngcontent-%COMP%]   .popup-content[_ngcontent-%COMP%] > footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-left:1em;font-size:14px;padding:0 .9em;font-weight:400;min-width:100px}.login[_ngcontent-%COMP%]   .popup-content[_ngcontent-%COMP%] > .main[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]   .popup-content[_ngcontent-%COMP%] > header[_ngcontent-%COMP%]{border-bottom:1px solid #c4c3c3}.login[_ngcontent-%COMP%]   .popup-content[_ngcontent-%COMP%] > .main[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]   .popup-content[_ngcontent-%COMP%] > footer[_ngcontent-%COMP%]{border-top:1px solid #e2e2e2}.login[_ngcontent-%COMP%]   .popup-content[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{opacity:0;max-height:0;padding:0 1em;margin:0;overflow:hidden;transition:opacity .6s ease-in,max-height .6s ease-in,padding .15s ease-in}.login[_ngcontent-%COMP%]   .popup-content[_ngcontent-%COMP%]   .error-message.show[_ngcontent-%COMP%]{opacity:1;max-height:500px;padding:.5em 1em;margin:0 0 1em 0}form[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]{padding:10px 0 0 0}.form-container[_ngcontent-%COMP%]{position:relative;margin:0 0 0 0}.form-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%;margin:0 0 .5em 0}input[type=password][_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%]{border:1px solid #666;padding:.5em 1em;background:hsla(0,0%,100%,.92);transition:all .4s ease-out;color:#4d4d4d;font-family:inherit;font-size:1em}input[type=password][_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-input-placeholder, input[type=text][_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-input-placeholder{color:#ddd}input[type=password][_ngcontent-%COMP%]   [_ngcontent-%COMP%]:-moz-placeholder, input[type=password][_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-moz-placeholder, input[type=text][_ngcontent-%COMP%]   [_ngcontent-%COMP%]:-moz-placeholder, input[type=text][_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-moz-placeholder{color:#ddd}input[type=password][_ngcontent-%COMP%]   [_ngcontent-%COMP%]:-ms-input-placeholder, input[type=text][_ngcontent-%COMP%]   [_ngcontent-%COMP%]:-ms-input-placeholder{color:#ddd}input[type=password][_ngcontent-%COMP%]:focus, input[type=text][_ngcontent-%COMP%]:focus{box-shadow:0 0 8px rgba(0,173,239,.3);border:1px solid #00adef;background:#fff}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{font-family:inherit}.error-message[_ngcontent-%COMP%]{background:#9d261d;color:#fff}.btn[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;cursor:pointer;text-align:center;font-family:inherit;font-weight:400;line-height:2;border-radius:4px;color:#333;padding:0 20px;background-color:#ddd;border:1px solid transparent;color:#4d4d4d}.btn[_ngcontent-%COMP%]:hover{background-color:#e2e2e2;color:#676666}.btn[_ngcontent-%COMP%]:active, .btn[_ngcontent-%COMP%]:hover{border:1px solid #d8d8d8}.btn[_ngcontent-%COMP%]:active{background-color:#d8d8d8}.btn-gray[_ngcontent-%COMP%]{background-color:#eee;border:1px solid transparent;color:#4d4d4d}.btn-gray[_ngcontent-%COMP%]:hover{background-color:#f3f3f3;border:1px solid #e9e9e9;color:#676666}.btn-gray[_ngcontent-%COMP%]:active{background-color:#e9e9e9;border:1px solid #e9e9e9}.btn.btn-submit[_ngcontent-%COMP%]{background-color:#00adef;border:1px solid transparent;color:#fff;-webkit-appearance:unset}.surround[_ngcontent-%COMP%]{margin:0 auto;position:relative;zoom:1}.surround[_ngcontent-%COMP%]:after, .surround[_ngcontent-%COMP%]:before{content:"";display:table}.surround[_ngcontent-%COMP%]:after{clear:both}.popup[_ngcontent-%COMP%]{position:fixed;left:0;top:0;right:0;bottom:0;transition:opacity .3s ease-out;opacity:0;z-index:1111;text-align:center}.popup.popup-open[_ngcontent-%COMP%]{opacity:1}.popup.waiting[_ngcontent-%COMP%]   .popup-content[_ngcontent-%COMP%]{opacity:.9;pointer-events:none}.popup[_ngcontent-%COMP%]:before{content:"";display:inline-block;height:100%;vertical-align:middle;margin-right:-.25em}.popup-content.show[_ngcontent-%COMP%]{top:50%}.popup-back[_ngcontent-%COMP%]{position:fixed;left:0;top:0;right:0;bottom:0;background:rgba(0,0,0,.7)}.popup-back.issue[_ngcontent-%COMP%], .popup-content[_ngcontent-%COMP%]{background:#000}.popup-content[_ngcontent-%COMP%]{width:440px;max-width:90%;top:-50%;left:50%;border-radius:4px;transform:translate(-50%,-50%);color:#ddd;box-shadow:0 2px 4px rgba(0,0,0,.4);transition:all .3s ease-out;position:fixed}.popup-content[_ngcontent-%COMP%] > header[_ngcontent-%COMP%]{margin:0;border-bottom:1px solid #474747}.popup-content[_ngcontent-%COMP%] > header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;text-align:center;margin:0}.popup-content[_ngcontent-%COMP%] > header[_ngcontent-%COMP%], .popup-content[_ngcontent-%COMP%] > section[_ngcontent-%COMP%]{padding:20px 30px}@media (max-width:320px){.login[_ngcontent-%COMP%]   .popup-content[_ngcontent-%COMP%] > footer[_ngcontent-%COMP%]{text-align:center}.login[_ngcontent-%COMP%]   .popup-content[_ngcontent-%COMP%] > footer[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{float:none}}@media (max-width:480px){.button-container[_ngcontent-%COMP%]{width:100%;display:-ms-flexbox;display:flex;-ms-flex-direction:row-reverse;flex-direction:row-reverse}.button-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{-ms-flex:1;flex:1}.password-request[_ngcontent-%COMP%]{float:right;margin-top:1em}}']),hs=function(){function e(e,t,n,i,o,r,l,s){this.el=e,this.authService=t,this.loginService=n,this.routeService=i,this.loaderService=o,this.browserService=r,this.translateService=l,this.configService=s}return e.prototype.ngOnInit=function(){this.loginOpenDialogEvent=this.loginService.loginOpenDialogEvent.subscribe(this.open.bind(this))},e.prototype.reset=function(){this.show=!1,this.showError=!1,this.config=this.configService.getAuthConfig(),this.issueLevelAuth=this.config.level===un.AUTH_LEVEL.ISSUE,this.loginLabel=this.translateService.localize(this.config.loginLabel),this.usernameplaceholder=this.translateService.localize("username"),this.passwordPlaceholder=this.translateService.localize("password"),this.subscribeLabel=this.config.subscribeLabel,this.issueSubscribeLabel="subscribe"===this.subscribeLabel?"issue-login-subscribe":"issue-login-register"},e.prototype.showFieldError=function(e,t){e.classList.add("error"),e.classList.add("flash"),"username"===e.name&&(this.usernameplaceholder=t),"password"===e.name&&(this.passwordPlaceholder=t),setTimeout(function(){e.classList.remove("flash")},200)},e.prototype.open=function(e){var t=this;switch(this.subscribeEvents(),this.reset(),this.display=!0,e.toLowerCase()){case un.LOGIN_TYPES.PUBLICATION:this.title=this.canUseLoginLabel()?"login":"signin";break;case un.LOGIN_TYPES.ISSUE:this.issueLogin=!0,this.title=this.canUseLoginLabel()?"issue-login-title":"issue-signin-title",this.loaderService.hideLoader()}setTimeout(function(){t.show=!0,t.el.nativeElement.getElementsByClassName("usernamefield")[0].focus()})},e.prototype.close=function(e){var t=this;this.issueLogin&&(e&&this.routeService.navigateToStore(),this.issueLogin=!1),this.show=!1,setTimeout(function(){t.display=!1},500)},e.prototype.submit=function(e){e.preventDefault();var t=this.el.nativeElement,n=t.getElementsByClassName("usernamefield")[0],i=t.getElementsByClassName("passwordfield")[0],o={username:n.value,password:i.value};this.showError=!1,n.classList.remove("error"),i.classList.remove("error"),o.username?o.password?this.authService.authenticate(o):this.showFieldError(i,this.translateService.localize("invalid-password")):this.showFieldError(n,this.translateService.localize("invalid-username"))},e.prototype.onAuthenticating=function(e){this.waiting=e,this.canUseLoginLabel()?this.loginLabel=this.translateService.localize(this.waiting?"login-waiting":"login"):"signin"===this.config.loginLabel&&(this.loginLabel=this.translateService.localize(this.waiting?"signin-waiting":"signin"))},e.prototype.onAuthenticated=function(e){e&&this.close(!1)},e.prototype.canUseLoginLabel=function(){return"login"===this.config.loginLabel},e.prototype.authenticationError=function(e){e?(this.showError=!0,this.errorString=e):this.showError=!1},e.prototype.cancel=function(e){e.preventDefault(),this.close(!0)},e.prototype.onKeyup=function(e){this.browserService.isEscapeKeyPressed(e)&&this.cancel(e)},e.prototype.subscribeEvents=function(){this.keyupEvent=this.browserService.keyupEvent.subscribe(this.onKeyup.bind(this)),this.closeLoginDialogEvent=this.loginService.closeLoginDialogEvent.subscribe(this.close.bind(this)),this.authenticationErrorEvent=this.authService.authenticationErrorEvent.subscribe(this.authenticationError.bind(this)),this.authenticatedEvent=this.authService.authenticatedEvent.subscribe(this.onAuthenticated.bind(this)),this.authenticatingChangeEvent=this.authService.authenticatingEvent.subscribe(this.onAuthenticating.bind(this))},e.prototype.unsubscribeEvents=function(){this.closeLoginDialogEvent&&(this.closeLoginDialogEvent.unsubscribe(),this.closeLoginDialogEvent=void 0),this.authenticationErrorEvent&&(this.authenticationErrorEvent.unsubscribe(),this.authenticationErrorEvent=void 0),this.authenticatedEvent&&(this.authenticatedEvent.unsubscribe(),this.authenticatedEvent=void 0),this.authenticatingChangeEvent&&(this.authenticatingChangeEvent.unsubscribe(),this.authenticatingChangeEvent=void 0)},e.prototype.ngOnDestroy=function(){this.loginOpenDialogEvent&&(this.loginOpenDialogEvent.unsubscribe(),this.loginOpenDialogEvent=void 0),this.unsubscribeEvents()},e.ctorParameters=function(){return[{type:Jt.o},{type:Vn},{type:Pn},{type:En},{type:ko},{type:Un},{type:Fn},{type:hn}]},e}(),ps=[cs],ds=Jt._14({encapsulation:0,styles:ps,data:{}}),gs=(Jt._12("qrk-login",hs,Gt,{},{},[]),["[_nghost-%COMP%] {\n      overflow:hidden;\n    }"]),vs=Jt._14({encapsulation:0,styles:gs,data:{}}),fs=Jt._12("qrk-root",Yn,$t,{},{},[]),bs=n("f9zQ"),ms=n("fL27"),ys=n("EyWH"),_s=n("niyx"),ws=n("wvx+"),Ss=n("9mrV"),Es=n("q+Vp"),Cs=n("E2AH"),Ps=Jt._13(fn,[Yn],function(e){return Jt._27([Jt._28(512,Jt.l,Jt._9,[[8,[_i,Go,Ko,Jo,nr,lr,cr,gr,mr,Sr,Pr,Mr,Lr,Rr,qr,jr,Yr,$r,nl,rl,ul,Pl,Tl,Al,Dl,zl,Wl,Xl,fs]],[3,Jt.l],Jt.F]),Jt._28(5120,Jt.B,Jt._26,[[3,Jt.B]]),Jt._28(4608,nn.k,nn.j,[Jt.B]),Jt._28(5120,Jt.c,Jt._18,[]),Jt._28(5120,Jt.z,Jt._24,[]),Jt._28(5120,Jt.A,Jt._25,[]),Jt._28(4608,tn.c,tn.t,[nn.c]),Jt._28(6144,Jt.S,null,[tn.c]),Jt._28(4608,tn.f,vn,[]),Jt._28(5120,tn.d,function(e,t,n,i){return[new tn.l(e),new tn.p(t),new tn.o(n,i)]},[nn.c,nn.c,nn.c,tn.f]),Jt._28(4608,tn.e,tn.e,[tn.d,Jt.H]),Jt._28(135680,tn.n,tn.n,[nn.c]),Jt._28(4608,tn.m,tn.m,[tn.e,tn.n]),Jt._28(5120,bs.a,ms.d,[]),Jt._28(5120,bs.c,ms.e,[]),Jt._28(4608,bs.b,ms.c,[bs.a,bs.c]),Jt._28(5120,Jt.Q,ms.f,[tn.m,bs.b,Jt.H]),Jt._28(6144,tn.q,null,[tn.n]),Jt._28(4608,Jt.Y,Jt.Y,[Jt.H]),Jt._28(4608,tn.h,tn.h,[nn.c]),Jt._28(4608,tn.j,tn.j,[nn.c]),Jt._28(4608,ys.b,ms.b,[Jt.Q,tn.b]),Jt._28(4608,sn.i,sn.n,[nn.c,Jt.K,sn.l]),Jt._28(4608,sn.o,sn.o,[sn.i,sn.m]),Jt._28(5120,sn.a,function(e){return[e]},[sn.o]),Jt._28(4608,sn.k,sn.k,[]),Jt._28(6144,sn.j,null,[sn.k]),Jt._28(4608,sn.h,sn.h,[sn.j]),Jt._28(6144,sn.b,null,[sn.h]),Jt._28(5120,sn.f,sn.p,[sn.b,[2,sn.a]]),Jt._28(4608,sn.c,sn.c,[sn.f]),Jt._28(4608,_s.c,_s.c,[]),Jt._28(4608,_s.b,_s.b,[]),Jt._28(4608,an,an,[sn.c]),Jt._28(4608,hn,hn,[an]),Jt._28(4608,_l.a,ws.b,[ws.a,_s.c,_s.b]),Jt._28(4608,Ss.a,Ss.a,[]),Jt._28(5120,Sn.a,Sn.v,[Sn.k]),Jt._28(4608,Sn.d,Sn.d,[]),Jt._28(6144,Sn.f,null,[Sn.d]),Jt._28(135680,Sn.o,Sn.o,[Sn.k,Jt.E,Jt.j,Jt.x,Sn.f]),Jt._28(4608,Sn.e,Sn.e,[]),Jt._28(5120,Sn.h,Sn.y,[Sn.w]),Jt._28(5120,Jt.b,function(e){return[e]},[Sn.h]),Jt._28(4608,Oi,Oi,[an,hn]),Jt._28(4608,En,En,[Sn.k,hn]),Jt._28(4608,Cn,Cn,[an,En]),Jt._28(4608,Rn,Rn,[Cn]),Jt._28(4608,jn,jn,[]),Jt._28(4608,Ci,Ci,[]),Jt._28(4608,Hn,Hn,[Rn,hn]),Jt._28(4608,Un,Un,[]),Jt._28(4608,Pi,Pi,[Un,hn,Rn,En,Ci]),Jt._28(4608,ki,ki,[En,jn,Ci,Hn,Oi,Pi,hn,Rn]),Jt._28(4608,Si,Si,[]),Jt._28(4608,ti,ti,[Un,Hn]),Jt._28(4608,Gi,Gi,[]),Jt._28(4608,Wi,Wi,[]),Jt._28(4608,$i,$i,[]),Jt._28(4608,Ri,Ri,[]),Jt._28(4608,Ei,Ei,[hn,Un]),Jt._28(4608,to,to,[]),Jt._28(4608,Ti,Ti,[Un,Rn,ki]),Jt._28(4608,so,so,[]),Jt._28(4608,Fn,Fn,[Nn]),Jt._28(4608,Pn,Pn,[]),Jt._28(4608,bn,bn,[]),Jt._28(4608,Vn,Vn,[Sn.k,Fn,Pn,hn,bn,Cn,Hn]),Jt._28(4608,Bn,Bn,[hn]),Jt._28(4608,Gn,Gn,[Vn,an,hn,Bn,jn]),Jt._28(4608,io,io,[hn,Un,Ss.a]),Jt._28(4608,ko,ko,[]),Jt._28(4608,Xn,Xn,[]),Jt._28(4608,qn,qn,[]),Jt._28(512,nn.b,nn.b,[]),Jt._28(1024,Jt.p,tn.r,[]),Jt._28(1024,Jt.G,function(){return[Sn.s()]},[]),Jt._28(512,Sn.w,Sn.w,[Jt.x]),Jt._28(1024,Jt.d,function(e,t,n){return[tn.s(e,t),Sn.x(n)]},[[2,tn.i],[2,Jt.G],Sn.w]),Jt._28(512,Jt.e,Jt.e,[[2,Jt.d]]),Jt._28(131584,Jt._16,Jt._16,[Jt.H,Jt._10,Jt.x,Jt.p,Jt.l,Jt.e]),Jt._28(2048,Jt.g,null,[Jt._16]),Jt._28(512,Jt.f,Jt.f,[Jt.g]),Jt._28(512,tn.a,tn.a,[[3,tn.a]]),Jt._28(512,ms.a,ms.a,[]),Jt._28(512,Es.a,Es.a,[]),Jt._28(512,Cs.a,Cs.a,[]),Jt._28(512,sn.e,sn.e,[]),Jt._28(512,sn.d,sn.d,[]),Jt._28(1024,Sn.r,Sn.t,[[3,Sn.k]]),Jt._28(512,Sn.q,Sn.c,[]),Jt._28(512,Sn.b,Sn.b,[]),Jt._28(512,nn.g,dn,[nn.o,[2,nn.a]]),Jt._28(512,nn.f,nn.f,[nn.g]),Jt._28(512,Jt.j,Jt.j,[]),Jt._28(512,Jt.E,Jt.V,[Jt.j,[2,Jt.W]]),Jt._28(1024,Sn.i,function(){return[[{path:"",component:bi},{path:"store",component:bi},{path:"issue/:pageNumber",component:Wo},{path:"issue/:issue/:pageNumber",component:Wo}]]},[]),Jt._28(256,Sn.g,{useHash:!0},[]),Jt._28(1024,Sn.k,Sn.u,[Jt.g,Sn.q,Sn.b,nn.f,Jt.x,Jt.E,Jt.j,Sn.i,Sn.g,[2,Sn.p],[2,Sn.j]]),Jt._28(512,Sn.m,Sn.m,[[2,Sn.r],[2,Sn.k]]),Jt._28(512,fn,fn,[]),Jt._28(256,sn.l,"XSRF-TOKEN",[]),Jt._28(256,sn.m,"X-XSRF-TOKEN",[]),Jt._28(512,ws.a,gn,[hn]),Jt._28(256,Nn,Dn,[])])});en.production&&(Object(Jt._4)(),window.console.log=function(){}),Object(tn.k)().bootstrapModuleFactory(Ps)},gFIY:function(e,t){function n(e){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+e+"'.")})}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="gFIY"},u9ab:function(e,t,n){"use strict";function i(e){return null===e?"null":void 0===e?"undefined":"object"==typeof e?Array.isArray(e)?"array":"object":typeof e}function o(e){return"object"===i(e)?l(e):"array"===i(e)?r(e):e}function r(e){return e.map(o)}function l(e){const t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=o(e[n]));return t}function s(e,t,n){const o=e||{},a="array"===i(t)?t.length:1;n=n||{};for(var u=0;u<a;u++){const c="array"===i(t)?t[u]:t,h=Object.keys(c);for(var p=0;p<h.length;p++){const d=h[p],g=c[d],v=i(g),f=i(o[d]);if("object"===v)if("undefined"!==f){const b="object"===f?o[d]:{};o[d]=s({},[b,l(g)],n)}else o[d]=l(g);else if("array"===v)if("array"===f){const m=r(g);o[d]="merge"===n.arrayBehaviour?o[d].concat(m):m}else o[d]=r(g);else o[d]=g}}return o}e.exports=function(e,t,n){return s(e,t,n)}}},[0]);